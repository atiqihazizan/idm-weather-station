var ha=Object.defineProperty;var Bi=e=>{throw TypeError(e)};var fa=(e,i,t)=>i in e?ha(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var je=(e,i,t)=>fa(e,typeof i!="symbol"?i+"":i,t),Mr=(e,i,t)=>i.has(e)||Bi("Cannot "+t);var P=(e,i,t)=>(Mr(e,i,"read from private field"),t?t.call(e):i.get(e)),Oe=(e,i,t)=>i.has(e)?Bi("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,t),Se=(e,i,t,l)=>(Mr(e,i,"write to private field"),l?l.call(e,t):i.set(e,t),t),ve=(e,i,t)=>(Mr(e,i,"access private method"),t);var lr=(e,i,t,l)=>({set _(f){Se(e,i,f,t)},get _(){return P(e,i,l)}});var yi=Object.defineProperty,ca=Object.getOwnPropertyDescriptor,da=Object.getOwnPropertyNames,pa=Object.prototype.hasOwnProperty,Ke=(e,i)=>()=>(e&&(i=e(e=0)),i),be=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),qt=(e,i)=>{for(var t in i)yi(e,t,{get:i[t],enumerable:!0})},ga=(e,i,t,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let f of da(i))!pa.call(e,f)&&f!==t&&yi(e,f,{get:()=>i[f],enumerable:!(l=ca(i,f))||l.enumerable});return e},xe=e=>ga(yi({},"__esModule",{value:!0}),e),ae=Ke(()=>{}),Ce={};qt(Ce,{_debugEnd:()=>Rn,_debugProcess:()=>kn,_events:()=>qn,_eventsCount:()=>Hn,_exiting:()=>dn,_fatalExceptions:()=>An,_getActiveHandles:()=>Ts,_getActiveRequests:()=>Is,_kill:()=>bn,_linkedBinding:()=>Ss,_maxListeners:()=>$n,_preload_modules:()=>Fn,_rawDebug:()=>hn,_startProfilerIdleNotifier:()=>On,_stopProfilerIdleNotifier:()=>Cn,_tickCallback:()=>Tn,abort:()=>Mn,addListener:()=>Vn,allowedNodeEnvironmentFlags:()=>En,arch:()=>Gr,argv:()=>Xr,argv0:()=>Dn,assert:()=>ks,binding:()=>sn,chdir:()=>ln,config:()=>pn,cpuUsage:()=>nr,cwd:()=>an,debugPort:()=>jn,default:()=>_i,dlopen:()=>As,domain:()=>cn,emit:()=>Gn,emitWarning:()=>nn,env:()=>Zr,execArgv:()=>en,execPath:()=>Nn,exit:()=>_n,features:()=>Sn,hasUncaughtExceptionCaptureCallback:()=>Rs,hrtime:()=>gr,kill:()=>wn,listeners:()=>Cs,memoryUsage:()=>yn,moduleLoadList:()=>fn,nextTick:()=>vs,off:()=>Kn,on:()=>ct,once:()=>zn,openStdin:()=>vn,pid:()=>Un,platform:()=>Jr,ppid:()=>Ln,prependListener:()=>Jn,prependOnceListener:()=>Zn,reallyExit:()=>gn,release:()=>un,removeAllListeners:()=>Qn,removeListener:()=>Yn,resourceUsage:()=>mn,setSourceMapsEnabled:()=>Wn,setUncaughtExceptionCaptureCallback:()=>In,stderr:()=>Bn,stdin:()=>xn,stdout:()=>Pn,title:()=>Qr,umask:()=>on,uptime:()=>Os,version:()=>tn,versions:()=>rn});function wi(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function ba(){!Ft||!jt||(Ft=!1,jt.length?ut=jt.concat(ut):or=-1,ut.length&&_s())}function _s(){if(!Ft){var e=setTimeout(ba,0);Ft=!0;for(var i=ut.length;i;){for(jt=ut,ut=[];++or<i;)jt&&jt[or].run();or=-1,i=ut.length}jt=null,Ft=!1,clearTimeout(e)}}function vs(e){var i=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)i[t-1]=arguments[t];ut.push(new Es(e,i)),ut.length===1&&!Ft&&setTimeout(_s,0)}function Es(e,i){this.fun=e,this.array=i}function Ge(){}function Ss(e){wi("_linkedBinding")}function As(e){wi("dlopen")}function Is(){return[]}function Ts(){return[]}function ks(e,i){if(!e)throw new Error(i||"assertion error")}function Rs(){return!1}function Os(){return bt.now()/1e3}function gr(e){var i=Math.floor((Date.now()-bt.now())*.001),t=bt.now()*.001,l=Math.floor(t)+i,f=Math.floor(t%1*1e9);return e&&(l=l-e[0],f=f-e[1],f<0&&(l--,f+=br)),[l,f]}function ct(){return _i}function Cs(e){return[]}var ut,Ft,jt,or,Qr,Gr,Jr,Zr,Xr,en,tn,rn,nn,sn,on,an,ln,un,hn,fn,cn,dn,pn,gn,bn,nr,mn,yn,wn,_n,vn,En,Sn,An,In,Tn,kn,Rn,On,Cn,Pn,Bn,xn,Mn,Un,Ln,Nn,jn,Dn,Fn,Wn,bt,Ur,br,$n,qn,Hn,Vn,zn,Kn,Yn,Qn,Gn,Jn,Zn,_i,ma=Ke(()=>{ae(),ue(),le(),ut=[],Ft=!1,or=-1,Es.prototype.run=function(){this.fun.apply(null,this.array)},Qr="browser",Gr="x64",Jr="browser",Zr={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Xr=["/usr/bin/node"],en=[],tn="v16.8.0",rn={},nn=function(e,i){console.warn((i?i+": ":"")+e)},sn=function(e){wi("binding")},on=function(e){return 0},an=function(){return"/"},ln=function(e){},un={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},hn=Ge,fn=[],cn={},dn=!1,pn={},gn=Ge,bn=Ge,nr=function(){return{}},mn=nr,yn=nr,wn=Ge,_n=Ge,vn=Ge,En={},Sn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},An=Ge,In=Ge,Tn=Ge,kn=Ge,Rn=Ge,On=Ge,Cn=Ge,Pn=void 0,Bn=void 0,xn=void 0,Mn=Ge,Un=2,Ln=1,Nn="/bin/usr/node",jn=9229,Dn="node",Fn=[],Wn=Ge,bt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},bt.now===void 0&&(Ur=Date.now(),bt.timing&&bt.timing.navigationStart&&(Ur=bt.timing.navigationStart),bt.now=()=>Date.now()-Ur),br=1e9,gr.bigint=function(e){var i=gr(e);return typeof BigInt>"u"?i[0]*br+i[1]:BigInt(i[0]*br)+BigInt(i[1])},$n=10,qn={},Hn=0,Vn=ct,zn=ct,Kn=ct,Yn=ct,Qn=ct,Gn=Ge,Jn=ct,Zn=ct,_i={version:tn,versions:rn,arch:Gr,platform:Jr,release:un,_rawDebug:hn,moduleLoadList:fn,binding:sn,_linkedBinding:Ss,_events:qn,_eventsCount:Hn,_maxListeners:$n,on:ct,addListener:Vn,once:zn,off:Kn,removeListener:Yn,removeAllListeners:Qn,emit:Gn,prependListener:Jn,prependOnceListener:Zn,listeners:Cs,domain:cn,_exiting:dn,config:pn,dlopen:As,uptime:Os,_getActiveRequests:Is,_getActiveHandles:Ts,reallyExit:gn,_kill:bn,cpuUsage:nr,resourceUsage:mn,memoryUsage:yn,kill:wn,exit:_n,openStdin:vn,allowedNodeEnvironmentFlags:En,assert:ks,features:Sn,_fatalExceptions:An,setUncaughtExceptionCaptureCallback:In,hasUncaughtExceptionCaptureCallback:Rs,emitWarning:nn,nextTick:vs,_tickCallback:Tn,_debugProcess:kn,_debugEnd:Rn,_startProfilerIdleNotifier:On,_stopProfilerIdleNotifier:Cn,stdout:Pn,stdin:xn,stderr:Bn,abort:Mn,umask:on,chdir:ln,cwd:an,env:Zr,title:Qr,argv:Xr,execArgv:en,pid:Un,ppid:Ln,execPath:Nn,debugPort:jn,hrtime:gr,argv0:Dn,_preload_modules:Fn,setSourceMapsEnabled:Wn}}),le=Ke(()=>{ma()}),Ye={};qt(Ye,{Buffer:()=>Sr,INSPECT_MAX_BYTES:()=>Ps,default:()=>dt,kMaxLength:()=>Bs});function ya(){if(Xn)return Yt;Xn=!0,Yt.byteLength=o,Yt.toByteArray=a,Yt.fromByteArray=g;for(var e=[],i=[],t=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,s=l.length;f<s;++f)e[f]=l[f],i[l.charCodeAt(f)]=f;i[45]=62,i[95]=63;function r(b){var m=b.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=b.indexOf("=");y===-1&&(y=m);var A=y===m?0:4-y%4;return[y,A]}function o(b){var m=r(b),y=m[0],A=m[1];return(y+A)*3/4-A}function n(b,m,y){return(m+y)*3/4-y}function a(b){var m,y=r(b),A=y[0],M=y[1],I=new t(n(b,A,M)),v=0,L=M>0?A-4:A,j;for(j=0;j<L;j+=4)m=i[b.charCodeAt(j)]<<18|i[b.charCodeAt(j+1)]<<12|i[b.charCodeAt(j+2)]<<6|i[b.charCodeAt(j+3)],I[v++]=m>>16&255,I[v++]=m>>8&255,I[v++]=m&255;return M===2&&(m=i[b.charCodeAt(j)]<<2|i[b.charCodeAt(j+1)]>>4,I[v++]=m&255),M===1&&(m=i[b.charCodeAt(j)]<<10|i[b.charCodeAt(j+1)]<<4|i[b.charCodeAt(j+2)]>>2,I[v++]=m>>8&255,I[v++]=m&255),I}function c(b){return e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]}function p(b,m,y){for(var A,M=[],I=m;I<y;I+=3)A=(b[I]<<16&16711680)+(b[I+1]<<8&65280)+(b[I+2]&255),M.push(c(A));return M.join("")}function g(b){for(var m,y=b.length,A=y%3,M=[],I=16383,v=0,L=y-A;v<L;v+=I)M.push(p(b,v,v+I>L?L:v+I));return A===1?(m=b[y-1],M.push(e[m>>2]+e[m<<4&63]+"==")):A===2&&(m=(b[y-2]<<8)+b[y-1],M.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),M.join("")}return Yt}function wa(){return ei?ir:(ei=!0,ir.read=function(e,i,t,l,f){var s,r,o=f*8-l-1,n=(1<<o)-1,a=n>>1,c=-7,p=t?f-1:0,g=t?-1:1,b=e[i+p];for(p+=g,s=b&(1<<-c)-1,b>>=-c,c+=o;c>0;s=s*256+e[i+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=l;c>0;r=r*256+e[i+p],p+=g,c-=8);if(s===0)s=1-a;else{if(s===n)return r?NaN:(b?-1:1)*(1/0);r=r+Math.pow(2,l),s=s-a}return(b?-1:1)*r*Math.pow(2,s-l)},ir.write=function(e,i,t,l,f,s){var r,o,n,a=s*8-f-1,c=(1<<a)-1,p=c>>1,g=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:s-1,m=l?1:-1,y=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(o=isNaN(i)?1:0,r=c):(r=Math.floor(Math.log(i)/Math.LN2),i*(n=Math.pow(2,-r))<1&&(r--,n*=2),r+p>=1?i+=g/n:i+=g*Math.pow(2,1-p),i*n>=2&&(r++,n/=2),r+p>=c?(o=0,r=c):r+p>=1?(o=(i*n-1)*Math.pow(2,f),r=r+p):(o=i*Math.pow(2,p-1)*Math.pow(2,f),r=0));f>=8;e[t+b]=o&255,b+=m,o/=256,f-=8);for(r=r<<f|o,a+=f;a>0;e[t+b]=r&255,b+=m,r/=256,a-=8);e[t+b-m]|=y*128},ir)}function _a(){if(ti)return It;ti=!0;let e=ya(),i=wa(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;It.Buffer=r,It.SlowBuffer=M,It.INSPECT_MAX_BYTES=50;let l=2147483647;It.kMaxLength=l,r.TYPED_ARRAY_SUPPORT=f(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{let h=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(h,u),h.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function s(h){if(h>l)throw new RangeError('The value "'+h+'" is invalid for option "size"');let u=new Uint8Array(h);return Object.setPrototypeOf(u,r.prototype),u}function r(h,u,d){if(typeof h=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(h)}return o(h,u,d)}r.poolSize=8192;function o(h,u,d){if(typeof h=="string")return p(h,u);if(ArrayBuffer.isView(h))return b(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(z(h,ArrayBuffer)||h&&z(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(z(h,SharedArrayBuffer)||h&&z(h.buffer,SharedArrayBuffer)))return m(h,u,d);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let w=h.valueOf&&h.valueOf();if(w!=null&&w!==h)return r.from(w,u,d);let T=y(h);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return r.from(h[Symbol.toPrimitive]("string"),u,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}r.from=function(h,u,d){return o(h,u,d)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function n(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function a(h,u,d){return n(h),h<=0?s(h):u!==void 0?typeof d=="string"?s(h).fill(u,d):s(h).fill(u):s(h)}r.alloc=function(h,u,d){return a(h,u,d)};function c(h){return n(h),s(h<0?0:A(h)|0)}r.allocUnsafe=function(h){return c(h)},r.allocUnsafeSlow=function(h){return c(h)};function p(h,u){if((typeof u!="string"||u==="")&&(u="utf8"),!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let d=I(h,u)|0,w=s(d),T=w.write(h,u);return T!==d&&(w=w.slice(0,T)),w}function g(h){let u=h.length<0?0:A(h.length)|0,d=s(u);for(let w=0;w<u;w+=1)d[w]=h[w]&255;return d}function b(h){if(z(h,Uint8Array)){let u=new Uint8Array(h);return m(u.buffer,u.byteOffset,u.byteLength)}return g(h)}function m(h,u,d){if(u<0||h.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<u+(d||0))throw new RangeError('"length" is outside of buffer bounds');let w;return u===void 0&&d===void 0?w=new Uint8Array(h):d===void 0?w=new Uint8Array(h,u):w=new Uint8Array(h,u,d),Object.setPrototypeOf(w,r.prototype),w}function y(h){if(r.isBuffer(h)){let u=A(h.length)|0,d=s(u);return d.length===0||h.copy(d,0,0,u),d}if(h.length!==void 0)return typeof h.length!="number"||O(h.length)?s(0):g(h);if(h.type==="Buffer"&&Array.isArray(h.data))return g(h.data)}function A(h){if(h>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return h|0}function M(h){return+h!=h&&(h=0),r.alloc(+h)}r.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==r.prototype},r.compare=function(h,u){if(z(h,Uint8Array)&&(h=r.from(h,h.offset,h.byteLength)),z(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(h)||!r.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===u)return 0;let d=h.length,w=u.length;for(let T=0,W=Math.min(d,w);T<W;++T)if(h[T]!==u[T]){d=h[T],w=u[T];break}return d<w?-1:w<d?1:0},r.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(h,u){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return r.alloc(0);let d;if(u===void 0)for(u=0,d=0;d<h.length;++d)u+=h[d].length;let w=r.allocUnsafe(u),T=0;for(d=0;d<h.length;++d){let W=h[d];if(z(W,Uint8Array))T+W.length>w.length?(r.isBuffer(W)||(W=r.from(W)),W.copy(w,T)):Uint8Array.prototype.set.call(w,W,T);else if(r.isBuffer(W))W.copy(w,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=W.length}return w};function I(h,u){if(r.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||z(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);let d=h.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&d===0)return 0;let T=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return D(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(h).length;default:if(T)return w?-1:D(h).length;u=(""+u).toLowerCase(),T=!0}}r.byteLength=I;function v(h,u,d){let w=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,u>>>=0,d<=u))return"";for(h||(h="utf8");;)switch(h){case"hex":return H(this,u,d);case"utf8":case"utf-8":return V(this,u,d);case"ascii":return ge(this,u,d);case"latin1":case"binary":return se(this,u,d);case"base64":return S(this,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,u,d);default:if(w)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),w=!0}}r.prototype._isBuffer=!0;function L(h,u,d){let w=h[u];h[u]=h[d],h[d]=w}r.prototype.swap16=function(){let h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<h;u+=2)L(this,u,u+1);return this},r.prototype.swap32=function(){let h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<h;u+=4)L(this,u,u+3),L(this,u+1,u+2);return this},r.prototype.swap64=function(){let h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<h;u+=8)L(this,u,u+7),L(this,u+1,u+6),L(this,u+2,u+5),L(this,u+3,u+4);return this},r.prototype.toString=function(){let h=this.length;return h===0?"":arguments.length===0?V(this,0,h):v.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(h){if(!r.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:r.compare(this,h)===0},r.prototype.inspect=function(){let h="",u=It.INSPECT_MAX_BYTES;return h=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(h+=" ... "),"<Buffer "+h+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(h,u,d,w,T){if(z(h,Uint8Array)&&(h=r.from(h,h.offset,h.byteLength)),!r.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(u===void 0&&(u=0),d===void 0&&(d=h?h.length:0),w===void 0&&(w=0),T===void 0&&(T=this.length),u<0||d>h.length||w<0||T>this.length)throw new RangeError("out of range index");if(w>=T&&u>=d)return 0;if(w>=T)return-1;if(u>=d)return 1;if(u>>>=0,d>>>=0,w>>>=0,T>>>=0,this===h)return 0;let W=T-w,X=d-u,Ae=Math.min(W,X),ke=this.slice(w,T),Re=h.slice(u,d);for(let Ee=0;Ee<Ae;++Ee)if(ke[Ee]!==Re[Ee]){W=ke[Ee],X=Re[Ee];break}return W<X?-1:X<W?1:0};function j(h,u,d,w,T){if(h.length===0)return-1;if(typeof d=="string"?(w=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,O(d)&&(d=T?0:h.length-1),d<0&&(d=h.length+d),d>=h.length){if(T)return-1;d=h.length-1}else if(d<0)if(T)d=0;else return-1;if(typeof u=="string"&&(u=r.from(u,w)),r.isBuffer(u))return u.length===0?-1:R(h,u,d,w,T);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(h,u,d):Uint8Array.prototype.lastIndexOf.call(h,u,d):R(h,[u],d,w,T);throw new TypeError("val must be string, number or Buffer")}function R(h,u,d,w,T){let W=1,X=h.length,Ae=u.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(h.length<2||u.length<2)return-1;W=2,X/=2,Ae/=2,d/=2}function ke(Ee,Te){return W===1?Ee[Te]:Ee.readUInt16BE(Te*W)}let Re;if(T){let Ee=-1;for(Re=d;Re<X;Re++)if(ke(h,Re)===ke(u,Ee===-1?0:Re-Ee)){if(Ee===-1&&(Ee=Re),Re-Ee+1===Ae)return Ee*W}else Ee!==-1&&(Re-=Re-Ee),Ee=-1}else for(d+Ae>X&&(d=X-Ae),Re=d;Re>=0;Re--){let Ee=!0;for(let Te=0;Te<Ae;Te++)if(ke(h,Re+Te)!==ke(u,Te)){Ee=!1;break}if(Ee)return Re}return-1}r.prototype.includes=function(h,u,d){return this.indexOf(h,u,d)!==-1},r.prototype.indexOf=function(h,u,d){return j(this,h,u,d,!0)},r.prototype.lastIndexOf=function(h,u,d){return j(this,h,u,d,!1)};function k(h,u,d,w){d=Number(d)||0;let T=h.length-d;w?(w=Number(w),w>T&&(w=T)):w=T;let W=u.length;w>W/2&&(w=W/2);let X;for(X=0;X<w;++X){let Ae=parseInt(u.substr(X*2,2),16);if(O(Ae))return X;h[d+X]=Ae}return X}function x(h,u,d,w){return U(D(u,h.length-d),h,d,w)}function $(h,u,d,w){return U(F(u),h,d,w)}function G(h,u,d,w){return U(J(u),h,d,w)}function re(h,u,d,w){return U(ne(u,h.length-d),h,d,w)}r.prototype.write=function(h,u,d,w){if(u===void 0)w="utf8",d=this.length,u=0;else if(d===void 0&&typeof u=="string")w=u,d=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(d)?(d=d>>>0,w===void 0&&(w="utf8")):(w=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let T=this.length-u;if((d===void 0||d>T)&&(d=T),h.length>0&&(d<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let W=!1;for(;;)switch(w){case"hex":return k(this,h,u,d);case"utf8":case"utf-8":return x(this,h,u,d);case"ascii":case"latin1":case"binary":return $(this,h,u,d);case"base64":return G(this,h,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,h,u,d);default:if(W)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),W=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(h,u,d){return u===0&&d===h.length?e.fromByteArray(h):e.fromByteArray(h.slice(u,d))}function V(h,u,d){d=Math.min(h.length,d);let w=[],T=u;for(;T<d;){let W=h[T],X=null,Ae=W>239?4:W>223?3:W>191?2:1;if(T+Ae<=d){let ke,Re,Ee,Te;switch(Ae){case 1:W<128&&(X=W);break;case 2:ke=h[T+1],(ke&192)===128&&(Te=(W&31)<<6|ke&63,Te>127&&(X=Te));break;case 3:ke=h[T+1],Re=h[T+2],(ke&192)===128&&(Re&192)===128&&(Te=(W&15)<<12|(ke&63)<<6|Re&63,Te>2047&&(Te<55296||Te>57343)&&(X=Te));break;case 4:ke=h[T+1],Re=h[T+2],Ee=h[T+3],(ke&192)===128&&(Re&192)===128&&(Ee&192)===128&&(Te=(W&15)<<18|(ke&63)<<12|(Re&63)<<6|Ee&63,Te>65535&&Te<1114112&&(X=Te))}}X===null?(X=65533,Ae=1):X>65535&&(X-=65536,w.push(X>>>10&1023|55296),X=56320|X&1023),w.push(X),T+=Ae}return Y(w)}let te=4096;function Y(h){let u=h.length;if(u<=te)return String.fromCharCode.apply(String,h);let d="",w=0;for(;w<u;)d+=String.fromCharCode.apply(String,h.slice(w,w+=te));return d}function ge(h,u,d){let w="";d=Math.min(h.length,d);for(let T=u;T<d;++T)w+=String.fromCharCode(h[T]&127);return w}function se(h,u,d){let w="";d=Math.min(h.length,d);for(let T=u;T<d;++T)w+=String.fromCharCode(h[T]);return w}function H(h,u,d){let w=h.length;(!u||u<0)&&(u=0),(!d||d<0||d>w)&&(d=w);let T="";for(let W=u;W<d;++W)T+=N[h[W]];return T}function me(h,u,d){let w=h.slice(u,d),T="";for(let W=0;W<w.length-1;W+=2)T+=String.fromCharCode(w[W]+w[W+1]*256);return T}r.prototype.slice=function(h,u){let d=this.length;h=~~h,u=u===void 0?d:~~u,h<0?(h+=d,h<0&&(h=0)):h>d&&(h=d),u<0?(u+=d,u<0&&(u=0)):u>d&&(u=d),u<h&&(u=h);let w=this.subarray(h,u);return Object.setPrototypeOf(w,r.prototype),w};function ie(h,u,d){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+u>d)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(h,u,d){h=h>>>0,u=u>>>0,d||ie(h,u,this.length);let w=this[h],T=1,W=0;for(;++W<u&&(T*=256);)w+=this[h+W]*T;return w},r.prototype.readUintBE=r.prototype.readUIntBE=function(h,u,d){h=h>>>0,u=u>>>0,d||ie(h,u,this.length);let w=this[h+--u],T=1;for(;u>0&&(T*=256);)w+=this[h+--u]*T;return w},r.prototype.readUint8=r.prototype.readUInt8=function(h,u){return h=h>>>0,u||ie(h,1,this.length),this[h]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(h,u){return h=h>>>0,u||ie(h,2,this.length),this[h]|this[h+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(h,u){return h=h>>>0,u||ie(h,2,this.length),this[h]<<8|this[h+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(h,u){return h=h>>>0,u||ie(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(h,u){return h=h>>>0,u||ie(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},r.prototype.readBigUInt64LE=q(function(h){h=h>>>0,Z(h,"offset");let u=this[h],d=this[h+7];(u===void 0||d===void 0)&&ye(h,this.length-8);let w=u+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,T=this[++h]+this[++h]*2**8+this[++h]*2**16+d*2**24;return BigInt(w)+(BigInt(T)<<BigInt(32))}),r.prototype.readBigUInt64BE=q(function(h){h=h>>>0,Z(h,"offset");let u=this[h],d=this[h+7];(u===void 0||d===void 0)&&ye(h,this.length-8);let w=u*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],T=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+d;return(BigInt(w)<<BigInt(32))+BigInt(T)}),r.prototype.readIntLE=function(h,u,d){h=h>>>0,u=u>>>0,d||ie(h,u,this.length);let w=this[h],T=1,W=0;for(;++W<u&&(T*=256);)w+=this[h+W]*T;return T*=128,w>=T&&(w-=Math.pow(2,8*u)),w},r.prototype.readIntBE=function(h,u,d){h=h>>>0,u=u>>>0,d||ie(h,u,this.length);let w=u,T=1,W=this[h+--w];for(;w>0&&(T*=256);)W+=this[h+--w]*T;return T*=128,W>=T&&(W-=Math.pow(2,8*u)),W},r.prototype.readInt8=function(h,u){return h=h>>>0,u||ie(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},r.prototype.readInt16LE=function(h,u){h=h>>>0,u||ie(h,2,this.length);let d=this[h]|this[h+1]<<8;return d&32768?d|4294901760:d},r.prototype.readInt16BE=function(h,u){h=h>>>0,u||ie(h,2,this.length);let d=this[h+1]|this[h]<<8;return d&32768?d|4294901760:d},r.prototype.readInt32LE=function(h,u){return h=h>>>0,u||ie(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},r.prototype.readInt32BE=function(h,u){return h=h>>>0,u||ie(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},r.prototype.readBigInt64LE=q(function(h){h=h>>>0,Z(h,"offset");let u=this[h],d=this[h+7];(u===void 0||d===void 0)&&ye(h,this.length-8);let w=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(d<<24);return(BigInt(w)<<BigInt(32))+BigInt(u+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),r.prototype.readBigInt64BE=q(function(h){h=h>>>0,Z(h,"offset");let u=this[h],d=this[h+7];(u===void 0||d===void 0)&&ye(h,this.length-8);let w=(u<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(w)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+d)}),r.prototype.readFloatLE=function(h,u){return h=h>>>0,u||ie(h,4,this.length),i.read(this,h,!0,23,4)},r.prototype.readFloatBE=function(h,u){return h=h>>>0,u||ie(h,4,this.length),i.read(this,h,!1,23,4)},r.prototype.readDoubleLE=function(h,u){return h=h>>>0,u||ie(h,8,this.length),i.read(this,h,!0,52,8)},r.prototype.readDoubleBE=function(h,u){return h=h>>>0,u||ie(h,8,this.length),i.read(this,h,!1,52,8)};function we(h,u,d,w,T,W){if(!r.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>T||u<W)throw new RangeError('"value" argument is out of bounds');if(d+w>h.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(h,u,d,w){if(h=+h,u=u>>>0,d=d>>>0,!w){let X=Math.pow(2,8*d)-1;we(this,h,u,d,X,0)}let T=1,W=0;for(this[u]=h&255;++W<d&&(T*=256);)this[u+W]=h/T&255;return u+d},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(h,u,d,w){if(h=+h,u=u>>>0,d=d>>>0,!w){let X=Math.pow(2,8*d)-1;we(this,h,u,d,X,0)}let T=d-1,W=1;for(this[u+T]=h&255;--T>=0&&(W*=256);)this[u+T]=h/W&255;return u+d},r.prototype.writeUint8=r.prototype.writeUInt8=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,1,255,0),this[u]=h&255,u+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,2,65535,0),this[u]=h&255,this[u+1]=h>>>8,u+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,2,65535,0),this[u]=h>>>8,this[u+1]=h&255,u+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,4,4294967295,0),this[u+3]=h>>>24,this[u+2]=h>>>16,this[u+1]=h>>>8,this[u]=h&255,u+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,4,4294967295,0),this[u]=h>>>24,this[u+1]=h>>>16,this[u+2]=h>>>8,this[u+3]=h&255,u+4};function _(h,u,d,w,T){ee(u,w,T,h,d,7);let W=Number(u&BigInt(4294967295));h[d++]=W,W=W>>8,h[d++]=W,W=W>>8,h[d++]=W,W=W>>8,h[d++]=W;let X=Number(u>>BigInt(32)&BigInt(4294967295));return h[d++]=X,X=X>>8,h[d++]=X,X=X>>8,h[d++]=X,X=X>>8,h[d++]=X,d}function Q(h,u,d,w,T){ee(u,w,T,h,d,7);let W=Number(u&BigInt(4294967295));h[d+7]=W,W=W>>8,h[d+6]=W,W=W>>8,h[d+5]=W,W=W>>8,h[d+4]=W;let X=Number(u>>BigInt(32)&BigInt(4294967295));return h[d+3]=X,X=X>>8,h[d+2]=X,X=X>>8,h[d+1]=X,X=X>>8,h[d]=X,d+8}r.prototype.writeBigUInt64LE=q(function(h,u=0){return _(this,h,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=q(function(h,u=0){return Q(this,h,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(h,u,d,w){if(h=+h,u=u>>>0,!w){let Ae=Math.pow(2,8*d-1);we(this,h,u,d,Ae-1,-Ae)}let T=0,W=1,X=0;for(this[u]=h&255;++T<d&&(W*=256);)h<0&&X===0&&this[u+T-1]!==0&&(X=1),this[u+T]=(h/W>>0)-X&255;return u+d},r.prototype.writeIntBE=function(h,u,d,w){if(h=+h,u=u>>>0,!w){let Ae=Math.pow(2,8*d-1);we(this,h,u,d,Ae-1,-Ae)}let T=d-1,W=1,X=0;for(this[u+T]=h&255;--T>=0&&(W*=256);)h<0&&X===0&&this[u+T+1]!==0&&(X=1),this[u+T]=(h/W>>0)-X&255;return u+d},r.prototype.writeInt8=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,1,127,-128),h<0&&(h=255+h+1),this[u]=h&255,u+1},r.prototype.writeInt16LE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,2,32767,-32768),this[u]=h&255,this[u+1]=h>>>8,u+2},r.prototype.writeInt16BE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,2,32767,-32768),this[u]=h>>>8,this[u+1]=h&255,u+2},r.prototype.writeInt32LE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,4,2147483647,-2147483648),this[u]=h&255,this[u+1]=h>>>8,this[u+2]=h>>>16,this[u+3]=h>>>24,u+4},r.prototype.writeInt32BE=function(h,u,d){return h=+h,u=u>>>0,d||we(this,h,u,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[u]=h>>>24,this[u+1]=h>>>16,this[u+2]=h>>>8,this[u+3]=h&255,u+4},r.prototype.writeBigInt64LE=q(function(h,u=0){return _(this,h,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=q(function(h,u=0){return Q(this,h,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(h,u,d,w,T,W){if(d+w>h.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function _e(h,u,d,w,T){return u=+u,d=d>>>0,T||ce(h,u,d,4),i.write(h,u,d,w,23,4),d+4}r.prototype.writeFloatLE=function(h,u,d){return _e(this,h,u,!0,d)},r.prototype.writeFloatBE=function(h,u,d){return _e(this,h,u,!1,d)};function he(h,u,d,w,T){return u=+u,d=d>>>0,T||ce(h,u,d,8),i.write(h,u,d,w,52,8),d+8}r.prototype.writeDoubleLE=function(h,u,d){return he(this,h,u,!0,d)},r.prototype.writeDoubleBE=function(h,u,d){return he(this,h,u,!1,d)},r.prototype.copy=function(h,u,d,w){if(!r.isBuffer(h))throw new TypeError("argument should be a Buffer");if(d||(d=0),!w&&w!==0&&(w=this.length),u>=h.length&&(u=h.length),u||(u=0),w>0&&w<d&&(w=d),w===d||h.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),h.length-u<w-d&&(w=h.length-u+d);let T=w-d;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,d,w):Uint8Array.prototype.set.call(h,this.subarray(d,w),u),T},r.prototype.fill=function(h,u,d,w){if(typeof h=="string"){if(typeof u=="string"?(w=u,u=0,d=this.length):typeof d=="string"&&(w=d,d=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!r.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(h.length===1){let W=h.charCodeAt(0);(w==="utf8"&&W<128||w==="latin1")&&(h=W)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(u<0||this.length<u||this.length<d)throw new RangeError("Out of range index");if(d<=u)return this;u=u>>>0,d=d===void 0?this.length:d>>>0,h||(h=0);let T;if(typeof h=="number")for(T=u;T<d;++T)this[T]=h;else{let W=r.isBuffer(h)?h:r.from(h,w),X=W.length;if(X===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(T=0;T<d-u;++T)this[T+u]=W[T%X]}return this};let B={};function E(h,u,d){B[h]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}E("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(h,u){return`The "${h}" argument must be of type number. Received type ${typeof u}`},TypeError),E("ERR_OUT_OF_RANGE",function(h,u,d){let w=`The value of "${h}" is out of range.`,T=d;return Number.isInteger(d)&&Math.abs(d)>2**32?T=K(String(d)):typeof d=="bigint"&&(T=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(T=K(T)),T+="n"),w+=` It must be ${u}. Received ${T}`,w},RangeError);function K(h){let u="",d=h.length,w=h[0]==="-"?1:0;for(;d>=w+4;d-=3)u=`_${h.slice(d-3,d)}${u}`;return`${h.slice(0,d)}${u}`}function fe(h,u,d){Z(u,"offset"),(h[u]===void 0||h[u+d]===void 0)&&ye(u,h.length-(d+1))}function ee(h,u,d,w,T,W){if(h>d||h<u){let X=typeof u=="bigint"?"n":"",Ae;throw u===0||u===BigInt(0)?Ae=`>= 0${X} and < 2${X} ** ${(W+1)*8}${X}`:Ae=`>= -(2${X} ** ${(W+1)*8-1}${X}) and < 2 ** ${(W+1)*8-1}${X}`,new B.ERR_OUT_OF_RANGE("value",Ae,h)}fe(w,T,W)}function Z(h,u){if(typeof h!="number")throw new B.ERR_INVALID_ARG_TYPE(u,"number",h)}function ye(h,u,d){throw Math.floor(h)!==h?(Z(h,d),new B.ERR_OUT_OF_RANGE("offset","an integer",h)):u<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,h)}let de=/[^+/0-9A-Za-z-_]/g;function C(h){if(h=h.split("=")[0],h=h.trim().replace(de,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function D(h,u){u=u||1/0;let d,w=h.length,T=null,W=[];for(let X=0;X<w;++X){if(d=h.charCodeAt(X),d>55295&&d<57344){if(!T){if(d>56319){(u-=3)>-1&&W.push(239,191,189);continue}else if(X+1===w){(u-=3)>-1&&W.push(239,191,189);continue}T=d;continue}if(d<56320){(u-=3)>-1&&W.push(239,191,189),T=d;continue}d=(T-55296<<10|d-56320)+65536}else T&&(u-=3)>-1&&W.push(239,191,189);if(T=null,d<128){if((u-=1)<0)break;W.push(d)}else if(d<2048){if((u-=2)<0)break;W.push(d>>6|192,d&63|128)}else if(d<65536){if((u-=3)<0)break;W.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((u-=4)<0)break;W.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return W}function F(h){let u=[];for(let d=0;d<h.length;++d)u.push(h.charCodeAt(d)&255);return u}function ne(h,u){let d,w,T,W=[];for(let X=0;X<h.length&&!((u-=2)<0);++X)d=h.charCodeAt(X),w=d>>8,T=d%256,W.push(T),W.push(w);return W}function J(h){return e.toByteArray(C(h))}function U(h,u,d,w){let T;for(T=0;T<w&&!(T+d>=u.length||T>=h.length);++T)u[T+d]=h[T];return T}function z(h,u){return h instanceof u||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===u.name}function O(h){return h!==h}let N=function(){let h="0123456789abcdef",u=new Array(256);for(let d=0;d<16;++d){let w=d*16;for(let T=0;T<16;++T)u[w+T]=h[d]+h[T]}return u}();function q(h){return typeof BigInt>"u"?oe:h}function oe(){throw new Error("BigInt not supported")}return It}var Yt,Xn,ir,ei,It,ti,dt,Sr,Ps,Bs,Qe=Ke(()=>{ae(),ue(),le(),Yt={},Xn=!1,ir={},ei=!1,It={},ti=!1,dt=_a(),dt.Buffer,dt.SlowBuffer,dt.INSPECT_MAX_BYTES,dt.kMaxLength,Sr=dt.Buffer,Ps=dt.INSPECT_MAX_BYTES,Bs=dt.kMaxLength}),ue=Ke(()=>{Qe()}),va=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};e.default=i}),$e=be((e,i)=>{ae(),ue(),le(),i.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,l){return t.includes(l)},ArrayPrototypeIndexOf(t,l){return t.indexOf(l)},ArrayPrototypeJoin(t,l){return t.join(l)},ArrayPrototypeMap(t,l){return t.map(l)},ArrayPrototypePop(t,l){return t.pop(l)},ArrayPrototypePush(t,l){return t.push(l)},ArrayPrototypeSlice(t,l,f){return t.slice(l,f)},Error,FunctionPrototypeCall(t,l,...f){return t.call(l,...f)},FunctionPrototypeSymbolHasInstance(t,l){return Function.prototype[Symbol.hasInstance].call(t,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,l){return Object.defineProperties(t,l)},ObjectDefineProperty(t,l,f){return Object.defineProperty(t,l,f)},ObjectGetOwnPropertyDescriptor(t,l){return Object.getOwnPropertyDescriptor(t,l)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,l){return Object.setPrototypeOf(t,l)},Promise,PromisePrototypeCatch(t,l){return t.catch(l)},PromisePrototypeThen(t,l,f){return t.then(l,f)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,l){return t.test(l)},SafeSet:Set,String,StringPrototypeSlice(t,l,f){return t.slice(l,f)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,l,f){return t.set(l,f)},Uint8Array}}),wt=be((e,i)=>{ae(),ue(),le();var t=(Qe(),xe(Ye)),l=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||t.Blob,s=typeof f<"u"?function(o){return o instanceof f}:function(o){return!1},r=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let n="";for(let a=0;a<o.length;a++)n+=`    ${o[a].stack}
`;super(n),this.name="AggregateError",this.errors=o}};i.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(o){let n=!1;return function(...a){n||(n=!0,o.apply(this,a))}},createDeferredPromise:function(){let o,n;return{promise:new Promise((a,c)=>{o=a,n=c}),resolve:o,reject:n}},promisify(o){return new Promise((n,a)=>{o((c,...p)=>c?a(c):n(...p))})},debuglog(){return function(){}},format(o,...n){return o.replace(/%([sdifj])/g,function(...[a,c]){let p=n.shift();return c==="f"?p.toFixed(6):c==="j"?JSON.stringify(p):c==="s"&&typeof p=="object"?`${p.constructor!==Object?p.constructor.name:""} {}`.trim():p.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof l},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:s},i.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),vi=be((e,i)=>{ae(),ue(),le();var{AbortController:t,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=t,i.exports.AbortSignal=l,i.exports.default=t}),Xe=be((e,i)=>{ae(),ue(),le();var{format:t,inspect:l,AggregateError:f}=wt(),s=globalThis.AggregateError||f,r=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],n=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",c={};function p(I,v){if(!I)throw new c.ERR_INTERNAL_ASSERTION(v)}function g(I){let v="",L=I.length,j=I[0]==="-"?1:0;for(;L>=j+4;L-=3)v=`_${I.slice(L-3,L)}${v}`;return`${I.slice(0,L)}${v}`}function b(I,v,L){if(typeof v=="function")return p(v.length<=L.length,`Code: ${I}; The provided arguments length (${L.length}) does not match the required ones (${v.length}).`),v(...L);let j=(v.match(/%[dfijoOs]/g)||[]).length;return p(j===L.length,`Code: ${I}; The provided arguments length (${L.length}) does not match the required ones (${j}).`),L.length===0?v:t(v,...L)}function m(I,v,L){L||(L=Error);class j extends L{constructor(...k){super(b(I,v,k))}toString(){return`${this.name} [${I}]: ${this.message}`}}Object.defineProperties(j.prototype,{name:{value:L.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${I}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),j.prototype.code=I,j.prototype[r]=!0,c[I]=j}function y(I){let v=a+I.name;return Object.defineProperty(I,"name",{value:v}),I}function A(I,v){if(I&&v&&I!==v){if(Array.isArray(v.errors))return v.errors.push(I),v;let L=new s([v,I],v.message);return L.code=v.code,L}return I||v}var M=class extends Error{constructor(I="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",v);super(I,v),this.code="ABORT_ERR",this.name="AbortError"}};m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(I,v,L)=>{p(typeof I=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let j="The ";I.endsWith(" argument")?j+=`${I} `:j+=`"${I}" ${I.includes(".")?"property":"argument"} `,j+="must be ";let R=[],k=[],x=[];for(let G of v)p(typeof G=="string","All expected entries have to be of type string"),o.includes(G)?R.push(G.toLowerCase()):n.test(G)?k.push(G):(p(G!=="object",'The value "object" should be written as "Object"'),x.push(G));if(k.length>0){let G=R.indexOf("object");G!==-1&&(R.splice(R,G,1),k.push("Object"))}if(R.length>0){switch(R.length){case 1:j+=`of type ${R[0]}`;break;case 2:j+=`one of type ${R[0]} or ${R[1]}`;break;default:{let G=R.pop();j+=`one of type ${R.join(", ")}, or ${G}`}}(k.length>0||x.length>0)&&(j+=" or ")}if(k.length>0){switch(k.length){case 1:j+=`an instance of ${k[0]}`;break;case 2:j+=`an instance of ${k[0]} or ${k[1]}`;break;default:{let G=k.pop();j+=`an instance of ${k.join(", ")}, or ${G}`}}x.length>0&&(j+=" or ")}switch(x.length){case 0:break;case 1:x[0].toLowerCase()!==x[0]&&(j+="an "),j+=`${x[0]}`;break;case 2:j+=`one of ${x[0]} or ${x[1]}`;break;default:{let G=x.pop();j+=`one of ${x.join(", ")}, or ${G}`}}if(L==null)j+=`. Received ${L}`;else if(typeof L=="function"&&L.name)j+=`. Received function ${L.name}`;else if(typeof L=="object"){var $;if(($=L.constructor)!==null&&$!==void 0&&$.name)j+=`. Received an instance of ${L.constructor.name}`;else{let G=l(L,{depth:-1});j+=`. Received ${G}`}}else{let G=l(L,{colors:!1});G.length>25&&(G=`${G.slice(0,25)}...`),j+=`. Received type ${typeof L} (${G})`}return j},TypeError),m("ERR_INVALID_ARG_VALUE",(I,v,L="is invalid")=>{let j=l(v);return j.length>128&&(j=j.slice(0,128)+"..."),`The ${I.includes(".")?"property":"argument"} '${I}' ${L}. Received ${j}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(I,v,L)=>{var j;let R=L!=null&&(j=L.constructor)!==null&&j!==void 0&&j.name?`instance of ${L.constructor.name}`:`type ${typeof L}`;return`Expected ${I} to be returned from the "${v}" function but got ${R}.`},TypeError),m("ERR_MISSING_ARGS",(...I)=>{p(I.length>0,"At least one arg needs to be specified");let v,L=I.length;switch(I=(Array.isArray(I)?I:[I]).map(j=>`"${j}"`).join(" or "),L){case 1:v+=`The ${I[0]} argument`;break;case 2:v+=`The ${I[0]} and ${I[1]} arguments`;break;default:{let j=I.pop();v+=`The ${I.join(", ")}, and ${j} arguments`}break}return`${v} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(I,v,L)=>{p(v,'Missing "range" argument');let j;return Number.isInteger(L)&&Math.abs(L)>2**32?j=g(String(L)):typeof L=="bigint"?(j=String(L),(L>2n**32n||L<-(2n**32n))&&(j=g(j)),j+="n"):j=l(L),`The value of "${I}" is out of range. It must be ${v}. Received ${j}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),i.exports={AbortError:M,aggregateTwoErrors:y(A),hideStackFrames:y,codes:c}}),Rr=be((e,i)=>{ae(),ue(),le();var{ArrayIsArray:t,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:f,ArrayPrototypeMap:s,NumberIsInteger:r,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:n,NumberMIN_SAFE_INTEGER:a,NumberParseInt:c,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:g,String:b,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=$e(),{hideStackFrames:A,codes:{ERR_SOCKET_BAD_PORT:M,ERR_INVALID_ARG_TYPE:I,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:L,ERR_UNKNOWN_SIGNAL:j}}=Xe(),{normalizeEncoding:R}=wt(),{isAsyncFunction:k,isArrayBufferView:x}=wt().types,$={};function G(U){return U===(U|0)}function re(U){return U===U>>>0}var S=/^[0-7]+$/,V="must be a 32-bit unsigned integer or an octal string";function te(U,z,O){if(typeof U>"u"&&(U=O),typeof U=="string"){if(g(S,U)===null)throw new v(z,U,V);U=c(U,8)}return se(U,z),U}var Y=A((U,z,O=a,N=n)=>{if(typeof U!="number")throw new I(z,"number",U);if(!r(U))throw new L(z,"an integer",U);if(U<O||U>N)throw new L(z,`>= ${O} && <= ${N}`,U)}),ge=A((U,z,O=-2147483648,N=2147483647)=>{if(typeof U!="number")throw new I(z,"number",U);if(!r(U))throw new L(z,"an integer",U);if(U<O||U>N)throw new L(z,`>= ${O} && <= ${N}`,U)}),se=A((U,z,O=!1)=>{if(typeof U!="number")throw new I(z,"number",U);if(!r(U))throw new L(z,"an integer",U);let N=O?1:0,q=4294967295;if(U<N||U>q)throw new L(z,`>= ${N} && <= ${q}`,U)});function H(U,z){if(typeof U!="string")throw new I(z,"string",U)}function me(U,z,O=void 0,N){if(typeof U!="number")throw new I(z,"number",U);if(O!=null&&U<O||N!=null&&U>N||(O!=null||N!=null)&&o(U))throw new L(z,`${O!=null?`>= ${O}`:""}${O!=null&&N!=null?" && ":""}${N!=null?`<= ${N}`:""}`,U)}var ie=A((U,z,O)=>{if(!l(O,U)){let N="must be one of: "+f(s(O,q=>typeof q=="string"?`'${q}'`:b(q)),", ");throw new v(z,U,N)}});function we(U,z){if(typeof U!="boolean")throw new I(z,"boolean",U)}function _(U,z,O){return U==null||!p(U,z)?O:U[z]}var Q=A((U,z,O=null)=>{let N=_(O,"allowArray",!1),q=_(O,"allowFunction",!1);if(!_(O,"nullable",!1)&&U===null||!N&&t(U)||typeof U!="object"&&(!q||typeof U!="function"))throw new I(z,"Object",U)}),ce=A((U,z)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new I(z,"a dictionary",U)}),_e=A((U,z,O=0)=>{if(!t(U))throw new I(z,"Array",U);if(U.length<O){let N=`must be longer than ${O}`;throw new v(z,U,N)}});function he(U,z){_e(U,z);for(let O=0;O<U.length;O++)H(U[O],`${z}[${O}]`)}function B(U,z){_e(U,z);for(let O=0;O<U.length;O++)we(U[O],`${z}[${O}]`)}function E(U,z="signal"){if(H(U,z),$[U]===void 0)throw $[m(U)]!==void 0?new j(U+" (signals must use all capital letters)"):new j(U)}var K=A((U,z="buffer")=>{if(!x(U))throw new I(z,["Buffer","TypedArray","DataView"],U)});function fe(U,z){let O=R(z),N=U.length;if(O==="hex"&&N%2!==0)throw new v("encoding",z,`is invalid for data of length ${N}`)}function ee(U,z="Port",O=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&y(U).length===0||+U!==+U>>>0||U>65535||U===0&&!O)throw new M(z,U,O);return U|0}var Z=A((U,z)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new I(z,"AbortSignal",U)}),ye=A((U,z)=>{if(typeof U!="function")throw new I(z,"Function",U)}),de=A((U,z)=>{if(typeof U!="function"||k(U))throw new I(z,"Function",U)}),C=A((U,z)=>{if(U!==void 0)throw new I(z,"undefined",U)});function D(U,z,O){if(!l(O,U))throw new I(z,`('${f(O,"|")}')`,U)}var F=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ne(U,z){if(typeof U>"u"||!g(F,U))throw new v(z,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function J(U){if(typeof U=="string")return ne(U,"hints"),U;if(t(U)){let z=U.length,O="";if(z===0)return O;for(let N=0;N<z;N++){let q=U[N];ne(q,"hints"),O+=q,N!==z-1&&(O+=", ")}return O}throw new v("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}i.exports={isInt32:G,isUint32:re,parseFileMode:te,validateArray:_e,validateStringArray:he,validateBooleanArray:B,validateBoolean:we,validateBuffer:K,validateDictionary:ce,validateEncoding:fe,validateFunction:ye,validateInt32:ge,validateInteger:Y,validateNumber:me,validateObject:Q,validateOneOf:ie,validatePlainFunction:de,validatePort:ee,validateSignalName:E,validateString:H,validateUint32:se,validateUndefined:C,validateUnion:D,validateAbortSignal:Z,validateLinkHeaderValue:J}}),Ht=be((e,i)=>{ae(),ue(),le();var t=i.exports={},l,f;function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=s}catch{l=s}try{typeof clearTimeout=="function"?f=clearTimeout:f=r}catch{f=r}})();function o(M){if(l===setTimeout)return setTimeout(M,0);if((l===s||!l)&&setTimeout)return l=setTimeout,setTimeout(M,0);try{return l(M,0)}catch{try{return l.call(null,M,0)}catch{return l.call(this,M,0)}}}function n(M){if(f===clearTimeout)return clearTimeout(M);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(M);try{return f(M)}catch{try{return f.call(null,M)}catch{return f.call(this,M)}}}var a=[],c=!1,p,g=-1;function b(){!c||!p||(c=!1,p.length?a=p.concat(a):g=-1,a.length&&m())}function m(){if(!c){var M=o(b);c=!0;for(var I=a.length;I;){for(p=a,a=[];++g<I;)p&&p[g].run();g=-1,I=a.length}p=null,c=!1,n(M)}}t.nextTick=function(M){var I=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)I[v-1]=arguments[v];a.push(new y(M,I)),a.length===1&&!c&&o(m)};function y(M,I){this.fun=M,this.array=I}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function A(){}t.on=A,t.addListener=A,t.once=A,t.off=A,t.removeListener=A,t.removeAllListeners=A,t.emit=A,t.prependListener=A,t.prependOnceListener=A,t.listeners=function(M){return[]},t.binding=function(M){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(M){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),Et=be((e,i)=>{ae(),ue(),le();var{Symbol:t,SymbolAsyncIterator:l,SymbolIterator:f,SymbolFor:s}=$e(),r=t("kDestroyed"),o=t("kIsErrored"),n=t("kIsReadable"),a=t("kIsDisturbed"),c=s("nodejs.webstream.isClosedPromise"),p=s("nodejs.webstream.controllerErrorFunction");function g(_,Q=!1){var ce;return!!(_&&typeof _.pipe=="function"&&typeof _.on=="function"&&(!Q||typeof _.pause=="function"&&typeof _.resume=="function")&&(!_._writableState||((ce=_._readableState)===null||ce===void 0?void 0:ce.readable)!==!1)&&(!_._writableState||_._readableState))}function b(_){var Q;return!!(_&&typeof _.write=="function"&&typeof _.on=="function"&&(!_._readableState||((Q=_._writableState)===null||Q===void 0?void 0:Q.writable)!==!1))}function m(_){return!!(_&&typeof _.pipe=="function"&&_._readableState&&typeof _.on=="function"&&typeof _.write=="function")}function y(_){return _&&(_._readableState||_._writableState||typeof _.write=="function"&&typeof _.on=="function"||typeof _.pipe=="function"&&typeof _.on=="function")}function A(_){return!!(_&&!y(_)&&typeof _.pipeThrough=="function"&&typeof _.getReader=="function"&&typeof _.cancel=="function")}function M(_){return!!(_&&!y(_)&&typeof _.getWriter=="function"&&typeof _.abort=="function")}function I(_){return!!(_&&!y(_)&&typeof _.readable=="object"&&typeof _.writable=="object")}function v(_){return A(_)||M(_)||I(_)}function L(_,Q){return _==null?!1:Q===!0?typeof _[l]=="function":Q===!1?typeof _[f]=="function":typeof _[l]=="function"||typeof _[f]=="function"}function j(_){if(!y(_))return null;let Q=_._writableState,ce=_._readableState,_e=Q||ce;return!!(_.destroyed||_[r]||_e!=null&&_e.destroyed)}function R(_){if(!b(_))return null;if(_.writableEnded===!0)return!0;let Q=_._writableState;return Q!=null&&Q.errored?!1:typeof(Q==null?void 0:Q.ended)!="boolean"?null:Q.ended}function k(_,Q){if(!b(_))return null;if(_.writableFinished===!0)return!0;let ce=_._writableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.finished)!="boolean"?null:!!(ce.finished||Q===!1&&ce.ended===!0&&ce.length===0)}function x(_){if(!g(_))return null;if(_.readableEnded===!0)return!0;let Q=_._readableState;return!Q||Q.errored?!1:typeof(Q==null?void 0:Q.ended)!="boolean"?null:Q.ended}function $(_,Q){if(!g(_))return null;let ce=_._readableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.endEmitted)!="boolean"?null:!!(ce.endEmitted||Q===!1&&ce.ended===!0&&ce.length===0)}function G(_){return _&&_[n]!=null?_[n]:typeof(_==null?void 0:_.readable)!="boolean"?null:j(_)?!1:g(_)&&_.readable&&!$(_)}function re(_){return typeof(_==null?void 0:_.writable)!="boolean"?null:j(_)?!1:b(_)&&_.writable&&!R(_)}function S(_,Q){return y(_)?j(_)?!0:!((Q==null?void 0:Q.readable)!==!1&&G(_)||(Q==null?void 0:Q.writable)!==!1&&re(_)):null}function V(_){var Q,ce;return y(_)?_.writableErrored?_.writableErrored:(Q=(ce=_._writableState)===null||ce===void 0?void 0:ce.errored)!==null&&Q!==void 0?Q:null:null}function te(_){var Q,ce;return y(_)?_.readableErrored?_.readableErrored:(Q=(ce=_._readableState)===null||ce===void 0?void 0:ce.errored)!==null&&Q!==void 0?Q:null:null}function Y(_){if(!y(_))return null;if(typeof _.closed=="boolean")return _.closed;let Q=_._writableState,ce=_._readableState;return typeof(Q==null?void 0:Q.closed)=="boolean"||typeof(ce==null?void 0:ce.closed)=="boolean"?(Q==null?void 0:Q.closed)||(ce==null?void 0:ce.closed):typeof _._closed=="boolean"&&ge(_)?_._closed:null}function ge(_){return typeof _._closed=="boolean"&&typeof _._defaultKeepAlive=="boolean"&&typeof _._removedConnection=="boolean"&&typeof _._removedContLen=="boolean"}function se(_){return typeof _._sent100=="boolean"&&ge(_)}function H(_){var Q;return typeof _._consuming=="boolean"&&typeof _._dumped=="boolean"&&((Q=_.req)===null||Q===void 0?void 0:Q.upgradeOrConnect)===void 0}function me(_){if(!y(_))return null;let Q=_._writableState,ce=_._readableState,_e=Q||ce;return!_e&&se(_)||!!(_e&&_e.autoDestroy&&_e.emitClose&&_e.closed===!1)}function ie(_){var Q;return!!(_&&((Q=_[a])!==null&&Q!==void 0?Q:_.readableDidRead||_.readableAborted))}function we(_){var Q,ce,_e,he,B,E,K,fe,ee,Z;return!!(_&&((Q=(ce=(_e=(he=(B=(E=_[o])!==null&&E!==void 0?E:_.readableErrored)!==null&&B!==void 0?B:_.writableErrored)!==null&&he!==void 0?he:(K=_._readableState)===null||K===void 0?void 0:K.errorEmitted)!==null&&_e!==void 0?_e:(fe=_._writableState)===null||fe===void 0?void 0:fe.errorEmitted)!==null&&ce!==void 0?ce:(ee=_._readableState)===null||ee===void 0?void 0:ee.errored)!==null&&Q!==void 0?Q:!((Z=_._writableState)===null||Z===void 0)&&Z.errored))}i.exports={kDestroyed:r,isDisturbed:ie,kIsDisturbed:a,isErrored:we,kIsErrored:o,isReadable:G,kIsReadable:n,kIsClosedPromise:c,kControllerErrorFunction:p,isClosed:Y,isDestroyed:j,isDuplexNodeStream:m,isFinished:S,isIterable:L,isReadableNodeStream:g,isReadableStream:A,isReadableEnded:x,isReadableFinished:$,isReadableErrored:te,isNodeStream:y,isWebStream:v,isWritable:re,isWritableNodeStream:b,isWritableStream:M,isWritableEnded:R,isWritableFinished:k,isWritableErrored:V,isServerRequest:H,isServerResponse:se,willEmitClose:me,isTransformStream:I}}),Ot=be((e,i)=>{ae(),ue(),le();var t=Ht(),{AbortError:l,codes:f}=Xe(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:r}=f,{kEmptyObject:o,once:n}=wt(),{validateAbortSignal:a,validateFunction:c,validateObject:p,validateBoolean:g}=Rr(),{Promise:b,PromisePrototypeThen:m}=$e(),{isClosed:y,isReadable:A,isReadableNodeStream:M,isReadableStream:I,isReadableFinished:v,isReadableErrored:L,isWritable:j,isWritableNodeStream:R,isWritableStream:k,isWritableFinished:x,isWritableErrored:$,isNodeStream:G,willEmitClose:re,kIsClosedPromise:S}=Et();function V(H){return H.setHeader&&typeof H.abort=="function"}var te=()=>{};function Y(H,me,ie){var we,_;if(arguments.length===2?(ie=me,me=o):me==null?me=o:p(me,"options"),c(ie,"callback"),a(me.signal,"options.signal"),ie=n(ie),I(H)||k(H))return ge(H,me,ie);if(!G(H))throw new s("stream",["ReadableStream","WritableStream","Stream"],H);let Q=(we=me.readable)!==null&&we!==void 0?we:M(H),ce=(_=me.writable)!==null&&_!==void 0?_:R(H),_e=H._writableState,he=H._readableState,B=()=>{H.writable||fe()},E=re(H)&&M(H)===Q&&R(H)===ce,K=x(H,!1),fe=()=>{K=!0,H.destroyed&&(E=!1),!(E&&(!H.readable||Q))&&(!Q||ee)&&ie.call(H)},ee=v(H,!1),Z=()=>{ee=!0,H.destroyed&&(E=!1),!(E&&(!H.writable||ce))&&(!ce||K)&&ie.call(H)},ye=J=>{ie.call(H,J)},de=y(H),C=()=>{de=!0;let J=$(H)||L(H);if(J&&typeof J!="boolean")return ie.call(H,J);if(Q&&!ee&&M(H,!0)&&!v(H,!1))return ie.call(H,new r);if(ce&&!K&&!x(H,!1))return ie.call(H,new r);ie.call(H)},D=()=>{de=!0;let J=$(H)||L(H);if(J&&typeof J!="boolean")return ie.call(H,J);ie.call(H)},F=()=>{H.req.on("finish",fe)};V(H)?(H.on("complete",fe),E||H.on("abort",C),H.req?F():H.on("request",F)):ce&&!_e&&(H.on("end",B),H.on("close",B)),!E&&typeof H.aborted=="boolean"&&H.on("aborted",C),H.on("end",Z),H.on("finish",fe),me.error!==!1&&H.on("error",ye),H.on("close",C),de?t.nextTick(C):_e!=null&&_e.errorEmitted||he!=null&&he.errorEmitted?E||t.nextTick(D):(!Q&&(!E||A(H))&&(K||j(H)===!1)||!ce&&(!E||j(H))&&(ee||A(H)===!1)||he&&H.req&&H.aborted)&&t.nextTick(D);let ne=()=>{ie=te,H.removeListener("aborted",C),H.removeListener("complete",fe),H.removeListener("abort",C),H.removeListener("request",F),H.req&&H.req.removeListener("finish",fe),H.removeListener("end",B),H.removeListener("close",B),H.removeListener("finish",fe),H.removeListener("end",Z),H.removeListener("error",ye),H.removeListener("close",C)};if(me.signal&&!de){let J=()=>{let U=ie;ne(),U.call(H,new l(void 0,{cause:me.signal.reason}))};if(me.signal.aborted)t.nextTick(J);else{let U=ie;ie=n((...z)=>{me.signal.removeEventListener("abort",J),U.apply(H,z)}),me.signal.addEventListener("abort",J)}}return ne}function ge(H,me,ie){let we=!1,_=te;if(me.signal)if(_=()=>{we=!0,ie.call(H,new l(void 0,{cause:me.signal.reason}))},me.signal.aborted)t.nextTick(_);else{let ce=ie;ie=n((..._e)=>{me.signal.removeEventListener("abort",_),ce.apply(H,_e)}),me.signal.addEventListener("abort",_)}let Q=(...ce)=>{we||t.nextTick(()=>ie.apply(H,ce))};return m(H[S].promise,Q,Q),te}function se(H,me){var ie;let we=!1;return me===null&&(me=o),(ie=me)!==null&&ie!==void 0&&ie.cleanup&&(g(me.cleanup,"cleanup"),we=me.cleanup),new b((_,Q)=>{let ce=Y(H,me,_e=>{we&&ce(),_e?Q(_e):_()})})}i.exports=Y,i.exports.finished=se}),Gt=be((e,i)=>{ae(),ue(),le();var t=Ht(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:s}=Xe(),{Symbol:r}=$e(),{kDestroyed:o,isDestroyed:n,isFinished:a,isServerRequest:c}=Et(),p=r("kDestroy"),g=r("kConstruct");function b(S,V,te){S&&(S.stack,V&&!V.errored&&(V.errored=S),te&&!te.errored&&(te.errored=S))}function m(S,V){let te=this._readableState,Y=this._writableState,ge=Y||te;return Y!=null&&Y.destroyed||te!=null&&te.destroyed?(typeof V=="function"&&V(),this):(b(S,Y,te),Y&&(Y.destroyed=!0),te&&(te.destroyed=!0),ge.constructed?y(this,S,V):this.once(p,function(se){y(this,l(se,S),V)}),this)}function y(S,V,te){let Y=!1;function ge(se){if(Y)return;Y=!0;let H=S._readableState,me=S._writableState;b(se,me,H),me&&(me.closed=!0),H&&(H.closed=!0),typeof te=="function"&&te(se),se?t.nextTick(A,S,se):t.nextTick(M,S)}try{S._destroy(V||null,ge)}catch(se){ge(se)}}function A(S,V){I(S,V),M(S)}function M(S){let V=S._readableState,te=S._writableState;te&&(te.closeEmitted=!0),V&&(V.closeEmitted=!0),(te!=null&&te.emitClose||V!=null&&V.emitClose)&&S.emit("close")}function I(S,V){let te=S._readableState,Y=S._writableState;Y!=null&&Y.errorEmitted||te!=null&&te.errorEmitted||(Y&&(Y.errorEmitted=!0),te&&(te.errorEmitted=!0),S.emit("error",V))}function v(){let S=this._readableState,V=this._writableState;S&&(S.constructed=!0,S.closed=!1,S.closeEmitted=!1,S.destroyed=!1,S.errored=null,S.errorEmitted=!1,S.reading=!1,S.ended=S.readable===!1,S.endEmitted=S.readable===!1),V&&(V.constructed=!0,V.destroyed=!1,V.closed=!1,V.closeEmitted=!1,V.errored=null,V.errorEmitted=!1,V.finalCalled=!1,V.prefinished=!1,V.ended=V.writable===!1,V.ending=V.writable===!1,V.finished=V.writable===!1)}function L(S,V,te){let Y=S._readableState,ge=S._writableState;if(ge!=null&&ge.destroyed||Y!=null&&Y.destroyed)return this;Y!=null&&Y.autoDestroy||ge!=null&&ge.autoDestroy?S.destroy(V):V&&(V.stack,ge&&!ge.errored&&(ge.errored=V),Y&&!Y.errored&&(Y.errored=V),te?t.nextTick(I,S,V):I(S,V))}function j(S,V){if(typeof S._construct!="function")return;let te=S._readableState,Y=S._writableState;te&&(te.constructed=!1),Y&&(Y.constructed=!1),S.once(g,V),!(S.listenerCount(g)>1)&&t.nextTick(R,S)}function R(S){let V=!1;function te(Y){if(V){L(S,Y??new f);return}V=!0;let ge=S._readableState,se=S._writableState,H=se||ge;ge&&(ge.constructed=!0),se&&(se.constructed=!0),H.destroyed?S.emit(p,Y):Y?L(S,Y,!0):t.nextTick(k,S)}try{S._construct(Y=>{t.nextTick(te,Y)})}catch(Y){t.nextTick(te,Y)}}function k(S){S.emit(g)}function x(S){return(S==null?void 0:S.setHeader)&&typeof S.abort=="function"}function $(S){S.emit("close")}function G(S,V){S.emit("error",V),t.nextTick($,S)}function re(S,V){!S||n(S)||(!V&&!a(S)&&(V=new s),c(S)?(S.socket=null,S.destroy(V)):x(S)?S.abort():x(S.req)?S.req.abort():typeof S.destroy=="function"?S.destroy(V):typeof S.close=="function"?S.close():V?t.nextTick(G,S,V):t.nextTick($,S),S.destroyed||(S[o]=!0))}i.exports={construct:j,destroyer:re,destroy:m,undestroy:v,errorOrDestroy:L}});function Be(){Be.init.call(this)}function mr(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function xs(e){return e._maxListeners===void 0?Be.defaultMaxListeners:e._maxListeners}function xi(e,i,t,l){var f,s,r,o;if(mr(t),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",i,t.listener?t.listener:t),s=e._events),r=s[i]),r===void 0)r=s[i]=t,++e._eventsCount;else if(typeof r=="function"?r=s[i]=l?[t,r]:[r,t]:l?r.unshift(t):r.push(t),(f=xs(e))>0&&r.length>f&&!r.warned){r.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=i,n.count=r.length,o=n,console&&console.warn&&console.warn(o)}return e}function Ea(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Mi(e,i,t){var l={fired:!1,wrapFn:void 0,target:e,type:i,listener:t},f=Ea.bind(l);return f.listener=t,l.wrapFn=f,f}function Ui(e,i,t){var l=e._events;if(l===void 0)return[];var f=l[i];return f===void 0?[]:typeof f=="function"?t?[f.listener||f]:[f]:t?function(s){for(var r=new Array(s.length),o=0;o<r.length;++o)r[o]=s[o].listener||s[o];return r}(f):Ms(f,f.length)}function Li(e){var i=this._events;if(i!==void 0){var t=i[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function Ms(e,i){for(var t=new Array(i),l=0;l<i;++l)t[l]=e[l];return t}var Ni,ji,Ct,Lr,Nr,jr,tt,Di=Ke(()=>{ae(),ue(),le(),Ct=typeof Reflect=="object"?Reflect:null,Lr=Ct&&typeof Ct.apply=="function"?Ct.apply:function(e,i,t){return Function.prototype.apply.call(e,i,t)},ji=Ct&&typeof Ct.ownKeys=="function"?Ct.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Nr=Number.isNaN||function(e){return e!=e},Ni=Be,Be.EventEmitter=Be,Be.prototype._events=void 0,Be.prototype._eventsCount=0,Be.prototype._maxListeners=void 0,jr=10,Object.defineProperty(Be,"defaultMaxListeners",{enumerable:!0,get:function(){return jr},set:function(e){if(typeof e!="number"||e<0||Nr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");jr=e}}),Be.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Be.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Nr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Be.prototype.getMaxListeners=function(){return xs(this)},Be.prototype.emit=function(e){for(var i=[],t=1;t<arguments.length;t++)i.push(arguments[t]);var l=e==="error",f=this._events;if(f!==void 0)l=l&&f.error===void 0;else if(!l)return!1;if(l){var s;if(i.length>0&&(s=i[0]),s instanceof Error)throw s;var r=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw r.context=s,r}var o=f[e];if(o===void 0)return!1;if(typeof o=="function")Lr(o,this,i);else{var n=o.length,a=Ms(o,n);for(t=0;t<n;++t)Lr(a[t],this,i)}return!0},Be.prototype.addListener=function(e,i){return xi(this,e,i,!1)},Be.prototype.on=Be.prototype.addListener,Be.prototype.prependListener=function(e,i){return xi(this,e,i,!0)},Be.prototype.once=function(e,i){return mr(i),this.on(e,Mi(this,e,i)),this},Be.prototype.prependOnceListener=function(e,i){return mr(i),this.prependListener(e,Mi(this,e,i)),this},Be.prototype.removeListener=function(e,i){var t,l,f,s,r;if(mr(i),(l=this._events)===void 0)return this;if((t=l[e])===void 0)return this;if(t===i||t.listener===i)--this._eventsCount==0?this._events=Object.create(null):(delete l[e],l.removeListener&&this.emit("removeListener",e,t.listener||i));else if(typeof t!="function"){for(f=-1,s=t.length-1;s>=0;s--)if(t[s]===i||t[s].listener===i){r=t[s].listener,f=s;break}if(f<0)return this;f===0?t.shift():function(o,n){for(;n+1<o.length;n++)o[n]=o[n+1];o.pop()}(t,f),t.length===1&&(l[e]=t[0]),l.removeListener!==void 0&&this.emit("removeListener",e,r||i)}return this},Be.prototype.off=Be.prototype.removeListener,Be.prototype.removeAllListeners=function(e){var i,t,l;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var f,s=Object.keys(t);for(l=0;l<s.length;++l)(f=s[l])!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(i=t[e])=="function")this.removeListener(e,i);else if(i!==void 0)for(l=i.length-1;l>=0;l--)this.removeListener(e,i[l]);return this},Be.prototype.listeners=function(e){return Ui(this,e,!0)},Be.prototype.rawListeners=function(e){return Ui(this,e,!1)},Be.listenerCount=function(e,i){return typeof e.listenerCount=="function"?e.listenerCount(i):Li.call(e,i)},Be.prototype.listenerCount=Li,Be.prototype.eventNames=function(){return this._eventsCount>0?ji(this._events):[]},tt=Ni,tt.EventEmitter,tt.defaultMaxListeners,tt.init,tt.listenerCount,tt.EventEmitter,tt.defaultMaxListeners,tt.init,tt.listenerCount}),Vt={};qt(Vt,{EventEmitter:()=>Us,default:()=>tt,defaultMaxListeners:()=>Ls,init:()=>Ns,listenerCount:()=>js,on:()=>Ds,once:()=>Fs});var Us,Ls,Ns,js,Ds,Fs,Jt=Ke(()=>{ae(),ue(),le(),Di(),Di(),tt.once=function(e,i){return new Promise((t,l)=>{function f(...r){s!==void 0&&e.removeListener("error",s),t(r)}let s;i!=="error"&&(s=r=>{e.removeListener(name,f),l(r)},e.once("error",s)),e.once(i,f)})},tt.on=function(e,i){let t=[],l=[],f=null,s=!1,r={async next(){let a=t.shift();if(a)return createIterResult(a,!1);if(f){let c=Promise.reject(f);return f=null,c}return s?createIterResult(void 0,!0):new Promise((c,p)=>l.push({resolve:c,reject:p}))},async return(){e.removeListener(i,o),e.removeListener("error",n),s=!0;for(let a of l)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(a){f=a,e.removeListener(i,o),e.removeListener("error",n)},[Symbol.asyncIterator](){return this}};return e.on(i,o),e.on("error",n),r;function o(...a){let c=l.shift();c?c.resolve(createIterResult(a,!1)):t.push(a)}function n(a){s=!0;let c=l.shift();c?c.reject(a):f=a,r.return()}},{EventEmitter:Us,defaultMaxListeners:Ls,init:Ns,listenerCount:js,on:Ds,once:Fs}=tt}),Ei=be((e,i)=>{ae(),ue(),le();var{ArrayIsArray:t,ObjectSetPrototypeOf:l}=$e(),{EventEmitter:f}=(Jt(),xe(Vt));function s(o){f.call(this,o)}l(s.prototype,f.prototype),l(s,f),s.prototype.pipe=function(o,n){let a=this;function c(M){o.writable&&o.write(M)===!1&&a.pause&&a.pause()}a.on("data",c);function p(){a.readable&&a.resume&&a.resume()}o.on("drain",p),!o._isStdio&&(!n||n.end!==!1)&&(a.on("end",b),a.on("close",m));let g=!1;function b(){g||(g=!0,o.end())}function m(){g||(g=!0,typeof o.destroy=="function"&&o.destroy())}function y(M){A(),f.listenerCount(this,"error")===0&&this.emit("error",M)}r(a,"error",y),r(o,"error",y);function A(){a.removeListener("data",c),o.removeListener("drain",p),a.removeListener("end",b),a.removeListener("close",m),a.removeListener("error",y),o.removeListener("error",y),a.removeListener("end",A),a.removeListener("close",A),o.removeListener("close",A)}return a.on("end",A),a.on("close",A),o.on("close",A),o.emit("pipe",a),o};function r(o,n,a){if(typeof o.prependListener=="function")return o.prependListener(n,a);!o._events||!o._events[n]?o.on(n,a):t(o._events[n])?o._events[n].unshift(a):o._events[n]=[a,o._events[n]]}i.exports={Stream:s,prependListener:r}}),Or=be((e,i)=>{ae(),ue(),le();var{AbortError:t,codes:l}=Xe(),{isNodeStream:f,isWebStream:s,kControllerErrorFunction:r}=Et(),o=Ot(),{ERR_INVALID_ARG_TYPE:n}=l,a=(c,p)=>{if(typeof c!="object"||!("aborted"in c))throw new n(p,"AbortSignal",c)};i.exports.addAbortSignal=function(c,p){if(a(c,"signal"),!f(p)&&!s(p))throw new n("stream",["ReadableStream","WritableStream","Stream"],p);return i.exports.addAbortSignalNoValidate(c,p)},i.exports.addAbortSignalNoValidate=function(c,p){if(typeof c!="object"||!("aborted"in c))return p;let g=f(p)?()=>{p.destroy(new t(void 0,{cause:c.reason}))}:()=>{p[r](new t(void 0,{cause:c.reason}))};return c.aborted?g():(c.addEventListener("abort",g),o(p,()=>c.removeEventListener("abort",g))),p}}),Sa=be((e,i)=>{ae(),ue(),le();var{StringPrototypeSlice:t,SymbolIterator:l,TypedArrayPrototypeSet:f,Uint8Array:s}=$e(),{Buffer:r}=(Qe(),xe(Ye)),{inspect:o}=wt();i.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(n){let a={data:n,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(n){let a={data:n,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}clear(){this.head=this.tail=null,this.length=0}join(n){if(this.length===0)return"";let a=this.head,c=""+a.data;for(;(a=a.next)!==null;)c+=n+a.data;return c}concat(n){if(this.length===0)return r.alloc(0);let a=r.allocUnsafe(n>>>0),c=this.head,p=0;for(;c;)f(a,c.data,p),p+=c.data.length,c=c.next;return a}consume(n,a){let c=this.head.data;if(n<c.length){let p=c.slice(0,n);return this.head.data=c.slice(n),p}return n===c.length?this.shift():a?this._getString(n):this._getBuffer(n)}first(){return this.head.data}*[l](){for(let n=this.head;n;n=n.next)yield n.data}_getString(n){let a="",c=this.head,p=0;do{let g=c.data;if(n>g.length)a+=g,n-=g.length;else{n===g.length?(a+=g,++p,c.next?this.head=c.next:this.head=this.tail=null):(a+=t(g,0,n),this.head=c,c.data=t(g,n));break}++p}while((c=c.next)!==null);return this.length-=p,a}_getBuffer(n){let a=r.allocUnsafe(n),c=n,p=this.head,g=0;do{let b=p.data;if(n>b.length)f(a,b,c-n),n-=b.length;else{n===b.length?(f(a,b,c-n),++g,p.next?this.head=p.next:this.head=this.tail=null):(f(a,new s(b.buffer,b.byteOffset,n),c-n),this.head=p,p.data=b.slice(n));break}++g}while((p=p.next)!==null);return this.length-=g,a}[Symbol.for("nodejs.util.inspect.custom")](n,a){return o(this,{...a,depth:0,customInspect:!1})}}}),Si=be((e,i)=>{ae(),ue(),le();var{MathFloor:t,NumberIsInteger:l}=$e(),{ERR_INVALID_ARG_VALUE:f}=Xe().codes;function s(n,a,c){return n.highWaterMark!=null?n.highWaterMark:a?n[c]:null}function r(n){return n?16:16*1024}function o(n,a,c,p){let g=s(a,p,c);if(g!=null){if(!l(g)||g<0){let b=p?`options.${c}`:"options.highWaterMark";throw new f(b,g)}return t(g)}return r(n.objectMode)}i.exports={getHighWaterMark:o,getDefaultHighWaterMark:r}});function Fi(e){var i=e.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return t===-1&&(t=i),[t,t===i?0:4-t%4]}function Aa(e,i,t){for(var l,f,s=[],r=i;r<t;r+=3)l=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),s.push(ot[(f=l)>>18&63]+ot[f>>12&63]+ot[f>>6&63]+ot[63&f]);return s.join("")}function mt(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=new Uint8Array(e);return Object.setPrototypeOf(i,pe.prototype),i}function pe(e,i,t){if(typeof e=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ri(e)}return Ws(e,i,t)}function Ws(e,i,t){if(typeof e=="string")return function(s,r){if(typeof r=="string"&&r!==""||(r="utf8"),!pe.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var o=0|qs(s,r),n=mt(o),a=n.write(s,r);return a!==o&&(n=n.slice(0,a)),n}(e,i);if(ArrayBuffer.isView(e))return Dr(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(yt(e,ArrayBuffer)||e&&yt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yt(e,SharedArrayBuffer)||e&&yt(e.buffer,SharedArrayBuffer)))return Ia(e,i,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(l!=null&&l!==e)return pe.from(l,i,t);var f=function(s){if(pe.isBuffer(s)){var r=0|Ai(s.length),o=mt(r);return o.length===0||s.copy(o,0,0,r),o}if(s.length!==void 0)return typeof s.length!="number"||Ii(s.length)?mt(0):Dr(s);if(s.type==="Buffer"&&Array.isArray(s.data))return Dr(s.data)}(e);if(f)return f;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return pe.from(e[Symbol.toPrimitive]("string"),i,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function $s(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ri(e){return $s(e),mt(e<0?0:0|Ai(e))}function Dr(e){for(var i=e.length<0?0:0|Ai(e.length),t=mt(i),l=0;l<i;l+=1)t[l]=255&e[l];return t}function Ia(e,i,t){if(i<0||e.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<i+(t||0))throw new RangeError('"length" is outside of buffer bounds');var l;return l=i===void 0&&t===void 0?new Uint8Array(e):t===void 0?new Uint8Array(e,i):new Uint8Array(e,i,t),Object.setPrototypeOf(l,pe.prototype),l}function Ai(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function qs(e,i){if(pe.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||yt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var t=e.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&t===0)return 0;for(var f=!1;;)switch(i){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ni(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return Ks(e).length;default:if(f)return l?-1:ni(e).length;i=(""+i).toLowerCase(),f=!0}}function Ta(e,i,t){var l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(i>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Ua(this,i,t);case"utf8":case"utf-8":return Vs(this,i,t);case"ascii":return xa(this,i,t);case"latin1":case"binary":return Ma(this,i,t);case"base64":return Ba(this,i,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return La(this,i,t);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function Pt(e,i,t){var l=e[i];e[i]=e[t],e[t]=l}function Wi(e,i,t,l,f){if(e.length===0)return-1;if(typeof t=="string"?(l=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),Ii(t=+t)&&(t=f?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(f)return-1;t=e.length-1}else if(t<0){if(!f)return-1;t=0}if(typeof i=="string"&&(i=pe.from(i,l)),pe.isBuffer(i))return i.length===0?-1:$i(e,i,t,l,f);if(typeof i=="number")return i&=255,typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(e,i,t):Uint8Array.prototype.lastIndexOf.call(e,i,t):$i(e,[i],t,l,f);throw new TypeError("val must be string, number or Buffer")}function $i(e,i,t,l,f){var s,r=1,o=e.length,n=i.length;if(l!==void 0&&((l=String(l).toLowerCase())==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(e.length<2||i.length<2)return-1;r=2,o/=2,n/=2,t/=2}function a(b,m){return r===1?b[m]:b.readUInt16BE(m*r)}if(f){var c=-1;for(s=t;s<o;s++)if(a(e,s)===a(i,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===n)return c*r}else c!==-1&&(s-=s-c),c=-1}else for(t+n>o&&(t=o-n),s=t;s>=0;s--){for(var p=!0,g=0;g<n;g++)if(a(e,s+g)!==a(i,g)){p=!1;break}if(p)return s}return-1}function ka(e,i,t,l){t=Number(t)||0;var f=e.length-t;l?(l=Number(l))>f&&(l=f):l=f;var s=i.length;l>s/2&&(l=s/2);for(var r=0;r<l;++r){var o=parseInt(i.substr(2*r,2),16);if(Ii(o))return r;e[t+r]=o}return r}function Ra(e,i,t,l){return Cr(ni(i,e.length-t),e,t,l)}function Hs(e,i,t,l){return Cr(function(f){for(var s=[],r=0;r<f.length;++r)s.push(255&f.charCodeAt(r));return s}(i),e,t,l)}function Oa(e,i,t,l){return Hs(e,i,t,l)}function Ca(e,i,t,l){return Cr(Ks(i),e,t,l)}function Pa(e,i,t,l){return Cr(function(f,s){for(var r,o,n,a=[],c=0;c<f.length&&!((s-=2)<0);++c)r=f.charCodeAt(c),o=r>>8,n=r%256,a.push(n),a.push(o);return a}(i,e.length-t),e,t,l)}function Ba(e,i,t){return i===0&&t===e.length?Ar.fromByteArray(e):Ar.fromByteArray(e.slice(i,t))}function Vs(e,i,t){t=Math.min(e.length,t);for(var l=[],f=i;f<t;){var s,r,o,n,a=e[f],c=null,p=a>239?4:a>223?3:a>191?2:1;if(f+p<=t)switch(p){case 1:a<128&&(c=a);break;case 2:(192&(s=e[f+1]))==128&&(n=(31&a)<<6|63&s)>127&&(c=n);break;case 3:s=e[f+1],r=e[f+2],(192&s)==128&&(192&r)==128&&(n=(15&a)<<12|(63&s)<<6|63&r)>2047&&(n<55296||n>57343)&&(c=n);break;case 4:s=e[f+1],r=e[f+2],o=e[f+3],(192&s)==128&&(192&r)==128&&(192&o)==128&&(n=(15&a)<<18|(63&s)<<12|(63&r)<<6|63&o)>65535&&n<1114112&&(c=n)}c===null?(c=65533,p=1):c>65535&&(c-=65536,l.push(c>>>10&1023|55296),c=56320|1023&c),l.push(c),f+=p}return function(g){var b=g.length;if(b<=4096)return String.fromCharCode.apply(String,g);for(var m="",y=0;y<b;)m+=String.fromCharCode.apply(String,g.slice(y,y+=4096));return m}(l)}function xa(e,i,t){var l="";t=Math.min(e.length,t);for(var f=i;f<t;++f)l+=String.fromCharCode(127&e[f]);return l}function Ma(e,i,t){var l="";t=Math.min(e.length,t);for(var f=i;f<t;++f)l+=String.fromCharCode(e[f]);return l}function Ua(e,i,t){var l=e.length;(!i||i<0)&&(i=0),(!t||t<0||t>l)&&(t=l);for(var f="",s=i;s<t;++s)f+=Qs[e[s]];return f}function La(e,i,t){for(var l=e.slice(i,t),f="",s=0;s<l.length;s+=2)f+=String.fromCharCode(l[s]+256*l[s+1]);return f}function Ve(e,i,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+i>t)throw new RangeError("Trying to access beyond buffer length")}function Ze(e,i,t,l,f,s){if(!pe.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>f||i<s)throw new RangeError('"value" argument is out of bounds');if(t+l>e.length)throw new RangeError("Index out of range")}function zs(e,i,t,l,f,s){if(t+l>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function qi(e,i,t,l,f){return i=+i,t>>>=0,f||zs(e,0,t,4),Nt.write(e,i,t,l,23,4),t+4}function Hi(e,i,t,l,f){return i=+i,t>>>=0,f||zs(e,0,t,8),Nt.write(e,i,t,l,52,8),t+8}function ni(e,i){var t;i=i||1/0;for(var l=e.length,f=null,s=[],r=0;r<l;++r){if((t=e.charCodeAt(r))>55295&&t<57344){if(!f){if(t>56319){(i-=3)>-1&&s.push(239,191,189);continue}if(r+1===l){(i-=3)>-1&&s.push(239,191,189);continue}f=t;continue}if(t<56320){(i-=3)>-1&&s.push(239,191,189),f=t;continue}t=65536+(f-55296<<10|t-56320)}else f&&(i-=3)>-1&&s.push(239,191,189);if(f=null,t<128){if((i-=1)<0)break;s.push(t)}else if(t<2048){if((i-=2)<0)break;s.push(t>>6|192,63&t|128)}else if(t<65536){if((i-=3)<0)break;s.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((i-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return s}function Ks(e){return Ar.toByteArray(function(i){if((i=(i=i.split("=")[0]).trim().replace(Ys,"")).length<2)return"";for(;i.length%4!=0;)i+="=";return i}(e))}function Cr(e,i,t,l){for(var f=0;f<l&&!(f+t>=i.length||f>=e.length);++f)i[f+t]=e[f];return f}function yt(e,i){return e instanceof i||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===i.name}function Ii(e){return e!=e}function Vi(e,i){for(var t in e)i[t]=e[t]}function Bt(e,i,t){return it(e,i,t)}function Xt(e){var i;switch(this.encoding=function(t){var l=function(f){if(!f)return"utf8";for(var s;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(s)return;f=(""+f).toLowerCase(),s=!0}}(t);if(typeof l!="string"&&(Ir.isEncoding===ii||!ii(t)))throw new Error("Unknown encoding: "+t);return l||t}(e),this.encoding){case"utf16le":this.text=ja,this.end=Da,i=4;break;case"utf8":this.fillLast=Na,i=4;break;case"base64":this.text=Fa,this.end=Wa,i=3;break;default:return this.write=$a,this.end=qa,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ir.allocUnsafe(i)}function Fr(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Na(e){var i=this.lastTotal-this.lastNeed,t=function(l,f,s){if((192&f[0])!=128)return l.lastNeed=0,"";if(l.lastNeed>1&&f.length>1){if((192&f[1])!=128)return l.lastNeed=1,"";if(l.lastNeed>2&&f.length>2&&(192&f[2])!=128)return l.lastNeed=2,""}}(this,e);return t!==void 0?t:this.lastNeed<=e.length?(e.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,i,0,e.length),this.lastNeed-=e.length,void 0)}function ja(e,i){if((e.length-i)%2==0){var t=e.toString("utf16le",i);if(t){var l=t.charCodeAt(t.length-1);if(l>=55296&&l<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",i,e.length-1)}function Da(e){var i=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,t)}return i}function Fa(e,i){var t=(e.length-i)%3;return t===0?e.toString("base64",i):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",i,e.length-t))}function Wa(e){var i=e&&e.length?this.write(e):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function $a(e){return e.toString(this.encoding)}function qa(e){return e&&e.length?this.write(e):""}var zi,ot,et,Ki,ur,xt,Yi,Qi,at,Ar,Nt,Wr,Ys,Qs,er,tr,it,Gi,Qt,Ir,ii,Ji=Ke(()=>{for(ae(),ue(),le(),zi={byteLength:function(e){var i=Fi(e),t=i[0],l=i[1];return 3*(t+l)/4-l},toByteArray:function(e){var i,t,l=Fi(e),f=l[0],s=l[1],r=new Ki(function(a,c,p){return 3*(c+p)/4-p}(0,f,s)),o=0,n=s>0?f-4:f;for(t=0;t<n;t+=4)i=et[e.charCodeAt(t)]<<18|et[e.charCodeAt(t+1)]<<12|et[e.charCodeAt(t+2)]<<6|et[e.charCodeAt(t+3)],r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i;return s===2&&(i=et[e.charCodeAt(t)]<<2|et[e.charCodeAt(t+1)]>>4,r[o++]=255&i),s===1&&(i=et[e.charCodeAt(t)]<<10|et[e.charCodeAt(t+1)]<<4|et[e.charCodeAt(t+2)]>>2,r[o++]=i>>8&255,r[o++]=255&i),r},fromByteArray:function(e){for(var i,t=e.length,l=t%3,f=[],s=0,r=t-l;s<r;s+=16383)f.push(Aa(e,s,s+16383>r?r:s+16383));return l===1?(i=e[t-1],f.push(ot[i>>2]+ot[i<<4&63]+"==")):l===2&&(i=(e[t-2]<<8)+e[t-1],f.push(ot[i>>10]+ot[i>>4&63]+ot[i<<2&63]+"=")),f.join("")}},ot=[],et=[],Ki=typeof Uint8Array<"u"?Uint8Array:Array,ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt=0,Yi=ur.length;xt<Yi;++xt)ot[xt]=ur[xt],et[ur.charCodeAt(xt)]=xt;et[45]=62,et[95]=63,Qi={read:function(e,i,t,l,f){var s,r,o=8*f-l-1,n=(1<<o)-1,a=n>>1,c=-7,p=t?f-1:0,g=t?-1:1,b=e[i+p];for(p+=g,s=b&(1<<-c)-1,b>>=-c,c+=o;c>0;s=256*s+e[i+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=l;c>0;r=256*r+e[i+p],p+=g,c-=8);if(s===0)s=1-a;else{if(s===n)return r?NaN:1/0*(b?-1:1);r+=Math.pow(2,l),s-=a}return(b?-1:1)*r*Math.pow(2,s-l)},write:function(e,i,t,l,f,s){var r,o,n,a=8*s-f-1,c=(1<<a)-1,p=c>>1,g=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:s-1,m=l?1:-1,y=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(o=isNaN(i)?1:0,r=c):(r=Math.floor(Math.log(i)/Math.LN2),i*(n=Math.pow(2,-r))<1&&(r--,n*=2),(i+=r+p>=1?g/n:g*Math.pow(2,1-p))*n>=2&&(r++,n/=2),r+p>=c?(o=0,r=c):r+p>=1?(o=(i*n-1)*Math.pow(2,f),r+=p):(o=i*Math.pow(2,p-1)*Math.pow(2,f),r=0));f>=8;e[t+b]=255&o,b+=m,o/=256,f-=8);for(r=r<<f|o,a+=f;a>0;e[t+b]=255&r,b+=m,r/=256,a-=8);e[t+b-m]|=128*y}},at={},Ar=zi,Nt=Qi,Wr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,at.Buffer=pe,at.SlowBuffer=function(e){return+e!=e&&(e=0),pe.alloc(+e)},at.INSPECT_MAX_BYTES=50,at.kMaxLength=2147483647,pe.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(e,i),e.foo()===42}catch{return!1}}(),pe.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(pe.prototype,"parent",{enumerable:!0,get:function(){if(pe.isBuffer(this))return this.buffer}}),Object.defineProperty(pe.prototype,"offset",{enumerable:!0,get:function(){if(pe.isBuffer(this))return this.byteOffset}}),pe.poolSize=8192,pe.from=function(e,i,t){return Ws(e,i,t)},Object.setPrototypeOf(pe.prototype,Uint8Array.prototype),Object.setPrototypeOf(pe,Uint8Array),pe.alloc=function(e,i,t){return function(l,f,s){return $s(l),l<=0?mt(l):f!==void 0?typeof s=="string"?mt(l).fill(f,s):mt(l).fill(f):mt(l)}(e,i,t)},pe.allocUnsafe=function(e){return ri(e)},pe.allocUnsafeSlow=function(e){return ri(e)},pe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==pe.prototype},pe.compare=function(e,i){if(yt(e,Uint8Array)&&(e=pe.from(e,e.offset,e.byteLength)),yt(i,Uint8Array)&&(i=pe.from(i,i.offset,i.byteLength)),!pe.isBuffer(e)||!pe.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===i)return 0;for(var t=e.length,l=i.length,f=0,s=Math.min(t,l);f<s;++f)if(e[f]!==i[f]){t=e[f],l=i[f];break}return t<l?-1:l<t?1:0},pe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},pe.concat=function(e,i){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return pe.alloc(0);var t;if(i===void 0)for(i=0,t=0;t<e.length;++t)i+=e[t].length;var l=pe.allocUnsafe(i),f=0;for(t=0;t<e.length;++t){var s=e[t];if(yt(s,Uint8Array)&&(s=pe.from(s)),!pe.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(l,f),f+=s.length}return l},pe.byteLength=qs,pe.prototype._isBuffer=!0,pe.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<e;i+=2)Pt(this,i,i+1);return this},pe.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<e;i+=4)Pt(this,i,i+3),Pt(this,i+1,i+2);return this},pe.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<e;i+=8)Pt(this,i,i+7),Pt(this,i+1,i+6),Pt(this,i+2,i+5),Pt(this,i+3,i+4);return this},pe.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Vs(this,0,e):Ta.apply(this,arguments)},pe.prototype.toLocaleString=pe.prototype.toString,pe.prototype.equals=function(e){if(!pe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||pe.compare(this,e)===0},pe.prototype.inspect=function(){var e="",i=at.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},Wr&&(pe.prototype[Wr]=pe.prototype.inspect),pe.prototype.compare=function(e,i,t,l,f){if(yt(e,Uint8Array)&&(e=pe.from(e,e.offset,e.byteLength)),!pe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(i===void 0&&(i=0),t===void 0&&(t=e?e.length:0),l===void 0&&(l=0),f===void 0&&(f=this.length),i<0||t>e.length||l<0||f>this.length)throw new RangeError("out of range index");if(l>=f&&i>=t)return 0;if(l>=f)return-1;if(i>=t)return 1;if(this===e)return 0;for(var s=(f>>>=0)-(l>>>=0),r=(t>>>=0)-(i>>>=0),o=Math.min(s,r),n=this.slice(l,f),a=e.slice(i,t),c=0;c<o;++c)if(n[c]!==a[c]){s=n[c],r=a[c];break}return s<r?-1:r<s?1:0},pe.prototype.includes=function(e,i,t){return this.indexOf(e,i,t)!==-1},pe.prototype.indexOf=function(e,i,t){return Wi(this,e,i,t,!0)},pe.prototype.lastIndexOf=function(e,i,t){return Wi(this,e,i,t,!1)},pe.prototype.write=function(e,i,t,l){if(i===void 0)l="utf8",t=this.length,i=0;else if(t===void 0&&typeof i=="string")l=i,t=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i>>>=0,isFinite(t)?(t>>>=0,l===void 0&&(l="utf8")):(l=t,t=void 0)}var f=this.length-i;if((t===void 0||t>f)&&(t=f),e.length>0&&(t<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var s=!1;;)switch(l){case"hex":return ka(this,e,i,t);case"utf8":case"utf-8":return Ra(this,e,i,t);case"ascii":return Hs(this,e,i,t);case"latin1":case"binary":return Oa(this,e,i,t);case"base64":return Ca(this,e,i,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pa(this,e,i,t);default:if(s)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),s=!0}},pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},pe.prototype.slice=function(e,i){var t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(i=i===void 0?t:~~i)<0?(i+=t)<0&&(i=0):i>t&&(i=t),i<e&&(i=e);var l=this.subarray(e,i);return Object.setPrototypeOf(l,pe.prototype),l},pe.prototype.readUIntLE=function(e,i,t){e>>>=0,i>>>=0,t||Ve(e,i,this.length);for(var l=this[e],f=1,s=0;++s<i&&(f*=256);)l+=this[e+s]*f;return l},pe.prototype.readUIntBE=function(e,i,t){e>>>=0,i>>>=0,t||Ve(e,i,this.length);for(var l=this[e+--i],f=1;i>0&&(f*=256);)l+=this[e+--i]*f;return l},pe.prototype.readUInt8=function(e,i){return e>>>=0,i||Ve(e,1,this.length),this[e]},pe.prototype.readUInt16LE=function(e,i){return e>>>=0,i||Ve(e,2,this.length),this[e]|this[e+1]<<8},pe.prototype.readUInt16BE=function(e,i){return e>>>=0,i||Ve(e,2,this.length),this[e]<<8|this[e+1]},pe.prototype.readUInt32LE=function(e,i){return e>>>=0,i||Ve(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},pe.prototype.readUInt32BE=function(e,i){return e>>>=0,i||Ve(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},pe.prototype.readIntLE=function(e,i,t){e>>>=0,i>>>=0,t||Ve(e,i,this.length);for(var l=this[e],f=1,s=0;++s<i&&(f*=256);)l+=this[e+s]*f;return l>=(f*=128)&&(l-=Math.pow(2,8*i)),l},pe.prototype.readIntBE=function(e,i,t){e>>>=0,i>>>=0,t||Ve(e,i,this.length);for(var l=i,f=1,s=this[e+--l];l>0&&(f*=256);)s+=this[e+--l]*f;return s>=(f*=128)&&(s-=Math.pow(2,8*i)),s},pe.prototype.readInt8=function(e,i){return e>>>=0,i||Ve(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},pe.prototype.readInt16LE=function(e,i){e>>>=0,i||Ve(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},pe.prototype.readInt16BE=function(e,i){e>>>=0,i||Ve(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},pe.prototype.readInt32LE=function(e,i){return e>>>=0,i||Ve(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},pe.prototype.readInt32BE=function(e,i){return e>>>=0,i||Ve(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},pe.prototype.readFloatLE=function(e,i){return e>>>=0,i||Ve(e,4,this.length),Nt.read(this,e,!0,23,4)},pe.prototype.readFloatBE=function(e,i){return e>>>=0,i||Ve(e,4,this.length),Nt.read(this,e,!1,23,4)},pe.prototype.readDoubleLE=function(e,i){return e>>>=0,i||Ve(e,8,this.length),Nt.read(this,e,!0,52,8)},pe.prototype.readDoubleBE=function(e,i){return e>>>=0,i||Ve(e,8,this.length),Nt.read(this,e,!1,52,8)},pe.prototype.writeUIntLE=function(e,i,t,l){e=+e,i>>>=0,t>>>=0,l||Ze(this,e,i,t,Math.pow(2,8*t)-1,0);var f=1,s=0;for(this[i]=255&e;++s<t&&(f*=256);)this[i+s]=e/f&255;return i+t},pe.prototype.writeUIntBE=function(e,i,t,l){e=+e,i>>>=0,t>>>=0,l||Ze(this,e,i,t,Math.pow(2,8*t)-1,0);var f=t-1,s=1;for(this[i+f]=255&e;--f>=0&&(s*=256);)this[i+f]=e/s&255;return i+t},pe.prototype.writeUInt8=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,1,255,0),this[i]=255&e,i+1},pe.prototype.writeUInt16LE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,2,65535,0),this[i]=255&e,this[i+1]=e>>>8,i+2},pe.prototype.writeUInt16BE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,2,65535,0),this[i]=e>>>8,this[i+1]=255&e,i+2},pe.prototype.writeUInt32LE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,4,4294967295,0),this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=255&e,i+4},pe.prototype.writeUInt32BE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,4,4294967295,0),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e,i+4},pe.prototype.writeIntLE=function(e,i,t,l){if(e=+e,i>>>=0,!l){var f=Math.pow(2,8*t-1);Ze(this,e,i,t,f-1,-f)}var s=0,r=1,o=0;for(this[i]=255&e;++s<t&&(r*=256);)e<0&&o===0&&this[i+s-1]!==0&&(o=1),this[i+s]=(e/r>>0)-o&255;return i+t},pe.prototype.writeIntBE=function(e,i,t,l){if(e=+e,i>>>=0,!l){var f=Math.pow(2,8*t-1);Ze(this,e,i,t,f-1,-f)}var s=t-1,r=1,o=0;for(this[i+s]=255&e;--s>=0&&(r*=256);)e<0&&o===0&&this[i+s+1]!==0&&(o=1),this[i+s]=(e/r>>0)-o&255;return i+t},pe.prototype.writeInt8=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,1,127,-128),e<0&&(e=255+e+1),this[i]=255&e,i+1},pe.prototype.writeInt16LE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,2,32767,-32768),this[i]=255&e,this[i+1]=e>>>8,i+2},pe.prototype.writeInt16BE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,2,32767,-32768),this[i]=e>>>8,this[i+1]=255&e,i+2},pe.prototype.writeInt32LE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,4,2147483647,-2147483648),this[i]=255&e,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24,i+4},pe.prototype.writeInt32BE=function(e,i,t){return e=+e,i>>>=0,t||Ze(this,e,i,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e,i+4},pe.prototype.writeFloatLE=function(e,i,t){return qi(this,e,i,!0,t)},pe.prototype.writeFloatBE=function(e,i,t){return qi(this,e,i,!1,t)},pe.prototype.writeDoubleLE=function(e,i,t){return Hi(this,e,i,!0,t)},pe.prototype.writeDoubleBE=function(e,i,t){return Hi(this,e,i,!1,t)},pe.prototype.copy=function(e,i,t,l){if(!pe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),l||l===0||(l=this.length),i>=e.length&&(i=e.length),i||(i=0),l>0&&l<t&&(l=t),l===t||e.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-i<l-t&&(l=e.length-i+t);var f=l-t;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(i,t,l);else if(this===e&&t<i&&i<l)for(var s=f-1;s>=0;--s)e[s+i]=this[s+t];else Uint8Array.prototype.set.call(e,this.subarray(t,l),i);return f},pe.prototype.fill=function(e,i,t,l){if(typeof e=="string"){if(typeof i=="string"?(l=i,i=0,t=this.length):typeof t=="string"&&(l=t,t=this.length),l!==void 0&&typeof l!="string")throw new TypeError("encoding must be a string");if(typeof l=="string"&&!pe.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(e.length===1){var f=e.charCodeAt(0);(l==="utf8"&&f<128||l==="latin1")&&(e=f)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(i<0||this.length<i||this.length<t)throw new RangeError("Out of range index");if(t<=i)return this;var s;if(i>>>=0,t=t===void 0?this.length:t>>>0,e||(e=0),typeof e=="number")for(s=i;s<t;++s)this[s]=e;else{var r=pe.isBuffer(e)?e:pe.from(e,l),o=r.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<t-i;++s)this[s+i]=r[s%o]}return this},Ys=/[^+/0-9A-Za-z-_]/g,Qs=function(){for(var e=new Array(256),i=0;i<16;++i)for(var t=16*i,l=0;l<16;++l)e[t+l]="0123456789abcdef"[i]+"0123456789abcdef"[l];return e}(),at.Buffer,at.INSPECT_MAX_BYTES,at.kMaxLength,er={},tr=at,it=tr.Buffer,it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?er=tr:(Vi(tr,er),er.Buffer=Bt),Bt.prototype=Object.create(it.prototype),Vi(it,Bt),Bt.from=function(e,i,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return it(e,i,t)},Bt.alloc=function(e,i,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var l=it(e);return i!==void 0?typeof t=="string"?l.fill(i,t):l.fill(i):l.fill(0),l},Bt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return it(e)},Bt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return tr.SlowBuffer(e)},Gi=er,Qt={},Ir=Gi.Buffer,ii=Ir.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Qt.StringDecoder=Xt,Xt.prototype.write=function(e){if(e.length===0)return"";var i,t;if(this.lastNeed){if((i=this.fillLast(e))===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?i?i+this.text(e,t):this.text(e,t):i||""},Xt.prototype.end=function(e){var i=e&&e.length?this.write(e):"";return this.lastNeed?i+"":i},Xt.prototype.text=function(e,i){var t=function(f,s,r){var o=s.length-1;if(o<r)return 0;var n=Fr(s[o]);return n>=0?(n>0&&(f.lastNeed=n-1),n):--o<r||n===-2?0:(n=Fr(s[o]))>=0?(n>0&&(f.lastNeed=n-2),n):--o<r||n===-2?0:(n=Fr(s[o]))>=0?(n>0&&(n===2?n=0:f.lastNeed=n-3),n):0}(this,e,i);if(!this.lastNeed)return e.toString("utf8",i);this.lastTotal=t;var l=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,l),e.toString("utf8",i,l)},Xt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Qt.StringDecoder,Qt.StringDecoder}),Gs={};qt(Gs,{StringDecoder:()=>Js,default:()=>Qt});var Js,Ha=Ke(()=>{ae(),ue(),le(),Ji(),Ji(),Js=Qt.StringDecoder}),Zs=be((e,i)=>{ae(),ue(),le();var t=Ht(),{PromisePrototypeThen:l,SymbolAsyncIterator:f,SymbolIterator:s}=$e(),{Buffer:r}=(Qe(),xe(Ye)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:n}=Xe().codes;function a(c,p,g){let b;if(typeof p=="string"||p instanceof r)return new c({objectMode:!0,...g,read(){this.push(p),this.push(null)}});let m;if(p&&p[f])m=!0,b=p[f]();else if(p&&p[s])m=!1,b=p[s]();else throw new o("iterable",["Iterable"],p);let y=new c({objectMode:!0,highWaterMark:1,...g}),A=!1;y._read=function(){A||(A=!0,I())},y._destroy=function(v,L){l(M(v),()=>t.nextTick(L,v),j=>t.nextTick(L,j||v))};async function M(v){let L=v!=null,j=typeof b.throw=="function";if(L&&j){let{value:R,done:k}=await b.throw(v);if(await R,k)return}if(typeof b.return=="function"){let{value:R}=await b.return();await R}}async function I(){for(;;){try{let{value:v,done:L}=m?await b.next():b.next();if(L)y.push(null);else{let j=v&&typeof v.then=="function"?await v:v;if(j===null)throw A=!1,new n;if(y.push(j))continue;A=!1}}catch(v){y.destroy(v)}break}}return y}i.exports=a}),Pr=be((e,i)=>{ae(),ue(),le();var t=Ht(),{ArrayPrototypeIndexOf:l,NumberIsInteger:f,NumberIsNaN:s,NumberParseInt:r,ObjectDefineProperties:o,ObjectKeys:n,ObjectSetPrototypeOf:a,Promise:c,SafeSet:p,SymbolAsyncIterator:g,Symbol:b}=$e();i.exports=_,_.ReadableState=we;var{EventEmitter:m}=(Jt(),xe(Vt)),{Stream:y,prependListener:A}=Ei(),{Buffer:M}=(Qe(),xe(Ye)),{addAbortSignal:I}=Or(),v=Ot(),L=wt().debuglog("stream",u=>{L=u}),j=Sa(),R=Gt(),{getHighWaterMark:k,getDefaultHighWaterMark:x}=Si(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:G,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_OUT_OF_RANGE:S,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te}}=Xe(),{validateObject:Y}=Rr(),ge=b("kPaused"),{StringDecoder:se}=(Ha(),xe(Gs)),H=Zs();a(_.prototype,y.prototype),a(_,y);var me=()=>{},{errorOrDestroy:ie}=R;function we(u,d,w){typeof w!="boolean"&&(w=d instanceof _t()),this.objectMode=!!(u&&u.objectMode),w&&(this.objectMode=this.objectMode||!!(u&&u.readableObjectMode)),this.highWaterMark=u?k(this,u,"readableHighWaterMark",w):x(!1),this.buffer=new j,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ge]=null,this.errorEmitted=!1,this.emitClose=!u||u.emitClose!==!1,this.autoDestroy=!u||u.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=u&&u.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,u&&u.encoding&&(this.decoder=new se(u.encoding),this.encoding=u.encoding)}function _(u){if(!(this instanceof _))return new _(u);let d=this instanceof _t();this._readableState=new we(u,this,d),u&&(typeof u.read=="function"&&(this._read=u.read),typeof u.destroy=="function"&&(this._destroy=u.destroy),typeof u.construct=="function"&&(this._construct=u.construct),u.signal&&!d&&I(u.signal,this)),y.call(this,u),R.construct(this,()=>{this._readableState.needReadable&&ee(this,this._readableState)})}_.prototype.destroy=R.destroy,_.prototype._undestroy=R.undestroy,_.prototype._destroy=function(u,d){d(u)},_.prototype[m.captureRejectionSymbol]=function(u){this.destroy(u)},_.prototype.push=function(u,d){return Q(this,u,d,!1)},_.prototype.unshift=function(u,d){return Q(this,u,d,!0)};function Q(u,d,w,T){L("readableAddChunk",d);let W=u._readableState,X;if(W.objectMode||(typeof d=="string"?(w=w||W.defaultEncoding,W.encoding!==w&&(T&&W.encoding?d=M.from(d,w).toString(W.encoding):(d=M.from(d,w),w=""))):d instanceof M?w="":y._isUint8Array(d)?(d=y._uint8ArrayToBuffer(d),w=""):d!=null&&(X=new G("chunk",["string","Buffer","Uint8Array"],d))),X)ie(u,X);else if(d===null)W.reading=!1,E(u,W);else if(W.objectMode||d&&d.length>0)if(T)if(W.endEmitted)ie(u,new te);else{if(W.destroyed||W.errored)return!1;ce(u,W,d,!0)}else if(W.ended)ie(u,new V);else{if(W.destroyed||W.errored)return!1;W.reading=!1,W.decoder&&!w?(d=W.decoder.write(d),W.objectMode||d.length!==0?ce(u,W,d,!1):ee(u,W)):ce(u,W,d,!1)}else T||(W.reading=!1,ee(u,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function ce(u,d,w,T){d.flowing&&d.length===0&&!d.sync&&u.listenerCount("data")>0?(d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null,d.dataEmitted=!0,u.emit("data",w)):(d.length+=d.objectMode?1:w.length,T?d.buffer.unshift(w):d.buffer.push(w),d.needReadable&&K(u)),ee(u,d)}_.prototype.isPaused=function(){let u=this._readableState;return u[ge]===!0||u.flowing===!1},_.prototype.setEncoding=function(u){let d=new se(u);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;let w=this._readableState.buffer,T="";for(let W of w)T+=d.write(W);return w.clear(),T!==""&&w.push(T),this._readableState.length=T.length,this};var _e=1073741824;function he(u){if(u>_e)throw new S("size","<= 1GiB",u);return u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++,u}function B(u,d){return u<=0||d.length===0&&d.ended?0:d.objectMode?1:s(u)?d.flowing&&d.length?d.buffer.first().length:d.length:u<=d.length?u:d.ended?d.length:0}_.prototype.read=function(u){L("read",u),u===void 0?u=NaN:f(u)||(u=r(u,10));let d=this._readableState,w=u;if(u>d.highWaterMark&&(d.highWaterMark=he(u)),u!==0&&(d.emittedReadable=!1),u===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return L("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?O(this):K(this),null;if(u=B(u,d),u===0&&d.ended)return d.length===0&&O(this),null;let T=d.needReadable;if(L("need readable",T),(d.length===0||d.length-u<d.highWaterMark)&&(T=!0,L("length less than watermark",T)),d.ended||d.reading||d.destroyed||d.errored||!d.constructed)T=!1,L("reading, ended or constructing",T);else if(T){L("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0);try{this._read(d.highWaterMark)}catch(X){ie(this,X)}d.sync=!1,d.reading||(u=B(w,d))}let W;return u>0?W=z(u,d):W=null,W===null?(d.needReadable=d.length<=d.highWaterMark,u=0):(d.length-=u,d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null),d.length===0&&(d.ended||(d.needReadable=!0),w!==u&&d.ended&&O(this)),W!==null&&!d.errorEmitted&&!d.closeEmitted&&(d.dataEmitted=!0,this.emit("data",W)),W};function E(u,d){if(L("onEofChunk"),!d.ended){if(d.decoder){let w=d.decoder.end();w&&w.length&&(d.buffer.push(w),d.length+=d.objectMode?1:w.length)}d.ended=!0,d.sync?K(u):(d.needReadable=!1,d.emittedReadable=!0,fe(u))}}function K(u){let d=u._readableState;L("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(L("emitReadable",d.flowing),d.emittedReadable=!0,t.nextTick(fe,u))}function fe(u){let d=u._readableState;L("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&!d.errored&&(d.length||d.ended)&&(u.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,ne(u)}function ee(u,d){!d.readingMore&&d.constructed&&(d.readingMore=!0,t.nextTick(Z,u,d))}function Z(u,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){let w=d.length;if(L("maybeReadMore read 0"),u.read(0),w===d.length)break}d.readingMore=!1}_.prototype._read=function(u){throw new re("_read()")},_.prototype.pipe=function(u,d){let w=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new p(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(u),L("pipe count=%d opts=%j",T.pipes.length,d);let W=(!d||d.end!==!1)&&u!==t.stdout&&u!==t.stderr?Ae:ze;T.endEmitted?t.nextTick(W):w.once("end",W),u.on("unpipe",X);function X(Je,He){L("onunpipe"),Je===w&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,Ee())}function Ae(){L("onend"),u.end()}let ke,Re=!1;function Ee(){L("cleanup"),u.removeListener("close",qe),u.removeListener("finish",We),ke&&u.removeListener("drain",ke),u.removeListener("error",Me),u.removeListener("unpipe",X),w.removeListener("end",Ae),w.removeListener("end",ze),w.removeListener("data",Ie),Re=!0,ke&&T.awaitDrainWriters&&(!u._writableState||u._writableState.needDrain)&&ke()}function Te(){Re||(T.pipes.length===1&&T.pipes[0]===u?(L("false write response, pause",0),T.awaitDrainWriters=u,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(u)&&(L("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(u)),w.pause()),ke||(ke=ye(w,u),u.on("drain",ke))}w.on("data",Ie);function Ie(Je){L("ondata");let He=u.write(Je);L("dest.write",He),He===!1&&Te()}function Me(Je){if(L("onerror",Je),ze(),u.removeListener("error",Me),u.listenerCount("error")===0){let He=u._writableState||u._readableState;He&&!He.errorEmitted?ie(u,Je):u.emit("error",Je)}}A(u,"error",Me);function qe(){u.removeListener("finish",We),ze()}u.once("close",qe);function We(){L("onfinish"),u.removeListener("close",qe),ze()}u.once("finish",We);function ze(){L("unpipe"),w.unpipe(u)}return u.emit("pipe",w),u.writableNeedDrain===!0?T.flowing&&Te():T.flowing||(L("pipe resume"),w.resume()),u};function ye(u,d){return function(){let w=u._readableState;w.awaitDrainWriters===d?(L("pipeOnDrain",1),w.awaitDrainWriters=null):w.multiAwaitDrain&&(L("pipeOnDrain",w.awaitDrainWriters.size),w.awaitDrainWriters.delete(d)),(!w.awaitDrainWriters||w.awaitDrainWriters.size===0)&&u.listenerCount("data")&&u.resume()}}_.prototype.unpipe=function(u){let d=this._readableState,w={hasUnpiped:!1};if(d.pipes.length===0)return this;if(!u){let W=d.pipes;d.pipes=[],this.pause();for(let X=0;X<W.length;X++)W[X].emit("unpipe",this,{hasUnpiped:!1});return this}let T=l(d.pipes,u);return T===-1?this:(d.pipes.splice(T,1),d.pipes.length===0&&this.pause(),u.emit("unpipe",this,w),this)},_.prototype.on=function(u,d){let w=y.prototype.on.call(this,u,d),T=this._readableState;return u==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):u==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,L("on readable",T.length,T.reading),T.length?K(this):T.reading||t.nextTick(C,this)),w},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(u,d){let w=y.prototype.removeListener.call(this,u,d);return u==="readable"&&t.nextTick(de,this),w},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(u){let d=y.prototype.removeAllListeners.apply(this,arguments);return(u==="readable"||u===void 0)&&t.nextTick(de,this),d};function de(u){let d=u._readableState;d.readableListening=u.listenerCount("readable")>0,d.resumeScheduled&&d[ge]===!1?d.flowing=!0:u.listenerCount("data")>0?u.resume():d.readableListening||(d.flowing=null)}function C(u){L("readable nexttick read 0"),u.read(0)}_.prototype.resume=function(){let u=this._readableState;return u.flowing||(L("resume"),u.flowing=!u.readableListening,D(this,u)),u[ge]=!1,this};function D(u,d){d.resumeScheduled||(d.resumeScheduled=!0,t.nextTick(F,u,d))}function F(u,d){L("resume",d.reading),d.reading||u.read(0),d.resumeScheduled=!1,u.emit("resume"),ne(u),d.flowing&&!d.reading&&u.read(0)}_.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ge]=!0,this};function ne(u){let d=u._readableState;for(L("flow",d.flowing);d.flowing&&u.read()!==null;);}_.prototype.wrap=function(u){let d=!1;u.on("data",T=>{!this.push(T)&&u.pause&&(d=!0,u.pause())}),u.on("end",()=>{this.push(null)}),u.on("error",T=>{ie(this,T)}),u.on("close",()=>{this.destroy()}),u.on("destroy",()=>{this.destroy()}),this._read=()=>{d&&u.resume&&(d=!1,u.resume())};let w=n(u);for(let T=1;T<w.length;T++){let W=w[T];this[W]===void 0&&typeof u[W]=="function"&&(this[W]=u[W].bind(u))}return this},_.prototype[g]=function(){return J(this)},_.prototype.iterator=function(u){return u!==void 0&&Y(u,"options"),J(this,u)};function J(u,d){typeof u.read!="function"&&(u=_.wrap(u,{objectMode:!0}));let w=U(u,d);return w.stream=u,w}async function*U(u,d){let w=me;function T(Ae){this===u?(w(),w=me):w=Ae}u.on("readable",T);let W,X=v(u,{writable:!1},Ae=>{W=Ae?$(W,Ae):null,w(),w=me});try{for(;;){let Ae=u.destroyed?null:u.read();if(Ae!==null)yield Ae;else{if(W)throw W;if(W===null)return;await new c(T)}}}catch(Ae){throw W=$(W,Ae),W}finally{(W||(d==null?void 0:d.destroyOnReturn)!==!1)&&(W===void 0||u._readableState.autoDestroy)?R.destroyer(u,null):(u.off("readable",T),X())}}o(_.prototype,{readable:{__proto__:null,get(){let u=this._readableState;return!!u&&u.readable!==!1&&!u.destroyed&&!u.errorEmitted&&!u.endEmitted},set(u){this._readableState&&(this._readableState.readable=!!u)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){this._readableState&&(this._readableState.flowing=u)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(u){this._readableState&&(this._readableState.destroyed=u)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(we.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ge]!==!1},set(u){this[ge]=!!u}}}),_._fromList=z;function z(u,d){if(d.length===0)return null;let w;return d.objectMode?w=d.buffer.shift():!u||u>=d.length?(d.decoder?w=d.buffer.join(""):d.buffer.length===1?w=d.buffer.first():w=d.buffer.concat(d.length),d.buffer.clear()):w=d.buffer.consume(u,d.decoder),w}function O(u){let d=u._readableState;L("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,t.nextTick(N,d,u))}function N(u,d){if(L("endReadableNT",u.endEmitted,u.length),!u.errored&&!u.closeEmitted&&!u.endEmitted&&u.length===0){if(u.endEmitted=!0,d.emit("end"),d.writable&&d.allowHalfOpen===!1)t.nextTick(q,d);else if(u.autoDestroy){let w=d._writableState;(!w||w.autoDestroy&&(w.finished||w.writable===!1))&&d.destroy()}}}function q(u){u.writable&&!u.writableEnded&&!u.destroyed&&u.end()}_.from=function(u,d){return H(_,u,d)};var oe;function h(){return oe===void 0&&(oe={}),oe}_.fromWeb=function(u,d){return h().newStreamReadableFromReadableStream(u,d)},_.toWeb=function(u,d){return h().newReadableStreamFromStreamReadable(u,d)},_.wrap=function(u,d){var w,T;return new _({objectMode:(w=(T=u.readableObjectMode)!==null&&T!==void 0?T:u.objectMode)!==null&&w!==void 0?w:!0,...d,destroy(W,X){R.destroyer(u,W),X(W)}}).wrap(u)}}),Xs=be((e,i)=>{ae(),ue(),le();var t=Ht(),{ArrayPrototypeSlice:l,Error:f,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:r,ObjectDefineProperties:o,ObjectSetPrototypeOf:n,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:p}=$e();i.exports=se,se.WritableState=Y;var{EventEmitter:g}=(Jt(),xe(Vt)),b=Ei().Stream,{Buffer:m}=(Qe(),xe(Ye)),y=Gt(),{addAbortSignal:A}=Or(),{getHighWaterMark:M,getDefaultHighWaterMark:I}=Si(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_MULTIPLE_CALLBACK:j,ERR_STREAM_CANNOT_PIPE:R,ERR_STREAM_DESTROYED:k,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:$,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:re}=Xe().codes,{errorOrDestroy:S}=y;n(se.prototype,b.prototype),n(se,b);function V(){}var te=c("kOnFinished");function Y(C,D,F){typeof F!="boolean"&&(F=D instanceof _t()),this.objectMode=!!(C&&C.objectMode),F&&(this.objectMode=this.objectMode||!!(C&&C.writableObjectMode)),this.highWaterMark=C?M(this,C,"writableHighWaterMark",F):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ne=!!(C&&C.decodeStrings===!1);this.decodeStrings=!ne,this.defaultEncoding=C&&C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=_.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ge(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!C||C.emitClose!==!1,this.autoDestroy=!C||C.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[te]=[]}function ge(C){C.buffered=[],C.bufferedIndex=0,C.allBuffers=!0,C.allNoop=!0}Y.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},r(Y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function se(C){let D=this instanceof _t();if(!D&&!s(se,this))return new se(C);this._writableState=new Y(C,this,D),C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final),typeof C.construct=="function"&&(this._construct=C.construct),C.signal&&A(C.signal,this)),b.call(this,C),y.construct(this,()=>{let F=this._writableState;F.writing||he(this,F),fe(this,F)})}r(se,p,{__proto__:null,value:function(C){return s(this,C)?!0:this!==se?!1:C&&C._writableState instanceof Y}}),se.prototype.pipe=function(){S(this,new R)};function H(C,D,F,ne){let J=C._writableState;if(typeof F=="function")ne=F,F=J.defaultEncoding;else{if(!F)F=J.defaultEncoding;else if(F!=="buffer"&&!m.isEncoding(F))throw new re(F);typeof ne!="function"&&(ne=V)}if(D===null)throw new $;if(!J.objectMode)if(typeof D=="string")J.decodeStrings!==!1&&(D=m.from(D,F),F="buffer");else if(D instanceof m)F="buffer";else if(b._isUint8Array(D))D=b._uint8ArrayToBuffer(D),F="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],D);let U;return J.ending?U=new G:J.destroyed&&(U=new k("write")),U?(t.nextTick(ne,U),S(C,U,!0),U):(J.pendingcb++,me(C,J,D,F,ne))}se.prototype.write=function(C,D,F){return H(this,C,D,F)===!0},se.prototype.cork=function(){this._writableState.corked++},se.prototype.uncork=function(){let C=this._writableState;C.corked&&(C.corked--,C.writing||he(this,C))},se.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=a(C)),!m.isEncoding(C))throw new re(C);return this._writableState.defaultEncoding=C,this};function me(C,D,F,ne,J){let U=D.objectMode?1:F.length;D.length+=U;let z=D.length<D.highWaterMark;return z||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:F,encoding:ne,callback:J}),D.allBuffers&&ne!=="buffer"&&(D.allBuffers=!1),D.allNoop&&J!==V&&(D.allNoop=!1)):(D.writelen=U,D.writecb=J,D.writing=!0,D.sync=!0,C._write(F,ne,D.onwrite),D.sync=!1),z&&!D.errored&&!D.destroyed}function ie(C,D,F,ne,J,U,z){D.writelen=ne,D.writecb=z,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new k("write")):F?C._writev(J,D.onwrite):C._write(J,U,D.onwrite),D.sync=!1}function we(C,D,F,ne){--D.pendingcb,ne(F),_e(D),S(C,F)}function _(C,D){let F=C._writableState,ne=F.sync,J=F.writecb;if(typeof J!="function"){S(C,new j);return}F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0,D?(D.stack,F.errored||(F.errored=D),C._readableState&&!C._readableState.errored&&(C._readableState.errored=D),ne?t.nextTick(we,C,F,D,J):we(C,F,D,J)):(F.buffered.length>F.bufferedIndex&&he(C,F),ne?F.afterWriteTickInfo!==null&&F.afterWriteTickInfo.cb===J?F.afterWriteTickInfo.count++:(F.afterWriteTickInfo={count:1,cb:J,stream:C,state:F},t.nextTick(Q,F.afterWriteTickInfo)):ce(C,F,1,J))}function Q({stream:C,state:D,count:F,cb:ne}){return D.afterWriteTickInfo=null,ce(C,D,F,ne)}function ce(C,D,F,ne){for(!D.ending&&!C.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,C.emit("drain"));F-- >0;)D.pendingcb--,ne();D.destroyed&&_e(D),fe(C,D)}function _e(C){if(C.writing)return;for(let J=C.bufferedIndex;J<C.buffered.length;++J){var D;let{chunk:U,callback:z}=C.buffered[J],O=C.objectMode?1:U.length;C.length-=O,z((D=C.errored)!==null&&D!==void 0?D:new k("write"))}let F=C[te].splice(0);for(let J=0;J<F.length;J++){var ne;F[J]((ne=C.errored)!==null&&ne!==void 0?ne:new k("end"))}ge(C)}function he(C,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:F,bufferedIndex:ne,objectMode:J}=D,U=F.length-ne;if(!U)return;let z=ne;if(D.bufferProcessing=!0,U>1&&C._writev){D.pendingcb-=U-1;let O=D.allNoop?V:q=>{for(let oe=z;oe<F.length;++oe)F[oe].callback(q)},N=D.allNoop&&z===0?F:l(F,z);N.allBuffers=D.allBuffers,ie(C,D,!0,D.length,N,"",O),ge(D)}else{do{let{chunk:O,encoding:N,callback:q}=F[z];F[z++]=null;let oe=J?1:O.length;ie(C,D,!1,oe,O,N,q)}while(z<F.length&&!D.writing);z===F.length?ge(D):z>256?(F.splice(0,z),D.bufferedIndex=0):D.bufferedIndex=z}D.bufferProcessing=!1}se.prototype._write=function(C,D,F){if(this._writev)this._writev([{chunk:C,encoding:D}],F);else throw new L("_write()")},se.prototype._writev=null,se.prototype.end=function(C,D,F){let ne=this._writableState;typeof C=="function"?(F=C,C=null,D=null):typeof D=="function"&&(F=D,D=null);let J;if(C!=null){let U=H(this,C,D);U instanceof f&&(J=U)}return ne.corked&&(ne.corked=1,this.uncork()),J||(!ne.errored&&!ne.ending?(ne.ending=!0,fe(this,ne,!0),ne.ended=!0):ne.finished?J=new x("end"):ne.destroyed&&(J=new k("end"))),typeof F=="function"&&(J||ne.finished?t.nextTick(F,J):ne[te].push(F)),this};function B(C){return C.ending&&!C.destroyed&&C.constructed&&C.length===0&&!C.errored&&C.buffered.length===0&&!C.finished&&!C.writing&&!C.errorEmitted&&!C.closeEmitted}function E(C,D){let F=!1;function ne(J){if(F){S(C,J??j());return}if(F=!0,D.pendingcb--,J){let U=D[te].splice(0);for(let z=0;z<U.length;z++)U[z](J);S(C,J,D.sync)}else B(D)&&(D.prefinished=!0,C.emit("prefinish"),D.pendingcb++,t.nextTick(ee,C,D))}D.sync=!0,D.pendingcb++;try{C._final(ne)}catch(J){ne(J)}D.sync=!1}function K(C,D){!D.prefinished&&!D.finalCalled&&(typeof C._final=="function"&&!D.destroyed?(D.finalCalled=!0,E(C,D)):(D.prefinished=!0,C.emit("prefinish")))}function fe(C,D,F){B(D)&&(K(C,D),D.pendingcb===0&&(F?(D.pendingcb++,t.nextTick((ne,J)=>{B(J)?ee(ne,J):J.pendingcb--},C,D)):B(D)&&(D.pendingcb++,ee(C,D))))}function ee(C,D){D.pendingcb--,D.finished=!0;let F=D[te].splice(0);for(let ne=0;ne<F.length;ne++)F[ne]();if(C.emit("finish"),D.autoDestroy){let ne=C._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||ne.readable===!1))&&C.destroy()}}o(se.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(C){this._writableState&&(this._writableState.destroyed=C)}},writable:{__proto__:null,get(){let C=this._writableState;return!!C&&C.writable!==!1&&!C.destroyed&&!C.errored&&!C.ending&&!C.ended},set(C){this._writableState&&(this._writableState.writable=!!C)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let C=this._writableState;return C?!C.destroyed&&!C.ending&&C.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Z=y.destroy;se.prototype.destroy=function(C,D){let F=this._writableState;return!F.destroyed&&(F.bufferedIndex<F.buffered.length||F[te].length)&&t.nextTick(_e,F),Z.call(this,C,D),this},se.prototype._undestroy=y.undestroy,se.prototype._destroy=function(C,D){D(C)},se.prototype[g.captureRejectionSymbol]=function(C){this.destroy(C)};var ye;function de(){return ye===void 0&&(ye={}),ye}se.fromWeb=function(C,D){return de().newStreamWritableFromWritableStream(C,D)},se.toWeb=function(C){return de().newWritableStreamFromStreamWritable(C)}}),Va=be((e,i)=>{ae(),ue(),le();var t=Ht(),l=(Qe(),xe(Ye)),{isReadable:f,isWritable:s,isIterable:r,isNodeStream:o,isReadableNodeStream:n,isWritableNodeStream:a,isDuplexNodeStream:c}=Et(),p=Ot(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:m}}=Xe(),{destroyer:y}=Gt(),A=_t(),M=Pr(),{createDeferredPromise:I}=wt(),v=Zs(),L=globalThis.Blob||l.Blob,j=typeof L<"u"?function(re){return re instanceof L}:function(re){return!1},R=globalThis.AbortController||vi().AbortController,{FunctionPrototypeCall:k}=$e(),x=class extends A{constructor(re){super(re),(re==null?void 0:re.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(re==null?void 0:re.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};i.exports=function re(S,V){if(c(S))return S;if(n(S))return G({readable:S});if(a(S))return G({writable:S});if(o(S))return G({writable:!1,readable:!1});if(typeof S=="function"){let{value:Y,write:ge,final:se,destroy:H}=$(S);if(r(Y))return v(x,Y,{objectMode:!0,write:ge,final:se,destroy:H});let me=Y==null?void 0:Y.then;if(typeof me=="function"){let ie,we=k(me,Y,_=>{if(_!=null)throw new m("nully","body",_)},_=>{y(ie,_)});return ie=new x({objectMode:!0,readable:!1,write:ge,final(_){se(async()=>{try{await we,t.nextTick(_,null)}catch(Q){t.nextTick(_,Q)}})},destroy:H})}throw new m("Iterable, AsyncIterable or AsyncFunction",V,Y)}if(j(S))return re(S.arrayBuffer());if(r(S))return v(x,S,{objectMode:!0,writable:!1});if(typeof(S==null?void 0:S.writable)=="object"||typeof(S==null?void 0:S.readable)=="object"){let Y=S!=null&&S.readable?n(S==null?void 0:S.readable)?S==null?void 0:S.readable:re(S.readable):void 0,ge=S!=null&&S.writable?a(S==null?void 0:S.writable)?S==null?void 0:S.writable:re(S.writable):void 0;return G({readable:Y,writable:ge})}let te=S==null?void 0:S.then;if(typeof te=="function"){let Y;return k(te,S,ge=>{ge!=null&&Y.push(ge),Y.push(null)},ge=>{y(Y,ge)}),Y=new x({objectMode:!0,writable:!1,read(){}})}throw new b(V,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],S)};function $(re){let{promise:S,resolve:V}=I(),te=new R,Y=te.signal;return{value:re(async function*(){for(;;){let ge=S;S=null;let{chunk:se,done:H,cb:me}=await ge;if(t.nextTick(me),H)return;if(Y.aborted)throw new g(void 0,{cause:Y.reason});({promise:S,resolve:V}=I()),yield se}}(),{signal:Y}),write(ge,se,H){let me=V;V=null,me({chunk:ge,done:!1,cb:H})},final(ge){let se=V;V=null,se({done:!0,cb:ge})},destroy(ge,se){te.abort(),se(ge)}}}function G(re){let S=re.readable&&typeof re.readable.read!="function"?M.wrap(re.readable):re.readable,V=re.writable,te=!!f(S),Y=!!s(V),ge,se,H,me,ie;function we(_){let Q=me;me=null,Q?Q(_):_&&ie.destroy(_)}return ie=new x({readableObjectMode:!!(S!=null&&S.readableObjectMode),writableObjectMode:!!(V!=null&&V.writableObjectMode),readable:te,writable:Y}),Y&&(p(V,_=>{Y=!1,_&&y(S,_),we(_)}),ie._write=function(_,Q,ce){V.write(_,Q)?ce():ge=ce},ie._final=function(_){V.end(),se=_},V.on("drain",function(){if(ge){let _=ge;ge=null,_()}}),V.on("finish",function(){if(se){let _=se;se=null,_()}})),te&&(p(S,_=>{te=!1,_&&y(S,_),we(_)}),S.on("readable",function(){if(H){let _=H;H=null,_()}}),S.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){let _=S.read();if(_===null){H=ie._read;return}if(!ie.push(_))return}}),ie._destroy=function(_,Q){!_&&me!==null&&(_=new g),H=null,ge=null,se=null,me===null?Q(_):(me=Q,y(V,_),y(S,_))},ie}}),_t=be((e,i)=>{ae(),ue(),le();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:f,ObjectSetPrototypeOf:s}=$e();i.exports=n;var r=Pr(),o=Xs();s(n.prototype,r.prototype),s(n,r);{let g=f(o.prototype);for(let b=0;b<g.length;b++){let m=g[b];n.prototype[m]||(n.prototype[m]=o.prototype[m])}}function n(g){if(!(this instanceof n))return new n(g);r.call(this,g),o.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(n.prototype,{writable:{__proto__:null,...l(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(o.prototype,"writableLength")},writableFinished:{__proto__:null,...l(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var a;function c(){return a===void 0&&(a={}),a}n.fromWeb=function(g,b){return c().newStreamDuplexFromReadableWritablePair(g,b)},n.toWeb=function(g){return c().newReadableWritablePairFromDuplex(g)};var p;n.from=function(g){return p||(p=Va()),p(g,"body")}}),eo=be((e,i)=>{ae(),ue(),le();var{ObjectSetPrototypeOf:t,Symbol:l}=$e();i.exports=n;var{ERR_METHOD_NOT_IMPLEMENTED:f}=Xe().codes,s=_t(),{getHighWaterMark:r}=Si();t(n.prototype,s.prototype),t(n,s);var o=l("kCallback");function n(p){if(!(this instanceof n))return new n(p);let g=p?r(this,p,"readableHighWaterMark",!0):null;g===0&&(p={...p,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:p.writableHighWaterMark||0}),s.call(this,p),this._readableState.sync=!1,this[o]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function a(p){typeof this._flush=="function"&&!this.destroyed?this._flush((g,b)=>{if(g){p?p(g):this.destroy(g);return}b!=null&&this.push(b),this.push(null),p&&p()}):(this.push(null),p&&p())}function c(){this._final!==a&&a.call(this)}n.prototype._final=a,n.prototype._transform=function(p,g,b){throw new f("_transform()")},n.prototype._write=function(p,g,b){let m=this._readableState,y=this._writableState,A=m.length;this._transform(p,g,(M,I)=>{if(M){b(M);return}I!=null&&this.push(I),y.ended||A===m.length||m.length<m.highWaterMark?b():this[o]=b})},n.prototype._read=function(){if(this[o]){let p=this[o];this[o]=null,p()}}}),to=be((e,i)=>{ae(),ue(),le();var{ObjectSetPrototypeOf:t}=$e();i.exports=f;var l=eo();t(f.prototype,l.prototype),t(f,l);function f(s){if(!(this instanceof f))return new f(s);l.call(this,s)}f.prototype._transform=function(s,r,o){o(null,s)}}),Ti=be((e,i)=>{ae(),ue(),le();var t=Ht(),{ArrayIsArray:l,Promise:f,SymbolAsyncIterator:s}=$e(),r=Ot(),{once:o}=wt(),n=Gt(),a=_t(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:A}=Xe(),{validateFunction:M,validateAbortSignal:I}=Rr(),{isIterable:v,isReadable:L,isReadableNodeStream:j,isNodeStream:R,isTransformStream:k,isWebStream:x,isReadableStream:$,isReadableEnded:G}=Et(),re=globalThis.AbortController||vi().AbortController,S,V;function te(Q,ce,_e){let he=!1;Q.on("close",()=>{he=!0});let B=r(Q,{readable:ce,writable:_e},E=>{he=!E});return{destroy:E=>{he||(he=!0,n.destroyer(Q,E||new m("pipe")))},cleanup:B}}function Y(Q){return M(Q[Q.length-1],"streams[stream.length - 1]"),Q.pop()}function ge(Q){if(v(Q))return Q;if(j(Q))return se(Q);throw new p("val",["Readable","Iterable","AsyncIterable"],Q)}async function*se(Q){V||(V=Pr()),yield*V.prototype[s].call(Q)}async function H(Q,ce,_e,{end:he}){let B,E=null,K=Z=>{if(Z&&(B=Z),E){let ye=E;E=null,ye()}},fe=()=>new f((Z,ye)=>{B?ye(B):E=()=>{B?ye(B):Z()}});ce.on("drain",K);let ee=r(ce,{readable:!1},K);try{ce.writableNeedDrain&&await fe();for await(let Z of Q)ce.write(Z)||await fe();he&&ce.end(),await fe(),_e()}catch(Z){_e(B!==Z?c(B,Z):Z)}finally{ee(),ce.off("drain",K)}}async function me(Q,ce,_e,{end:he}){k(ce)&&(ce=ce.writable);let B=ce.getWriter();try{for await(let E of Q)await B.ready,B.write(E).catch(()=>{});await B.ready,he&&await B.close(),_e()}catch(E){try{await B.abort(E),_e(E)}catch(K){_e(K)}}}function ie(...Q){return we(Q,o(Y(Q)))}function we(Q,ce,_e){if(Q.length===1&&l(Q[0])&&(Q=Q[0]),Q.length<2)throw new b("streams");let he=new re,B=he.signal,E=_e==null?void 0:_e.signal,K=[];I(E,"options.signal");function fe(){D(new A)}E==null||E.addEventListener("abort",fe);let ee,Z,ye=[],de=0;function C(U){D(U,--de===0)}function D(U,z){if(U&&(!ee||ee.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ee=U),!(!ee&&!z)){for(;ye.length;)ye.shift()(ee);E==null||E.removeEventListener("abort",fe),he.abort(),z&&(ee||K.forEach(O=>O()),t.nextTick(ce,ee,Z))}}let F;for(let U=0;U<Q.length;U++){let z=Q[U],O=U<Q.length-1,N=U>0,q=O||(_e==null?void 0:_e.end)!==!1,oe=U===Q.length-1;if(R(z)){let h=function(u){u&&u.name!=="AbortError"&&u.code!=="ERR_STREAM_PREMATURE_CLOSE"&&C(u)};if(q){let{destroy:u,cleanup:d}=te(z,O,N);ye.push(u),L(z)&&oe&&K.push(d)}z.on("error",h),L(z)&&oe&&K.push(()=>{z.removeListener("error",h)})}if(U===0)if(typeof z=="function"){if(F=z({signal:B}),!v(F))throw new g("Iterable, AsyncIterable or Stream","source",F)}else v(z)||j(z)||k(z)?F=z:F=a.from(z);else if(typeof z=="function"){if(k(F)){var ne;F=ge((ne=F)===null||ne===void 0?void 0:ne.readable)}else F=ge(F);if(F=z(F,{signal:B}),O){if(!v(F,!0))throw new g("AsyncIterable",`transform[${U-1}]`,F)}else{var J;S||(S=to());let h=new S({objectMode:!0}),u=(J=F)===null||J===void 0?void 0:J.then;if(typeof u=="function")de++,u.call(F,T=>{Z=T,T!=null&&h.write(T),q&&h.end(),t.nextTick(C)},T=>{h.destroy(T),t.nextTick(C,T)});else if(v(F,!0))de++,H(F,h,C,{end:q});else if($(F)||k(F)){let T=F.readable||F;de++,H(T,h,C,{end:q})}else throw new g("AsyncIterable or Promise","destination",F);F=h;let{destroy:d,cleanup:w}=te(F,!1,!0);ye.push(d),oe&&K.push(w)}}else if(R(z)){if(j(F)){de+=2;let h=_(F,z,C,{end:q});L(z)&&oe&&K.push(h)}else if(k(F)||$(F)){let h=F.readable||F;de++,H(h,z,C,{end:q})}else if(v(F))de++,H(F,z,C,{end:q});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);F=z}else if(x(z)){if(j(F))de++,me(ge(F),z,C,{end:q});else if($(F)||v(F))de++,me(F,z,C,{end:q});else if(k(F))de++,me(F.readable,z,C,{end:q});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);F=z}else F=a.from(z)}return(B!=null&&B.aborted||E!=null&&E.aborted)&&t.nextTick(fe),F}function _(Q,ce,_e,{end:he}){let B=!1;if(ce.on("close",()=>{B||_e(new y)}),Q.pipe(ce,{end:!1}),he){let E=function(){B=!0,ce.end()};G(Q)?t.nextTick(E):Q.once("end",E)}else _e();return r(Q,{readable:!0,writable:!1},E=>{let K=Q._readableState;E&&E.code==="ERR_STREAM_PREMATURE_CLOSE"&&K&&K.ended&&!K.errored&&!K.errorEmitted?Q.once("end",_e).once("error",_e):_e(E)}),r(ce,{readable:!1,writable:!0},_e)}i.exports={pipelineImpl:we,pipeline:ie}}),ro=be((e,i)=>{ae(),ue(),le();var{pipeline:t}=Ti(),l=_t(),{destroyer:f}=Gt(),{isNodeStream:s,isReadable:r,isWritable:o,isWebStream:n,isTransformStream:a,isWritableStream:c,isReadableStream:p}=Et(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:m}}=Xe(),y=Ot();i.exports=function(...A){if(A.length===0)throw new m("streams");if(A.length===1)return l.from(A[0]);let M=[...A];if(typeof A[0]=="function"&&(A[0]=l.from(A[0])),typeof A[A.length-1]=="function"){let S=A.length-1;A[S]=l.from(A[S])}for(let S=0;S<A.length;++S)if(!(!s(A[S])&&!n(A[S]))){if(S<A.length-1&&!(r(A[S])||p(A[S])||a(A[S])))throw new b(`streams[${S}]`,M[S],"must be readable");if(S>0&&!(o(A[S])||c(A[S])||a(A[S])))throw new b(`streams[${S}]`,M[S],"must be writable")}let I,v,L,j,R;function k(S){let V=j;j=null,V?V(S):S?R.destroy(S):!re&&!G&&R.destroy()}let x=A[0],$=t(A,k),G=!!(o(x)||c(x)||a(x)),re=!!(r($)||p($)||a($));if(R=new l({writableObjectMode:!!(x!=null&&x.writableObjectMode),readableObjectMode:!!($!=null&&$.writableObjectMode),writable:G,readable:re}),G){if(s(x))R._write=function(V,te,Y){x.write(V,te)?Y():I=Y},R._final=function(V){x.end(),v=V},x.on("drain",function(){if(I){let V=I;I=null,V()}});else if(n(x)){let V=(a(x)?x.writable:x).getWriter();R._write=async function(te,Y,ge){try{await V.ready,V.write(te).catch(()=>{}),ge()}catch(se){ge(se)}},R._final=async function(te){try{await V.ready,V.close().catch(()=>{}),v=te}catch(Y){te(Y)}}}let S=a($)?$.readable:$;y(S,()=>{if(v){let V=v;v=null,V()}})}if(re){if(s($))$.on("readable",function(){if(L){let S=L;L=null,S()}}),$.on("end",function(){R.push(null)}),R._read=function(){for(;;){let S=$.read();if(S===null){L=R._read;return}if(!R.push(S))return}};else if(n($)){let S=(a($)?$.readable:$).getReader();R._read=async function(){for(;;)try{let{value:V,done:te}=await S.read();if(!R.push(V))return;if(te){R.push(null);return}}catch{return}}}}return R._destroy=function(S,V){!S&&j!==null&&(S=new g),L=null,I=null,v=null,j===null?V(S):(j=V,s($)&&f($,S))},R}}),za=be((e,i)=>{ae(),ue(),le();var t=globalThis.AbortController||vi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:f,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:r},AbortError:o}=Xe(),{validateAbortSignal:n,validateInteger:a,validateObject:c}=Rr(),p=$e().Symbol("kWeak"),{finished:g}=Ot(),b=ro(),{addAbortSignalNoValidate:m}=Or(),{isWritable:y,isNodeStream:A}=Et(),{ArrayPrototypePush:M,MathFloor:I,Number:v,NumberIsNaN:L,Promise:j,PromiseReject:R,PromisePrototypeThen:k,Symbol:x}=$e(),$=x("kEmpty"),G=x("kEof");function re(he,B){if(B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&n(B.signal,"options.signal"),A(he)&&!y(he))throw new l("stream",he,"must be writable");let E=b(this,he);return B!=null&&B.signal&&m(B.signal,E),E}function S(he,B){if(typeof he!="function")throw new f("fn",["Function","AsyncFunction"],he);B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&n(B.signal,"options.signal");let E=1;return(B==null?void 0:B.concurrency)!=null&&(E=I(B.concurrency)),a(E,"concurrency",1),(async function*(){var K,fe;let ee=new t,Z=this,ye=[],de=ee.signal,C={signal:de},D=()=>ee.abort();B!=null&&(K=B.signal)!==null&&K!==void 0&&K.aborted&&D(),B==null||(fe=B.signal)===null||fe===void 0||fe.addEventListener("abort",D);let F,ne,J=!1;function U(){J=!0}async function z(){try{for await(let q of Z){var O;if(J)return;if(de.aborted)throw new o;try{q=he(q,C)}catch(oe){q=R(oe)}q!==$&&(typeof((O=q)===null||O===void 0?void 0:O.catch)=="function"&&q.catch(U),ye.push(q),F&&(F(),F=null),!J&&ye.length&&ye.length>=E&&await new j(oe=>{ne=oe}))}ye.push(G)}catch(q){let oe=R(q);k(oe,void 0,U),ye.push(oe)}finally{var N;J=!0,F&&(F(),F=null),B==null||(N=B.signal)===null||N===void 0||N.removeEventListener("abort",D)}}z();try{for(;;){for(;ye.length>0;){let O=await ye[0];if(O===G)return;if(de.aborted)throw new o;O!==$&&(yield O),ye.shift(),ne&&(ne(),ne=null)}await new j(O=>{F=O})}}finally{ee.abort(),J=!0,ne&&(ne(),ne=null)}}).call(this)}function V(he=void 0){return he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&n(he.signal,"options.signal"),(async function*(){let B=0;for await(let K of this){var E;if(he!=null&&(E=he.signal)!==null&&E!==void 0&&E.aborted)throw new o({cause:he.signal.reason});yield[B++,K]}}).call(this)}async function te(he,B=void 0){for await(let E of H.call(this,he,B))return!0;return!1}async function Y(he,B=void 0){if(typeof he!="function")throw new f("fn",["Function","AsyncFunction"],he);return!await te.call(this,async(...E)=>!await he(...E),B)}async function ge(he,B){for await(let E of H.call(this,he,B))return E}async function se(he,B){if(typeof he!="function")throw new f("fn",["Function","AsyncFunction"],he);async function E(K,fe){return await he(K,fe),$}for await(let K of S.call(this,E,B));}function H(he,B){if(typeof he!="function")throw new f("fn",["Function","AsyncFunction"],he);async function E(K,fe){return await he(K,fe)?K:$}return S.call(this,E,B)}var me=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ie(he,B,E){var K;if(typeof he!="function")throw new f("reducer",["Function","AsyncFunction"],he);E!=null&&c(E,"options"),(E==null?void 0:E.signal)!=null&&n(E.signal,"options.signal");let fe=arguments.length>1;if(E!=null&&(K=E.signal)!==null&&K!==void 0&&K.aborted){let C=new o(void 0,{cause:E.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(C)),C}let ee=new t,Z=ee.signal;if(E!=null&&E.signal){let C={once:!0,[p]:this};E.signal.addEventListener("abort",()=>ee.abort(),C)}let ye=!1;try{for await(let C of this){var de;if(ye=!0,E!=null&&(de=E.signal)!==null&&de!==void 0&&de.aborted)throw new o;fe?B=await he(B,C,{signal:Z}):(B=C,fe=!0)}if(!ye&&!fe)throw new me}finally{ee.abort()}return B}async function we(he){he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&n(he.signal,"options.signal");let B=[];for await(let K of this){var E;if(he!=null&&(E=he.signal)!==null&&E!==void 0&&E.aborted)throw new o(void 0,{cause:he.signal.reason});M(B,K)}return B}function _(he,B){let E=S.call(this,he,B);return(async function*(){for await(let K of E)yield*K}).call(this)}function Q(he){if(he=v(he),L(he))return 0;if(he<0)throw new r("number",">= 0",he);return he}function ce(he,B=void 0){return B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&n(B.signal,"options.signal"),he=Q(he),(async function*(){var E;if(B!=null&&(E=B.signal)!==null&&E!==void 0&&E.aborted)throw new o;for await(let fe of this){var K;if(B!=null&&(K=B.signal)!==null&&K!==void 0&&K.aborted)throw new o;he--<=0&&(yield fe)}}).call(this)}function _e(he,B=void 0){return B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&n(B.signal,"options.signal"),he=Q(he),(async function*(){var E;if(B!=null&&(E=B.signal)!==null&&E!==void 0&&E.aborted)throw new o;for await(let fe of this){var K;if(B!=null&&(K=B.signal)!==null&&K!==void 0&&K.aborted)throw new o;if(he-- >0)yield fe;else return}}).call(this)}i.exports.streamReturningOperators={asIndexedPairs:V,drop:ce,filter:H,flatMap:_,map:S,take:_e,compose:re},i.exports.promiseReturningOperators={every:Y,forEach:se,reduce:ie,toArray:we,some:te,find:ge}}),no=be((e,i)=>{ae(),ue(),le();var{ArrayPrototypePop:t,Promise:l}=$e(),{isIterable:f,isNodeStream:s,isWebStream:r}=Et(),{pipelineImpl:o}=Ti(),{finished:n}=Ot();io();function a(...c){return new l((p,g)=>{let b,m,y=c[c.length-1];if(y&&typeof y=="object"&&!s(y)&&!f(y)&&!r(y)){let A=t(c);b=A.signal,m=A.end}o(c,(A,M)=>{A?g(A):p(M)},{signal:b,end:m})})}i.exports={finished:n,pipeline:a}}),io=be((e,i)=>{ae(),ue(),le();var{Buffer:t}=(Qe(),xe(Ye)),{ObjectDefineProperty:l,ObjectKeys:f,ReflectApply:s}=$e(),{promisify:{custom:r}}=wt(),{streamReturningOperators:o,promiseReturningOperators:n}=za(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Xe(),c=ro(),{pipeline:p}=Ti(),{destroyer:g}=Gt(),b=Ot(),m=no(),y=Et(),A=i.exports=Ei().Stream;A.isDisturbed=y.isDisturbed,A.isErrored=y.isErrored,A.isReadable=y.isReadable,A.Readable=Pr();for(let I of f(o)){let v=function(...j){if(new.target)throw a();return A.Readable.from(s(L,this,j))},L=o[I];l(v,"name",{__proto__:null,value:L.name}),l(v,"length",{__proto__:null,value:L.length}),l(A.Readable.prototype,I,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let I of f(n)){let v=function(...j){if(new.target)throw a();return s(L,this,j)},L=n[I];l(v,"name",{__proto__:null,value:L.name}),l(v,"length",{__proto__:null,value:L.length}),l(A.Readable.prototype,I,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}A.Writable=Xs(),A.Duplex=_t(),A.Transform=eo(),A.PassThrough=to(),A.pipeline=p;var{addAbortSignal:M}=Or();A.addAbortSignal=M,A.finished=b,A.destroy=g,A.compose=c,l(A,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),l(p,r,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),l(b,r,{__proto__:null,enumerable:!0,get(){return m.finished}}),A.Stream=A,A._isUint8Array=function(I){return I instanceof Uint8Array},A._uint8ArrayToBuffer=function(I){return t.from(I.buffer,I.byteOffset,I.byteLength)}}),zt=be((e,i)=>{ae(),ue(),le();var t=io(),l=no(),f=t.Readable.destroy;i.exports=t.Readable,i.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,i.exports._isUint8Array=t._isUint8Array,i.exports.isDisturbed=t.isDisturbed,i.exports.isErrored=t.isErrored,i.exports.isReadable=t.isReadable,i.exports.Readable=t.Readable,i.exports.Writable=t.Writable,i.exports.Duplex=t.Duplex,i.exports.Transform=t.Transform,i.exports.PassThrough=t.PassThrough,i.exports.addAbortSignal=t.addAbortSignal,i.exports.finished=t.finished,i.exports.destroy=t.destroy,i.exports.destroy=f,i.exports.pipeline=t.pipeline,i.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return l}}),i.exports.Stream=t.Stream,i.exports.default=i.exports}),Ka=be((e,i)=>{ae(),ue(),le(),typeof Object.create=="function"?i.exports=function(t,l){l&&(t.super_=l,t.prototype=Object.create(l.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(t,l){if(l){t.super_=l;var f=function(){};f.prototype=l.prototype,t.prototype=new f,t.prototype.constructor=t}}}),Ya=be((e,i)=>{ae(),ue(),le();var{Buffer:t}=(Qe(),xe(Ye)),l=Symbol.for("BufferList");function f(s){if(!(this instanceof f))return new f(s);f._init.call(this,s)}f._init=function(s){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},f.prototype._new=function(s){return new f(s)},f.prototype._offset=function(s){if(s===0)return[0,0];let r=0;for(let o=0;o<this._bufs.length;o++){let n=r+this._bufs[o].length;if(s<n||o===this._bufs.length-1)return[o,s-r];r=n}},f.prototype._reverseOffset=function(s){let r=s[0],o=s[1];for(let n=0;n<r;n++)o+=this._bufs[n].length;return o},f.prototype.get=function(s){if(s>this.length||s<0)return;let r=this._offset(s);return this._bufs[r[0]][r[1]]},f.prototype.slice=function(s,r){return typeof s=="number"&&s<0&&(s+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,s,r)},f.prototype.copy=function(s,r,o,n){if((typeof o!="number"||o<0)&&(o=0),(typeof n!="number"||n>this.length)&&(n=this.length),o>=this.length||n<=0)return s||t.alloc(0);let a=!!s,c=this._offset(o),p=n-o,g=p,b=a&&r||0,m=c[1];if(o===0&&n===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(s,b),b+=this._bufs[y].length;return s}if(g<=this._bufs[c[0]].length-m)return a?this._bufs[c[0]].copy(s,r,m,m+g):this._bufs[c[0]].slice(m,m+g);a||(s=t.allocUnsafe(p));for(let y=c[0];y<this._bufs.length;y++){let A=this._bufs[y].length-m;if(g>A)this._bufs[y].copy(s,b,m),b+=A;else{this._bufs[y].copy(s,b,m,m+g),b+=A;break}g-=A,m&&(m=0)}return s.length>b?s.slice(0,b):s},f.prototype.shallowSlice=function(s,r){if(s=s||0,r=typeof r!="number"?this.length:r,s<0&&(s+=this.length),r<0&&(r+=this.length),s===r)return this._new();let o=this._offset(s),n=this._offset(r),a=this._bufs.slice(o[0],n[0]+1);return n[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,n[1]),o[1]!==0&&(a[0]=a[0].slice(o[1])),this._new(a)},f.prototype.toString=function(s,r,o){return this.slice(r,o).toString(s)},f.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},f.prototype.duplicate=function(){let s=this._new();for(let r=0;r<this._bufs.length;r++)s.append(this._bufs[r]);return s},f.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(t.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let r=0;r<s.length;r++)this.append(s[r]);else if(this._isBufferList(s))for(let r=0;r<s._bufs.length;r++)this.append(s._bufs[r]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(t.from(s));return this},f.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},f.prototype.indexOf=function(s,r,o){if(o===void 0&&typeof r=="string"&&(o=r,r=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=t.from([s]):typeof s=="string"?s=t.from(s,o):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=t.from(s.buffer,s.byteOffset,s.byteLength):t.isBuffer(s)||(s=t.from(s)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),s.length===0)return r>this.length?this.length:r;let n=this._offset(r),a=n[0],c=n[1];for(;a<this._bufs.length;a++){let p=this._bufs[a];for(;c<p.length;)if(p.length-c>=s.length){let g=p.indexOf(s,c);if(g!==-1)return this._reverseOffset([a,g]);c=p.length-s.length+1}else{let g=this._reverseOffset([a,c]);if(this._match(g,s))return g;c++}c=0}return-1},f.prototype._match=function(s,r){if(this.length-s<r.length)return!1;for(let o=0;o<r.length;o++)if(this.get(s+o)!==r[o])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in s)(function(o){s[o]===null?f.prototype[o]=function(n,a){return this.slice(n,n+a)[o](0,a)}:f.prototype[o]=function(n=0){return this.slice(n,n+s[o])[o](0)}})(r)}(),f.prototype._isBufferList=function(s){return s instanceof f||f.isBufferList(s)},f.isBufferList=function(s){return s!=null&&s[l]},i.exports=f}),Qa=be((e,i)=>{ae(),ue(),le();var t=zt().Duplex,l=Ka(),f=Ya();function s(r){if(!(this instanceof s))return new s(r);if(typeof r=="function"){this._callback=r;let o=(function(n){this._callback&&(this._callback(n),this._callback=null)}).bind(this);this.on("pipe",function(n){n.on("error",o)}),this.on("unpipe",function(n){n.removeListener("error",o)}),r=null}f._init.call(this,r),t.call(this)}l(s,t),Object.assign(s.prototype,f.prototype),s.prototype._new=function(r){return new s(r)},s.prototype._write=function(r,o,n){this._appendBuffer(r),typeof n=="function"&&n()},s.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},s.prototype.end=function(r){t.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(r,o){this._bufs.length=0,this.length=0,o(r)},s.prototype._isBufferList=function(r){return r instanceof s||r instanceof f||s.isBufferList(r)},s.isBufferList=f.isBufferList,i.exports=s,i.exports.BufferListStream=s,i.exports.BufferList=f}),Ga=be((e,i)=>{ae(),ue(),le();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};i.exports=t}),so=be((e,i)=>{ae(),ue(),le();var t=i.exports,{Buffer:l}=(Qe(),xe(Ye));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let s in t.requiredHeaderFlags){let r=t.requiredHeaderFlags[s];t.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+t.types[s]+" packet"}t.codes={};for(let s in t.types){let r=t.types[s];t.codes[r]=s}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=l.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=l.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=l.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let s in t.properties){let r=t.properties[s];t.propertiesCodes[r]=s}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function f(s){return[0,1,2].map(r=>[0,1].map(o=>[0,1].map(n=>{let a=l.alloc(1);return a.writeUInt8(t.codes[s]<<t.CMD_SHIFT|(o?t.DUP_MASK:0)|r<<t.QOS_SHIFT|n,0,!0),a})))}t.PUBLISH_HEADER=f("publish"),t.SUBSCRIBE_HEADER=f("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=f("unsubscribe"),t.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},t.SUBACK_HEADER=l.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=l.from([3]),t.VERSION4=l.from([4]),t.VERSION5=l.from([5]),t.VERSION131=l.from([131]),t.VERSION132=l.from([132]),t.QOS=[0,1,2].map(s=>l.from([s])),t.EMPTY={pingreq:l.from([t.codes.pingreq<<4,0]),pingresp:l.from([t.codes.pingresp<<4,0]),disconnect:l.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Ja=be((e,i)=>{ae(),ue(),le();var t=1e3,l=t*60,f=l*60,s=f*24,r=s*7,o=s*365.25;i.exports=function(g,b){b=b||{};var m=typeof g;if(m==="string"&&g.length>0)return n(g);if(m==="number"&&isFinite(g))return b.long?c(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function n(g){if(g=String(g),!(g.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(b){var m=parseFloat(b[1]),y=(b[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*s;case"hours":case"hour":case"hrs":case"hr":case"h":return m*f;case"minutes":case"minute":case"mins":case"min":case"m":return m*l;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function a(g){var b=Math.abs(g);return b>=s?Math.round(g/s)+"d":b>=f?Math.round(g/f)+"h":b>=l?Math.round(g/l)+"m":b>=t?Math.round(g/t)+"s":g+"ms"}function c(g){var b=Math.abs(g);return b>=s?p(g,b,s,"day"):b>=f?p(g,b,f,"hour"):b>=l?p(g,b,l,"minute"):b>=t?p(g,b,t,"second"):g+" ms"}function p(g,b,m,y){var A=b>=m*1.5;return Math.round(g/m)+" "+y+(A?"s":"")}}),Za=be((e,i)=>{ae(),ue(),le();function t(l){s.debug=s,s.default=s,s.coerce=p,s.disable=n,s.enable=o,s.enabled=a,s.humanize=Ja(),s.destroy=g,Object.keys(l).forEach(b=>{s[b]=l[b]}),s.names=[],s.skips=[],s.formatters={};function f(b){let m=0;for(let y=0;y<b.length;y++)m=(m<<5)-m+b.charCodeAt(y),m|=0;return s.colors[Math.abs(m)%s.colors.length]}s.selectColor=f;function s(b){let m,y=null,A,M;function I(...v){if(!I.enabled)return;let L=I,j=Number(new Date),R=j-(m||j);L.diff=R,L.prev=m,L.curr=j,m=j,v[0]=s.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(x,$)=>{if(x==="%%")return"%";k++;let G=s.formatters[$];if(typeof G=="function"){let re=v[k];x=G.call(L,re),v.splice(k,1),k--}return x}),s.formatArgs.call(L,v),(L.log||s.log).apply(L,v)}return I.namespace=b,I.useColors=s.useColors(),I.color=s.selectColor(b),I.extend=r,I.destroy=s.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(A!==s.namespaces&&(A=s.namespaces,M=s.enabled(b)),M),set:v=>{y=v}}),typeof s.init=="function"&&s.init(I),I}function r(b,m){let y=s(this.namespace+(typeof m>"u"?":":m)+b);return y.log=this.log,y}function o(b){s.save(b),s.namespaces=b,s.names=[],s.skips=[];let m,y=(typeof b=="string"?b:"").split(/[\s,]+/),A=y.length;for(m=0;m<A;m++)y[m]&&(b=y[m].replace(/\*/g,".*?"),b[0]==="-"?s.skips.push(new RegExp("^"+b.slice(1)+"$")):s.names.push(new RegExp("^"+b+"$")))}function n(){let b=[...s.names.map(c),...s.skips.map(c).map(m=>"-"+m)].join(",");return s.enable(""),b}function a(b){if(b[b.length-1]==="*")return!0;let m,y;for(m=0,y=s.skips.length;m<y;m++)if(s.skips[m].test(b))return!1;for(m=0,y=s.names.length;m<y;m++)if(s.names[m].test(b))return!0;return!1}function c(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function p(b){return b instanceof Error?b.stack||b.message:b}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}i.exports=t}),vt=be((e,i)=>{ae(),ue(),le(),e.formatArgs=l,e.save=f,e.load=s,e.useColors=t,e.storage=r(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;n.splice(1,0,a,"color: inherit");let c=0,p=0;n[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(c++,g==="%c"&&(p=c))}),n.splice(p,0,a)}e.log=console.debug||console.log||(()=>{});function f(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}}function s(){let n;try{n=e.storage.getItem("debug")}catch{}return!n&&typeof Ce<"u"&&"env"in Ce&&(n=Ce.env.DEBUG),n}function r(){try{return localStorage}catch{}}i.exports=Za()(e);var{formatters:o}=i.exports;o.j=function(n){try{return JSON.stringify(n)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),Xa=be((e,i)=>{ae(),ue(),le();var t=Qa(),{EventEmitter:l}=(Jt(),xe(Vt)),f=Ga(),s=so(),r=vt()("mqtt-packet:parser"),o=class si extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof si?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new si().parser(a)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=t(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),c=a>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let p=a&15,g=s.requiredHeaderFlags[c];return g!=null&&p!==g?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(a&s.RETAIN_MASK)!==0,this.packet.qos=a>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&s.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),r("_parseLength %d",a.value),!!a}_parsePayload(){r("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return r("_parsePayload complete result: %s",a),a}_parseConnect(){r("_parseConnect");let a,c,p,g,b={},m=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(m.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(m.protocolVersion=this._list.readUInt8(this._pos),m.protocolVersion>=128&&(m.bridgeMode=!0,m.protocolVersion=m.protocolVersion-128),m.protocolVersion!==3&&m.protocolVersion!==4&&m.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let A=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),M=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(b.will)m.will={},m.will.retain=A,m.will.qos=M;else{if(A)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(M)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(m.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,m.keepalive=this._parseNum(),m.keepalive===-1)return this._emitError(new Error("Packet too short"));if(m.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(m.properties=v)}let I=this._parseString();if(I===null)return this._emitError(new Error("Packet too short"));if(m.clientId=I,r("_parseConnect: packet.clientId: %s",m.clientId),b.will){if(m.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(m.will.properties=v)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(m.will.topic=a,r("_parseConnect: packet.will.topic: %s",m.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));m.will.payload=c,r("_parseConnect: packet.will.paylaod: %s",m.will.payload)}if(b.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));m.username=g,r("_parseConnect: packet.username: %s",m.username)}if(b.password){if(p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse password"));m.password=p}return this.settings=m,r("_parseConnect: complete"),m}_parseConnack(){r("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}a.payload=this._list.slice(this._pos,a.length),r("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){r("_parseSubscribe");let a=this.packet,c,p,g,b,m,y,A;if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let M=this._parseProperties();Object.getOwnPropertyNames(M).length&&(a.properties=M)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(p=this._parseByte(),this.settings.protocolVersion===5){if(p&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(p&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=p&s.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(p>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,m=(p>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=p>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));A={topic:c,qos:g},this.settings.protocolVersion===5?(A.nl=y,A.rap=m,A.rh=b):this.settings.bridgeMode&&(A.rh=0,A.rap=!0,A.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",A),a.subscriptions.push(A)}}}_parseSuback(){r("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),a.unsubscriptions.push(c)}}}_parseUnsuback(){r("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&a.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(a.properties=c),a.granted=[];this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[p])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(p)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}}return!0}_parseDisconnect(){let a=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(a.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(a.properties=c),r("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let c=this._parseNum(),p=c+this._pos;if(c===-1||p>this._list.length||p>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,p);return this._pos+=c,r("_parseString: result: %s",g),g}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),c=a+this._pos;if(a===-1||c>this._list.length||c>this.packet.length)return null;let p=this._list.slice(this._pos,c);return this._pos+=a,r("_parseBuffer: result: %o",p),p}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){r("_parseVarByteNum");let c=4,p=0,g=1,b=0,m=!1,y,A=this._pos?this._pos:0;for(;p<c&&A+p<this._list.length;){if(y=this._list.readUInt8(A+p++),b+=g*(y&s.VARBYTEINT_MASK),g*=128,!(y&s.VARBYTEINT_FIN_MASK)){m=!0;break}if(this._list.length<=p)break}return!m&&p===c&&this._list.length>=p&&this._emitError(new Error("Invalid variable byte integer")),A&&(this._pos+=p),m?a?m={bytes:p,value:b}:m=b:m=!1,r("_parseVarByteNum: result: %o",m),m}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",a),a}_parseByType(a){switch(r("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let a=this._parseVarByteNum(),c=this._pos+a,p={};for(;this._pos<c;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let b=s.propertiesCodes[g];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){p[b]||(p[b]=Object.create(null));let m=this._parseByType(s.propertiesTypes[b]);if(p[b][m.name])if(Array.isArray(p[b][m.name]))p[b][m.name].push(m.value);else{let y=p[b][m.name];p[b][m.name]=[y],p[b][m.name].push(m.value)}else p[b][m.name]=m.value;continue}p[b]?Array.isArray(p[b])?p[b].push(this._parseByType(s.propertiesTypes[b])):(p[b]=[p[b]],p[b].push(this._parseByType(s.propertiesTypes[b]))):p[b]=this._parseByType(s.propertiesTypes[b])}return p}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(a){r("_emitError",a),this.error=a,this.emit("error",a)}};i.exports=o}),el=be((e,i)=>{ae(),ue(),le();var{Buffer:t}=(Qe(),xe(Ye)),l=65536,f={},s=t.isBuffer(t.from([1,2]).subarray(0,1));function r(c){let p=t.allocUnsafe(2);return p.writeUInt8(c>>8,0),p.writeUInt8(c&255,1),p}function o(){for(let c=0;c<l;c++)f[c]=r(c)}function n(c){let p=0,g=0,b=t.allocUnsafe(4);do p=c%128|0,c=c/128|0,c>0&&(p=p|128),b.writeUInt8(p,g++);while(c>0&&g<4);return c>0&&(g=0),s?b.subarray(0,g):b.slice(0,g)}function a(c){let p=t.allocUnsafe(4);return p.writeUInt32BE(c,0),p}i.exports={cache:f,generateCache:o,generateNumber:r,genBufVariableByteInt:n,generate4ByteBuffer:a}}),tl=be((e,i)=>{ae(),ue(),le(),typeof Ce>"u"||!Ce.version||Ce.version.indexOf("v0.")===0||Ce.version.indexOf("v1.")===0&&Ce.version.indexOf("v1.8.")!==0?i.exports={nextTick:t}:i.exports=Ce;function t(l,f,s,r){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,n,a;switch(o){case 0:case 1:return Ce.nextTick(l);case 2:return Ce.nextTick(function(){l.call(null,f)});case 3:return Ce.nextTick(function(){l.call(null,f,s)});case 4:return Ce.nextTick(function(){l.call(null,f,s,r)});default:for(n=new Array(o-1),a=0;a<n.length;)n[a++]=arguments[a];return Ce.nextTick(function(){l.apply(null,n)})}}}),oo=be((e,i)=>{ae(),ue(),le();var t=so(),{Buffer:l}=(Qe(),xe(Ye)),f=l.allocUnsafe(0),s=l.from([0]),r=el(),o=tl().nextTick,n=vt()("mqtt-packet:writeToStream"),a=r.cache,c=r.generateNumber,p=r.generateCache,g=r.genBufVariableByteInt,b=r.generate4ByteBuffer,m=se,y=!0;function A(B,E,K){switch(n("generate called"),E.cork&&(E.cork(),o(M,E)),y&&(y=!1,p()),n("generate: packet.cmd: %s",B.cmd),B.cmd){case"connect":return I(B,E);case"connack":return v(B,E,K);case"publish":return L(B,E,K);case"puback":case"pubrec":case"pubrel":case"pubcomp":return j(B,E,K);case"subscribe":return R(B,E,K);case"suback":return k(B,E,K);case"unsubscribe":return x(B,E,K);case"unsuback":return $(B,E,K);case"pingreq":case"pingresp":return G(B,E);case"disconnect":return re(B,E,K);case"auth":return S(B,E,K);default:return E.destroy(new Error("Unknown command")),!1}}Object.defineProperty(A,"cacheNumbers",{get(){return m===se},set(B){B?((!a||Object.keys(a).length===0)&&(y=!0),m=se):(y=!1,m=H)}});function M(B){B.uncork()}function I(B,E,K){let fe=B||{},ee=fe.protocolId||"MQTT",Z=fe.protocolVersion||4,ye=fe.will,de=fe.clean,C=fe.keepalive||0,D=fe.clientId||"",F=fe.username,ne=fe.password,J=fe.properties;de===void 0&&(de=!0);let U=0;if(!ee||typeof ee!="string"&&!l.isBuffer(ee))return E.destroy(new Error("Invalid protocolId")),!1;if(U+=ee.length+2,Z!==3&&Z!==4&&Z!==5)return E.destroy(new Error("Invalid protocol version")),!1;if(U+=1,(typeof D=="string"||l.isBuffer(D))&&(D||Z>=4)&&(D||de))U+=l.byteLength(D)+2;else{if(Z<4)return E.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(de*1===0)return E.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof C!="number"||C<0||C>65535||C%1!==0)return E.destroy(new Error("Invalid keepalive")),!1;U+=2,U+=1;let z,O;if(Z===5){if(z=we(E,J),!z)return!1;U+=z.length}if(ye){if(typeof ye!="object")return E.destroy(new Error("Invalid will")),!1;if(!ye.topic||typeof ye.topic!="string")return E.destroy(new Error("Invalid will topic")),!1;if(U+=l.byteLength(ye.topic)+2,U+=2,ye.payload)if(ye.payload.length>=0)typeof ye.payload=="string"?U+=l.byteLength(ye.payload):U+=ye.payload.length;else return E.destroy(new Error("Invalid will payload")),!1;if(O={},Z===5){if(O=we(E,ye.properties),!O)return!1;U+=O.length}}let N=!1;if(F!=null)if(he(F))N=!0,U+=l.byteLength(F)+2;else return E.destroy(new Error("Invalid username")),!1;if(ne!=null){if(!N)return E.destroy(new Error("Username is required to use password")),!1;if(he(ne))U+=_e(ne)+2;else return E.destroy(new Error("Invalid password")),!1}E.write(t.CONNECT_HEADER),te(E,U),ie(E,ee),fe.bridgeMode&&(Z+=128),E.write(Z===131?t.VERSION131:Z===132?t.VERSION132:Z===4?t.VERSION4:Z===5?t.VERSION5:t.VERSION3);let q=0;return q|=F!=null?t.USERNAME_MASK:0,q|=ne!=null?t.PASSWORD_MASK:0,q|=ye&&ye.retain?t.WILL_RETAIN_MASK:0,q|=ye&&ye.qos?ye.qos<<t.WILL_QOS_SHIFT:0,q|=ye?t.WILL_FLAG_MASK:0,q|=de?t.CLEAN_SESSION_MASK:0,E.write(l.from([q])),m(E,C),Z===5&&z.write(),ie(E,D),ye&&(Z===5&&O.write(),Y(E,ye.topic),ie(E,ye.payload)),F!=null&&ie(E,F),ne!=null&&ie(E,ne),!0}function v(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=fe===5?ee.reasonCode:ee.returnCode,ye=ee.properties,de=2;if(typeof Z!="number")return E.destroy(new Error("Invalid return code")),!1;let C=null;if(fe===5){if(C=we(E,ye),!C)return!1;de+=C.length}return E.write(t.CONNACK_HEADER),te(E,de),E.write(ee.sessionPresent?t.SESSIONPRESENT_HEADER:s),E.write(l.from([Z])),C==null||C.write(),!0}function L(B,E,K){n("publish: packet: %o",B);let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.qos||0,ye=ee.retain?t.RETAIN_MASK:0,de=ee.topic,C=ee.payload||f,D=ee.messageId,F=ee.properties,ne=0;if(typeof de=="string")ne+=l.byteLength(de)+2;else if(l.isBuffer(de))ne+=de.length+2;else return E.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(C)?ne+=C.length:ne+=l.byteLength(C),Z&&typeof D!="number")return E.destroy(new Error("Invalid messageId")),!1;Z&&(ne+=2);let J=null;if(fe===5){if(J=we(E,F),!J)return!1;ne+=J.length}return E.write(t.PUBLISH_HEADER[Z][ee.dup?1:0][ye?1:0]),te(E,ne),m(E,_e(de)),E.write(de),Z>0&&m(E,D),J==null||J.write(),n("publish: payload: %o",C),E.write(C)}function j(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.cmd||"puback",ye=ee.messageId,de=ee.dup&&Z==="pubrel"?t.DUP_MASK:0,C=0,D=ee.reasonCode,F=ee.properties,ne=fe===5?3:2;if(Z==="pubrel"&&(C=1),typeof ye!="number")return E.destroy(new Error("Invalid messageId")),!1;let J=null;if(fe===5&&typeof F=="object"){if(J=_(E,F,K,ne),!J)return!1;ne+=J.length}return E.write(t.ACKS[Z][C][de][0]),ne===3&&(ne+=D!==0?1:-1),te(E,ne),m(E,ye),fe===5&&ne!==2&&E.write(l.from([D])),J!==null?J.write():ne===4&&E.write(l.from([0])),!0}function R(B,E,K){n("subscribe: packet: ");let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.dup?t.DUP_MASK:0,ye=ee.messageId,de=ee.subscriptions,C=ee.properties,D=0;if(typeof ye!="number")return E.destroy(new Error("Invalid messageId")),!1;D+=2;let F=null;if(fe===5){if(F=we(E,C),!F)return!1;D+=F.length}if(typeof de=="object"&&de.length)for(let J=0;J<de.length;J+=1){let U=de[J].topic,z=de[J].qos;if(typeof U!="string")return E.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof z!="number")return E.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(fe===5){if(typeof(de[J].nl||!1)!="boolean")return E.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(de[J].rap||!1)!="boolean")return E.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let O=de[J].rh||0;if(typeof O!="number"||O>2)return E.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=l.byteLength(U)+2+1}else return E.destroy(new Error("Invalid subscriptions")),!1;n("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),E.write(t.SUBSCRIBE_HEADER[1][Z?1:0][0]),te(E,D),m(E,ye),F!==null&&F.write();let ne=!0;for(let J of de){let U=J.topic,z=J.qos,O=+J.nl,N=+J.rap,q=J.rh,oe;Y(E,U),oe=t.SUBSCRIBE_OPTIONS_QOS[z],fe===5&&(oe|=O?t.SUBSCRIBE_OPTIONS_NL:0,oe|=N?t.SUBSCRIBE_OPTIONS_RAP:0,oe|=q?t.SUBSCRIBE_OPTIONS_RH[q]:0),ne=E.write(l.from([oe]))}return ne}function k(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.messageId,ye=ee.granted,de=ee.properties,C=0;if(typeof Z!="number")return E.destroy(new Error("Invalid messageId")),!1;if(C+=2,typeof ye=="object"&&ye.length)for(let F=0;F<ye.length;F+=1){if(typeof ye[F]!="number")return E.destroy(new Error("Invalid qos vector")),!1;C+=1}else return E.destroy(new Error("Invalid qos vector")),!1;let D=null;if(fe===5){if(D=_(E,de,K,C),!D)return!1;C+=D.length}return E.write(t.SUBACK_HEADER),te(E,C),m(E,Z),D!==null&&D.write(),E.write(l.from(ye))}function x(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.messageId,ye=ee.dup?t.DUP_MASK:0,de=ee.unsubscriptions,C=ee.properties,D=0;if(typeof Z!="number")return E.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof de=="object"&&de.length)for(let J=0;J<de.length;J+=1){if(typeof de[J]!="string")return E.destroy(new Error("Invalid unsubscriptions")),!1;D+=l.byteLength(de[J])+2}else return E.destroy(new Error("Invalid unsubscriptions")),!1;let F=null;if(fe===5){if(F=we(E,C),!F)return!1;D+=F.length}E.write(t.UNSUBSCRIBE_HEADER[1][ye?1:0][0]),te(E,D),m(E,Z),F!==null&&F.write();let ne=!0;for(let J=0;J<de.length;J++)ne=Y(E,de[J]);return ne}function $(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.messageId,ye=ee.dup?t.DUP_MASK:0,de=ee.granted,C=ee.properties,D=ee.cmd,F=0,ne=2;if(typeof Z!="number")return E.destroy(new Error("Invalid messageId")),!1;if(fe===5)if(typeof de=="object"&&de.length)for(let U=0;U<de.length;U+=1){if(typeof de[U]!="number")return E.destroy(new Error("Invalid qos vector")),!1;ne+=1}else return E.destroy(new Error("Invalid qos vector")),!1;let J=null;if(fe===5){if(J=_(E,C,K,ne),!J)return!1;ne+=J.length}return E.write(t.ACKS[D][F][ye][0]),te(E,ne),m(E,Z),J!==null&&J.write(),fe===5&&E.write(l.from(de)),!0}function G(B,E,K){return E.write(t.EMPTY[B.cmd])}function re(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.reasonCode,ye=ee.properties,de=fe===5?1:0,C=null;if(fe===5){if(C=_(E,ye,K,de),!C)return!1;de+=C.length}return E.write(l.from([t.codes.disconnect<<4])),te(E,de),fe===5&&E.write(l.from([Z])),C!==null&&C.write(),!0}function S(B,E,K){let fe=K?K.protocolVersion:4,ee=B||{},Z=ee.reasonCode,ye=ee.properties,de=fe===5?1:0;fe!==5&&E.destroy(new Error("Invalid mqtt version for auth packet"));let C=_(E,ye,K,de);return C?(de+=C.length,E.write(l.from([t.codes.auth<<4])),te(E,de),E.write(l.from([Z])),C!==null&&C.write(),!0):!1}var V={};function te(B,E){if(E>t.VARBYTEINT_MAX)return B.destroy(new Error(`Invalid variable byte integer: ${E}`)),!1;let K=V[E];return K||(K=g(E),E<16384&&(V[E]=K)),n("writeVarByteInt: writing to stream: %o",K),B.write(K)}function Y(B,E){let K=l.byteLength(E);return m(B,K),n("writeString: %s",E),B.write(E,"utf8")}function ge(B,E,K){Y(B,E),Y(B,K)}function se(B,E){return n("writeNumberCached: number: %d",E),n("writeNumberCached: %o",a[E]),B.write(a[E])}function H(B,E){let K=c(E);return n("writeNumberGenerated: %o",K),B.write(K)}function me(B,E){let K=b(E);return n("write4ByteNumber: %o",K),B.write(K)}function ie(B,E){typeof E=="string"?Y(B,E):E?(m(B,E.length),B.write(E)):m(B,0)}function we(B,E){if(typeof E!="object"||E.length!=null)return{length:1,write(){ce(B,{},0)}};let K=0;function fe(ee,Z){let ye=t.propertiesTypes[ee],de=0;switch(ye){case"byte":{if(typeof Z!="boolean")return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=2;break}case"int8":{if(typeof Z!="number"||Z<0||Z>255)return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=2;break}case"binary":{if(Z&&Z===null)return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=1+l.byteLength(Z)+2;break}case"int16":{if(typeof Z!="number"||Z<0||Z>65535)return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=3;break}case"int32":{if(typeof Z!="number"||Z<0||Z>4294967295)return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=5;break}case"var":{if(typeof Z!="number"||Z<0||Z>268435455)return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=1+l.byteLength(g(Z));break}case"string":{if(typeof Z!="string")return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=3+l.byteLength(Z.toString());break}case"pair":{if(typeof Z!="object")return B.destroy(new Error(`Invalid ${ee}: ${Z}`)),!1;de+=Object.getOwnPropertyNames(Z).reduce((C,D)=>{let F=Z[D];return Array.isArray(F)?C+=F.reduce((ne,J)=>(ne+=3+l.byteLength(D.toString())+2+l.byteLength(J.toString()),ne),0):C+=3+l.byteLength(D.toString())+2+l.byteLength(Z[D].toString()),C},0);break}default:return B.destroy(new Error(`Invalid property ${ee}: ${Z}`)),!1}return de}if(E)for(let ee in E){let Z=0,ye=0,de=E[ee];if(Array.isArray(de))for(let C=0;C<de.length;C++){if(ye=fe(ee,de[C]),!ye)return!1;Z+=ye}else{if(ye=fe(ee,de),!ye)return!1;Z=ye}if(!Z)return!1;K+=Z}return{length:l.byteLength(g(K))+K,write(){ce(B,E,K)}}}function _(B,E,K,fe){let ee=["reasonString","userProperties"],Z=K&&K.properties&&K.properties.maximumPacketSize?K.properties.maximumPacketSize:0,ye=we(B,E);if(Z)for(;fe+ye.length>Z;){let de=ee.shift();if(de&&E[de])delete E[de],ye=we(B,E);else return!1}return ye}function Q(B,E,K){switch(t.propertiesTypes[E]){case"byte":{B.write(l.from([t.properties[E]])),B.write(l.from([+K]));break}case"int8":{B.write(l.from([t.properties[E]])),B.write(l.from([K]));break}case"binary":{B.write(l.from([t.properties[E]])),ie(B,K);break}case"int16":{B.write(l.from([t.properties[E]])),m(B,K);break}case"int32":{B.write(l.from([t.properties[E]])),me(B,K);break}case"var":{B.write(l.from([t.properties[E]])),te(B,K);break}case"string":{B.write(l.from([t.properties[E]])),Y(B,K);break}case"pair":{Object.getOwnPropertyNames(K).forEach(fe=>{let ee=K[fe];Array.isArray(ee)?ee.forEach(Z=>{B.write(l.from([t.properties[E]])),ge(B,fe.toString(),Z.toString())}):(B.write(l.from([t.properties[E]])),ge(B,fe.toString(),ee.toString()))});break}default:return B.destroy(new Error(`Invalid property ${E} value: ${K}`)),!1}}function ce(B,E,K){te(B,K);for(let fe in E)if(Object.prototype.hasOwnProperty.call(E,fe)&&E[fe]!==null){let ee=E[fe];if(Array.isArray(ee))for(let Z=0;Z<ee.length;Z++)Q(B,fe,ee[Z]);else Q(B,fe,ee)}}function _e(B){return B?B instanceof l?B.length:l.byteLength(B):0}function he(B){return typeof B=="string"||B instanceof l}i.exports=A}),rl=be((e,i)=>{ae(),ue(),le();var t=oo(),{EventEmitter:l}=(Jt(),xe(Vt)),{Buffer:f}=(Qe(),xe(Ye));function s(o,n){let a=new r;return t(o,a,n),a.concat()}var r=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,n=new Array(this._array.length),a=this._array,c=0,p;for(p=0;p<a.length&&a[p]!==void 0;p++)typeof a[p]!="string"?n[p]=a[p].length:n[p]=f.byteLength(a[p]),o+=n[p];let g=f.allocUnsafe(o);for(p=0;p<a.length&&a[p]!==void 0;p++)typeof a[p]!="string"?(a[p].copy(g,c),c+=n[p]):(g.write(a[p],c),c+=n[p]);return g}destroy(o){o&&this.emit("error",o)}};i.exports=s}),nl=be(e=>{ae(),ue(),le(),e.parser=Xa().parser,e.generate=rl(),e.writeToStream=oo()}),ao=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};e.default=i}),il=be((e,i)=>{ae(),ue(),le(),i.exports=l;function t(s){return s instanceof Sr?Sr.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function l(s){if(s=s||{},s.circles)return f(s);return s.proto?n:o;function r(a,c){for(var p=Object.keys(a),g=new Array(p.length),b=0;b<p.length;b++){var m=p[b],y=a[m];typeof y!="object"||y===null?g[m]=y:y instanceof Date?g[m]=new Date(y):ArrayBuffer.isView(y)?g[m]=t(y):g[m]=c(y)}return g}function o(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,o);if(a instanceof Map)return new Map(r(Array.from(a),o));if(a instanceof Set)return new Set(r(Array.from(a),o));var c={};for(var p in a)if(Object.hasOwnProperty.call(a,p)!==!1){var g=a[p];typeof g!="object"||g===null?c[p]=g:g instanceof Date?c[p]=new Date(g):g instanceof Map?c[p]=new Map(r(Array.from(g),o)):g instanceof Set?c[p]=new Set(r(Array.from(g),o)):ArrayBuffer.isView(g)?c[p]=t(g):c[p]=o(g)}return c}function n(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,n);if(a instanceof Map)return new Map(r(Array.from(a),n));if(a instanceof Set)return new Set(r(Array.from(a),n));var c={};for(var p in a){var g=a[p];typeof g!="object"||g===null?c[p]=g:g instanceof Date?c[p]=new Date(g):g instanceof Map?c[p]=new Map(r(Array.from(g),n)):g instanceof Set?c[p]=new Set(r(Array.from(g),n)):ArrayBuffer.isView(g)?c[p]=t(g):c[p]=n(g)}return c}}function f(s){var r=[],o=[];return s.proto?c:a;function n(p,g){for(var b=Object.keys(p),m=new Array(b.length),y=0;y<b.length;y++){var A=b[y],M=p[A];if(typeof M!="object"||M===null)m[A]=M;else if(M instanceof Date)m[A]=new Date(M);else if(ArrayBuffer.isView(M))m[A]=t(M);else{var I=r.indexOf(M);I!==-1?m[A]=o[I]:m[A]=g(M)}}return m}function a(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return n(p,a);if(p instanceof Map)return new Map(n(Array.from(p),a));if(p instanceof Set)return new Set(n(Array.from(p),a));var g={};r.push(p),o.push(g);for(var b in p)if(Object.hasOwnProperty.call(p,b)!==!1){var m=p[b];if(typeof m!="object"||m===null)g[b]=m;else if(m instanceof Date)g[b]=new Date(m);else if(m instanceof Map)g[b]=new Map(n(Array.from(m),a));else if(m instanceof Set)g[b]=new Set(n(Array.from(m),a));else if(ArrayBuffer.isView(m))g[b]=t(m);else{var y=r.indexOf(m);y!==-1?g[b]=o[y]:g[b]=a(m)}}return r.pop(),o.pop(),g}function c(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return n(p,c);if(p instanceof Map)return new Map(n(Array.from(p),c));if(p instanceof Set)return new Set(n(Array.from(p),c));var g={};r.push(p),o.push(g);for(var b in p){var m=p[b];if(typeof m!="object"||m===null)g[b]=m;else if(m instanceof Date)g[b]=new Date(m);else if(m instanceof Map)g[b]=new Map(n(Array.from(m),c));else if(m instanceof Set)g[b]=new Set(n(Array.from(m),c));else if(ArrayBuffer.isView(m))g[b]=t(m);else{var y=r.indexOf(m);y!==-1?g[b]=o[y]:g[b]=c(m)}}return r.pop(),o.pop(),g}}}),sl=be((e,i)=>{ae(),ue(),le(),i.exports=il()()}),ol=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function i(l){let f=l.split("/");for(let s=0;s<f.length;s++)if(f[s]!=="+"){if(f[s]==="#")return s===f.length-1;if(f[s].indexOf("+")!==-1||f[s].indexOf("#")!==-1)return!1}return!0}e.validateTopic=i;function t(l){if(l.length===0)return"empty_topic_list";for(let f=0;f<l.length;f++)if(!i(l[f]))return l[f];return null}e.validateTopics=t}),lo=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=zt(),t={objectMode:!0},l={clean:!0},f=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},l),s),this._inflights=new Map}put(s,r){return this._inflights.set(s.messageId,s),r&&r(),this}createStream(){let s=new i.Readable(t),r=[],o=!1,n=0;return this._inflights.forEach((a,c)=>{r.push(a)}),s._read=()=>{!o&&n<r.length?s.push(r[n++]):s.push(null)},s.destroy=a=>{if(!o)return o=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,r){let o=this._inflights.get(s.messageId);return o?(this._inflights.delete(s.messageId),r(null,o)):r&&r(new Error("missing packet")),this}get(s,r){let o=this._inflights.get(s.messageId);return o?r(null,o):r&&r(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};e.default=f}),al=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=[0,16,128,131,135,144,145,151,153],t=(l,f,s)=>{l.log("handlePublish: packet %o",f),s=typeof s<"u"?s:l.noop;let r=f.topic.toString(),o=f.payload,{qos:n}=f,{messageId:a}=f,{options:c}=l;if(l.options.protocolVersion===5){let p;if(f.properties&&(p=f.properties.topicAlias),typeof p<"u")if(r.length===0)if(p>0&&p<=65535){let g=l.topicAliasRecv.getTopicByAlias(p);if(g)r=g,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,p);else{l.log("handlePublish :: unregistered topic alias. alias: %d",p),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(r,p))l.log("handlePublish :: registered topic: %s - alias: %d",r,p);else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",n),n){case 2:{c.customHandleAcks(r,o,f,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(i.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));g?l._sendPacket({cmd:"pubrec",messageId:a,reasonCode:g},s):l.incomingStore.put(f,()=>{l._sendPacket({cmd:"pubrec",messageId:a},s)})});break}case 1:{c.customHandleAcks(r,o,f,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(i.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for puback"));g||l.emit("message",r,o,f),l.handleMessage(f,b=>{if(b)return s&&s(b);l._sendPacket({cmd:"puback",messageId:a,reasonCode:g},s)})});break}case 0:l.emit("message",r,o,f),l.handleMessage(f,s);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=t}),ll=be((e,i)=>{i.exports={version:"5.10.3"}}),Zt=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var i=class uo extends Error{constructor(f,s){super(f),this.code=s,Object.setPrototypeOf(this,uo.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=i;function t(l,f,s=!1){var r;let o=[f];for(;;){let n=o[0],a=Object.getPrototypeOf(n);if(a!=null&&a.prototype)o.unshift(a);else break}for(let n of o)for(let a of Object.getOwnPropertyNames(n.prototype))(s||a!=="constructor")&&Object.defineProperty(l.prototype,a,(r=Object.getOwnPropertyDescriptor(n.prototype,a))!==null&&r!==void 0?r:Object.create(null))}e.applyMixin=t,e.nextTick=typeof(Ce==null?void 0:Ce.nextTick)=="function"?Ce.nextTick:l=>{setTimeout(l,0)},e.MQTTJS_VERSION=ll().version}),Br=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var i=Zt();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(l,f)=>{let{messageId:s}=f,r=f.cmd,o=null,n=l.outgoing[s]?l.outgoing[s].cb:null,a=null;if(!n){l.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(l.log("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{let c=f.reasonCode;c&&c>0&&c!==16?(a=new i.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),l._removeOutgoingAndStoreMessage(s,()=>{n(a,f)})):l._removeOutgoingAndStoreMessage(s,n);break}case"pubrec":{o={cmd:"pubrel",qos:2,messageId:s};let c=f.reasonCode;c&&c>0&&c!==16?(a=new i.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),l._removeOutgoingAndStoreMessage(s,()=>{n(a,f)})):l._sendPacket(o);break}case"suback":{delete l.outgoing[s],l.messageIdProvider.deallocate(s);let c=f.granted;for(let p=0;p<c.length;p++){let g=c[p];if(g&128){a=new Error(`Subscribe error: ${e.ReasonCodes[g]}`),a.code=g;let b=l.messageIdToTopic[s];b&&b.forEach(m=>{delete l._resubscribeTopics[m]})}}delete l.messageIdToTopic[s],l._invokeStoreProcessingQueue(),n(a,f);break}case"unsuback":{delete l.outgoing[s],l.messageIdProvider.deallocate(s),l._invokeStoreProcessingQueue(),n(null,f);break}default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&Object.keys(l.outgoing).length===0&&l.emit("outgoingEmpty")};e.default=t}),ul=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=Zt(),t=Br(),l=(f,s)=>{let{options:r}=f,o=r.protocolVersion,n=o===5?s.reasonCode:s.returnCode;if(o!==5){let a=new i.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,n);f.emit("error",a);return}f.handleAuth(s,(a,c)=>{if(a){f.emit("error",a);return}if(n===24)f.reconnecting=!1,f._sendPacket(c);else{let p=new i.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[n]}`,n);f.emit("error",p)}})};e.default=l}),hl=be(e=>{var b,m,y,A,M,I,v,L,j,R,k,x,$,G,re,S,V,te,Y,ge,se,H,me,ie,we,_,oi,ce,_e,he,B,ho,K,fe,ee,Tt,kt,ai,yr,wr,Ue,li,sr,U;ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var i=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,l=typeof Ce=="object"&&Ce?Ce:{},f=(z,O,N,q)=>{typeof l.emitWarning=="function"?l.emitWarning(z,O,N,q):console.error(`[${N}] ${O}: ${z}`)},s=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof s>"u"){r=class{constructor(){je(this,"onabort");je(this,"_onabort",[]);je(this,"reason");je(this,"aborted",!1)}addEventListener(N,q){this._onabort.push(q)}},s=class{constructor(){je(this,"signal",new r);O()}abort(N){var q,oe;if(!this.signal.aborted){this.signal.reason=N,this.signal.aborted=!0;for(let h of this.signal._onabort)h(N);(oe=(q=this.signal).onabort)==null||oe.call(q,N)}}};let z=((b=l.env)==null?void 0:b.LRU_CACHE_IGNORE_AC_WARNING)!=="1",O=()=>{z&&(z=!1,f("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",O))}}var o=z=>!t.has(z),n=z=>z&&z===Math.floor(z)&&z>0&&isFinite(z),a=z=>n(z)?z<=Math.pow(2,8)?Uint8Array:z<=Math.pow(2,16)?Uint16Array:z<=Math.pow(2,32)?Uint32Array:z<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(z){super(z),this.fill(0)}},p=(m=class{constructor(O,N){je(this,"heap");je(this,"length");if(!P(m,y))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new N(O),this.length=0}static create(O){let N=a(O);if(!N)return[];Se(m,y,!0);let q=new m(O,N);return Se(m,y,!1),q}push(O){this.heap[this.length++]=O}pop(){return this.heap[--this.length]}},y=new WeakMap,Oe(m,y,!1),m),g=(U=class{constructor(O){Oe(this,_);Oe(this,A);Oe(this,M);Oe(this,I);Oe(this,v);Oe(this,L);je(this,"ttl");je(this,"ttlResolution");je(this,"ttlAutopurge");je(this,"updateAgeOnGet");je(this,"updateAgeOnHas");je(this,"allowStale");je(this,"noDisposeOnSet");je(this,"noUpdateTTL");je(this,"maxEntrySize");je(this,"sizeCalculation");je(this,"noDeleteOnFetchRejection");je(this,"noDeleteOnStaleGet");je(this,"allowStaleOnFetchAbort");je(this,"allowStaleOnFetchRejection");je(this,"ignoreFetchAbort");Oe(this,j);Oe(this,R);Oe(this,k);Oe(this,x);Oe(this,$);Oe(this,G);Oe(this,re);Oe(this,S);Oe(this,V);Oe(this,te);Oe(this,Y);Oe(this,ge);Oe(this,se);Oe(this,H);Oe(this,me);Oe(this,ie);Oe(this,we);Oe(this,ce,()=>{});Oe(this,_e,()=>{});Oe(this,he,()=>{});Oe(this,B,()=>!1);Oe(this,K,O=>{});Oe(this,fe,(O,N,q)=>{});Oe(this,ee,(O,N,q,oe)=>{if(q||oe)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:N=0,ttl:q,ttlResolution:oe=1,ttlAutopurge:h,updateAgeOnGet:u,updateAgeOnHas:d,allowStale:w,dispose:T,disposeAfter:W,noDisposeOnSet:X,noUpdateTTL:Ae,maxSize:ke=0,maxEntrySize:Re=0,sizeCalculation:Ee,fetchMethod:Te,noDeleteOnFetchRejection:Ie,noDeleteOnStaleGet:Me,allowStaleOnFetchRejection:qe,allowStaleOnFetchAbort:We,ignoreFetchAbort:ze}=O;if(N!==0&&!n(N))throw new TypeError("max option must be a nonnegative integer");let Je=N?a(N):Array;if(!Je)throw new Error("invalid max value: "+N);if(Se(this,A,N),Se(this,M,ke),this.maxEntrySize=Re||P(this,M),this.sizeCalculation=Ee,this.sizeCalculation){if(!P(this,M)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Te!==void 0&&typeof Te!="function")throw new TypeError("fetchMethod must be a function if specified");if(Se(this,L,Te),Se(this,ie,!!Te),Se(this,k,new Map),Se(this,x,new Array(N).fill(void 0)),Se(this,$,new Array(N).fill(void 0)),Se(this,G,new Je(N)),Se(this,re,new Je(N)),Se(this,S,0),Se(this,V,0),Se(this,te,p.create(N)),Se(this,j,0),Se(this,R,0),typeof T=="function"&&Se(this,I,T),typeof W=="function"?(Se(this,v,W),Se(this,Y,[])):(Se(this,v,void 0),Se(this,Y,void 0)),Se(this,me,!!P(this,I)),Se(this,we,!!P(this,v)),this.noDisposeOnSet=!!X,this.noUpdateTTL=!!Ae,this.noDeleteOnFetchRejection=!!Ie,this.allowStaleOnFetchRejection=!!qe,this.allowStaleOnFetchAbort=!!We,this.ignoreFetchAbort=!!ze,this.maxEntrySize!==0){if(P(this,M)!==0&&!n(P(this,M)))throw new TypeError("maxSize must be a positive integer if specified");if(!n(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ve(this,_,ho).call(this)}if(this.allowStale=!!w,this.noDeleteOnStaleGet=!!Me,this.updateAgeOnGet=!!u,this.updateAgeOnHas=!!d,this.ttlResolution=n(oe)||oe===0?oe:1,this.ttlAutopurge=!!h,this.ttl=q||0,this.ttl){if(!n(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ve(this,_,oi).call(this)}if(P(this,A)===0&&this.ttl===0&&P(this,M)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!P(this,A)&&!P(this,M)){let He="LRU_CACHE_UNBOUNDED";o(He)&&(t.add(He),f("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",He,U))}}static unsafeExposeInternals(O){return{starts:P(O,se),ttls:P(O,H),sizes:P(O,ge),keyMap:P(O,k),keyList:P(O,x),valList:P(O,$),next:P(O,G),prev:P(O,re),get head(){return P(O,S)},get tail(){return P(O,V)},free:P(O,te),isBackgroundFetch:N=>{var q;return ve(q=O,_,Ue).call(q,N)},backgroundFetch:(N,q,oe,h)=>{var u;return ve(u=O,_,wr).call(u,N,q,oe,h)},moveToTail:N=>{var q;return ve(q=O,_,sr).call(q,N)},indexes:N=>{var q;return ve(q=O,_,Tt).call(q,N)},rindexes:N=>{var q;return ve(q=O,_,kt).call(q,N)},isStale:N=>{var q;return P(q=O,B).call(q,N)}}}get max(){return P(this,A)}get maxSize(){return P(this,M)}get calculatedSize(){return P(this,R)}get size(){return P(this,j)}get fetchMethod(){return P(this,L)}get dispose(){return P(this,I)}get disposeAfter(){return P(this,v)}getRemainingTTL(O){return P(this,k).has(O)?1/0:0}*entries(){for(let O of ve(this,_,Tt).call(this))P(this,$)[O]!==void 0&&P(this,x)[O]!==void 0&&!ve(this,_,Ue).call(this,P(this,$)[O])&&(yield[P(this,x)[O],P(this,$)[O]])}*rentries(){for(let O of ve(this,_,kt).call(this))P(this,$)[O]!==void 0&&P(this,x)[O]!==void 0&&!ve(this,_,Ue).call(this,P(this,$)[O])&&(yield[P(this,x)[O],P(this,$)[O]])}*keys(){for(let O of ve(this,_,Tt).call(this)){let N=P(this,x)[O];N!==void 0&&!ve(this,_,Ue).call(this,P(this,$)[O])&&(yield N)}}*rkeys(){for(let O of ve(this,_,kt).call(this)){let N=P(this,x)[O];N!==void 0&&!ve(this,_,Ue).call(this,P(this,$)[O])&&(yield N)}}*values(){for(let O of ve(this,_,Tt).call(this))P(this,$)[O]!==void 0&&!ve(this,_,Ue).call(this,P(this,$)[O])&&(yield P(this,$)[O])}*rvalues(){for(let O of ve(this,_,kt).call(this))P(this,$)[O]!==void 0&&!ve(this,_,Ue).call(this,P(this,$)[O])&&(yield P(this,$)[O])}[Symbol.iterator](){return this.entries()}find(O,N={}){for(let q of ve(this,_,Tt).call(this)){let oe=P(this,$)[q],h=ve(this,_,Ue).call(this,oe)?oe.__staleWhileFetching:oe;if(h!==void 0&&O(h,P(this,x)[q],this))return this.get(P(this,x)[q],N)}}forEach(O,N=this){for(let q of ve(this,_,Tt).call(this)){let oe=P(this,$)[q],h=ve(this,_,Ue).call(this,oe)?oe.__staleWhileFetching:oe;h!==void 0&&O.call(N,h,P(this,x)[q],this)}}rforEach(O,N=this){for(let q of ve(this,_,kt).call(this)){let oe=P(this,$)[q],h=ve(this,_,Ue).call(this,oe)?oe.__staleWhileFetching:oe;h!==void 0&&O.call(N,h,P(this,x)[q],this)}}purgeStale(){let O=!1;for(let N of ve(this,_,kt).call(this,{allowStale:!0}))P(this,B).call(this,N)&&(this.delete(P(this,x)[N]),O=!0);return O}dump(){let O=[];for(let N of ve(this,_,Tt).call(this,{allowStale:!0})){let q=P(this,x)[N],oe=P(this,$)[N],h=ve(this,_,Ue).call(this,oe)?oe.__staleWhileFetching:oe;if(h===void 0||q===void 0)continue;let u={value:h};if(P(this,H)&&P(this,se)){u.ttl=P(this,H)[N];let d=i.now()-P(this,se)[N];u.start=Math.floor(Date.now()-d)}P(this,ge)&&(u.size=P(this,ge)[N]),O.unshift([q,u])}return O}load(O){this.clear();for(let[N,q]of O){if(q.start){let oe=Date.now()-q.start;q.start=i.now()-oe}this.set(N,q.value,q)}}set(O,N,q={}){var Ae,ke,Re,Ee,Te;if(N===void 0)return this.delete(O),this;let{ttl:oe=this.ttl,start:h,noDisposeOnSet:u=this.noDisposeOnSet,sizeCalculation:d=this.sizeCalculation,status:w}=q,{noUpdateTTL:T=this.noUpdateTTL}=q,W=P(this,ee).call(this,O,N,q.size||0,d);if(this.maxEntrySize&&W>this.maxEntrySize)return w&&(w.set="miss",w.maxEntrySizeExceeded=!0),this.delete(O),this;let X=P(this,j)===0?void 0:P(this,k).get(O);if(X===void 0)X=P(this,j)===0?P(this,V):P(this,te).length!==0?P(this,te).pop():P(this,j)===P(this,A)?ve(this,_,yr).call(this,!1):P(this,j),P(this,x)[X]=O,P(this,$)[X]=N,P(this,k).set(O,X),P(this,G)[P(this,V)]=X,P(this,re)[X]=P(this,V),Se(this,V,X),lr(this,j)._++,P(this,fe).call(this,X,W,w),w&&(w.set="add"),T=!1;else{ve(this,_,sr).call(this,X);let Ie=P(this,$)[X];if(N!==Ie){if(P(this,ie)&&ve(this,_,Ue).call(this,Ie)){Ie.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Me}=Ie;Me!==void 0&&!u&&(P(this,me)&&((Ae=P(this,I))==null||Ae.call(this,Me,O,"set")),P(this,we)&&((ke=P(this,Y))==null||ke.push([Me,O,"set"])))}else u||(P(this,me)&&((Re=P(this,I))==null||Re.call(this,Ie,O,"set")),P(this,we)&&((Ee=P(this,Y))==null||Ee.push([Ie,O,"set"])));if(P(this,K).call(this,X),P(this,fe).call(this,X,W,w),P(this,$)[X]=N,w){w.set="replace";let Me=Ie&&ve(this,_,Ue).call(this,Ie)?Ie.__staleWhileFetching:Ie;Me!==void 0&&(w.oldValue=Me)}}else w&&(w.set="update")}if(oe!==0&&!P(this,H)&&ve(this,_,oi).call(this),P(this,H)&&(T||P(this,he).call(this,X,oe,h),w&&P(this,_e).call(this,w,X)),!u&&P(this,we)&&P(this,Y)){let Ie=P(this,Y),Me;for(;Me=Ie==null?void 0:Ie.shift();)(Te=P(this,v))==null||Te.call(this,...Me)}return this}pop(){var O;try{for(;P(this,j);){let N=P(this,$)[P(this,S)];if(ve(this,_,yr).call(this,!0),ve(this,_,Ue).call(this,N)){if(N.__staleWhileFetching)return N.__staleWhileFetching}else if(N!==void 0)return N}}finally{if(P(this,we)&&P(this,Y)){let N=P(this,Y),q;for(;q=N==null?void 0:N.shift();)(O=P(this,v))==null||O.call(this,...q)}}}has(O,N={}){let{updateAgeOnHas:q=this.updateAgeOnHas,status:oe}=N,h=P(this,k).get(O);if(h!==void 0){let u=P(this,$)[h];if(ve(this,_,Ue).call(this,u)&&u.__staleWhileFetching===void 0)return!1;if(P(this,B).call(this,h))oe&&(oe.has="stale",P(this,_e).call(this,oe,h));else return q&&P(this,ce).call(this,h),oe&&(oe.has="hit",P(this,_e).call(this,oe,h)),!0}else oe&&(oe.has="miss");return!1}peek(O,N={}){let{allowStale:q=this.allowStale}=N,oe=P(this,k).get(O);if(oe!==void 0&&(q||!P(this,B).call(this,oe))){let h=P(this,$)[oe];return ve(this,_,Ue).call(this,h)?h.__staleWhileFetching:h}}async fetch(O,N={}){let{allowStale:q=this.allowStale,updateAgeOnGet:oe=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,ttl:u=this.ttl,noDisposeOnSet:d=this.noDisposeOnSet,size:w=0,sizeCalculation:T=this.sizeCalculation,noUpdateTTL:W=this.noUpdateTTL,noDeleteOnFetchRejection:X=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ae=this.allowStaleOnFetchRejection,ignoreFetchAbort:ke=this.ignoreFetchAbort,allowStaleOnFetchAbort:Re=this.allowStaleOnFetchAbort,context:Ee,forceRefresh:Te=!1,status:Ie,signal:Me}=N;if(!P(this,ie))return Ie&&(Ie.fetch="get"),this.get(O,{allowStale:q,updateAgeOnGet:oe,noDeleteOnStaleGet:h,status:Ie});let qe={allowStale:q,updateAgeOnGet:oe,noDeleteOnStaleGet:h,ttl:u,noDisposeOnSet:d,size:w,sizeCalculation:T,noUpdateTTL:W,noDeleteOnFetchRejection:X,allowStaleOnFetchRejection:Ae,allowStaleOnFetchAbort:Re,ignoreFetchAbort:ke,status:Ie,signal:Me},We=P(this,k).get(O);if(We===void 0){Ie&&(Ie.fetch="miss");let ze=ve(this,_,wr).call(this,O,We,qe,Ee);return ze.__returned=ze}else{let ze=P(this,$)[We];if(ve(this,_,Ue).call(this,ze)){let Pi=q&&ze.__staleWhileFetching!==void 0;return Ie&&(Ie.fetch="inflight",Pi&&(Ie.returnedStale=!0)),Pi?ze.__staleWhileFetching:ze.__returned=ze}let Je=P(this,B).call(this,We);if(!Te&&!Je)return Ie&&(Ie.fetch="hit"),ve(this,_,sr).call(this,We),oe&&P(this,ce).call(this,We),Ie&&P(this,_e).call(this,Ie,We),ze;let He=ve(this,_,wr).call(this,O,We,qe,Ee),Ci=He.__staleWhileFetching!==void 0&&q;return Ie&&(Ie.fetch=Je?"stale":"refresh",Ci&&Je&&(Ie.returnedStale=!0)),Ci?He.__staleWhileFetching:He.__returned=He}}get(O,N={}){let{allowStale:q=this.allowStale,updateAgeOnGet:oe=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,status:u}=N,d=P(this,k).get(O);if(d!==void 0){let w=P(this,$)[d],T=ve(this,_,Ue).call(this,w);return u&&P(this,_e).call(this,u,d),P(this,B).call(this,d)?(u&&(u.get="stale"),T?(u&&q&&w.__staleWhileFetching!==void 0&&(u.returnedStale=!0),q?w.__staleWhileFetching:void 0):(h||this.delete(O),u&&q&&(u.returnedStale=!0),q?w:void 0)):(u&&(u.get="hit"),T?w.__staleWhileFetching:(ve(this,_,sr).call(this,d),oe&&P(this,ce).call(this,d),w))}else u&&(u.get="miss")}delete(O){var q,oe,h,u;let N=!1;if(P(this,j)!==0){let d=P(this,k).get(O);if(d!==void 0)if(N=!0,P(this,j)===1)this.clear();else{P(this,K).call(this,d);let w=P(this,$)[d];ve(this,_,Ue).call(this,w)?w.__abortController.abort(new Error("deleted")):(P(this,me)||P(this,we))&&(P(this,me)&&((q=P(this,I))==null||q.call(this,w,O,"delete")),P(this,we)&&((oe=P(this,Y))==null||oe.push([w,O,"delete"]))),P(this,k).delete(O),P(this,x)[d]=void 0,P(this,$)[d]=void 0,d===P(this,V)?Se(this,V,P(this,re)[d]):d===P(this,S)?Se(this,S,P(this,G)[d]):(P(this,G)[P(this,re)[d]]=P(this,G)[d],P(this,re)[P(this,G)[d]]=P(this,re)[d]),lr(this,j)._--,P(this,te).push(d)}}if(P(this,we)&&((h=P(this,Y))!=null&&h.length)){let d=P(this,Y),w;for(;w=d==null?void 0:d.shift();)(u=P(this,v))==null||u.call(this,...w)}return N}clear(){var O,N,q;for(let oe of ve(this,_,kt).call(this,{allowStale:!0})){let h=P(this,$)[oe];if(ve(this,_,Ue).call(this,h))h.__abortController.abort(new Error("deleted"));else{let u=P(this,x)[oe];P(this,me)&&((O=P(this,I))==null||O.call(this,h,u,"delete")),P(this,we)&&((N=P(this,Y))==null||N.push([h,u,"delete"]))}}if(P(this,k).clear(),P(this,$).fill(void 0),P(this,x).fill(void 0),P(this,H)&&P(this,se)&&(P(this,H).fill(0),P(this,se).fill(0)),P(this,ge)&&P(this,ge).fill(0),Se(this,S,0),Se(this,V,0),P(this,te).length=0,Se(this,R,0),Se(this,j,0),P(this,we)&&P(this,Y)){let oe=P(this,Y),h;for(;h=oe==null?void 0:oe.shift();)(q=P(this,v))==null||q.call(this,...h)}}},A=new WeakMap,M=new WeakMap,I=new WeakMap,v=new WeakMap,L=new WeakMap,j=new WeakMap,R=new WeakMap,k=new WeakMap,x=new WeakMap,$=new WeakMap,G=new WeakMap,re=new WeakMap,S=new WeakMap,V=new WeakMap,te=new WeakMap,Y=new WeakMap,ge=new WeakMap,se=new WeakMap,H=new WeakMap,me=new WeakMap,ie=new WeakMap,we=new WeakMap,_=new WeakSet,oi=function(){let O=new c(P(this,A)),N=new c(P(this,A));Se(this,H,O),Se(this,se,N),Se(this,he,(h,u,d=i.now())=>{if(N[h]=u!==0?d:0,O[h]=u,u!==0&&this.ttlAutopurge){let w=setTimeout(()=>{P(this,B).call(this,h)&&this.delete(P(this,x)[h])},u+1);w.unref&&w.unref()}}),Se(this,ce,h=>{N[h]=O[h]!==0?i.now():0}),Se(this,_e,(h,u)=>{if(O[u]){let d=O[u],w=N[u];h.ttl=d,h.start=w,h.now=q||oe();let T=h.now-w;h.remainingTTL=d-T}});let q=0,oe=()=>{let h=i.now();if(this.ttlResolution>0){q=h;let u=setTimeout(()=>q=0,this.ttlResolution);u.unref&&u.unref()}return h};this.getRemainingTTL=h=>{let u=P(this,k).get(h);if(u===void 0)return 0;let d=O[u],w=N[u];if(d===0||w===0)return 1/0;let T=(q||oe())-w;return d-T},Se(this,B,h=>O[h]!==0&&N[h]!==0&&(q||oe())-N[h]>O[h])},ce=new WeakMap,_e=new WeakMap,he=new WeakMap,B=new WeakMap,ho=function(){let O=new c(P(this,A));Se(this,R,0),Se(this,ge,O),Se(this,K,N=>{Se(this,R,P(this,R)-O[N]),O[N]=0}),Se(this,ee,(N,q,oe,h)=>{if(ve(this,_,Ue).call(this,q))return 0;if(!n(oe))if(h){if(typeof h!="function")throw new TypeError("sizeCalculation must be a function");if(oe=h(q,N),!n(oe))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return oe}),Se(this,fe,(N,q,oe)=>{if(O[N]=q,P(this,M)){let h=P(this,M)-O[N];for(;P(this,R)>h;)ve(this,_,yr).call(this,!0)}Se(this,R,P(this,R)+O[N]),oe&&(oe.entrySize=q,oe.totalCalculatedSize=P(this,R))})},K=new WeakMap,fe=new WeakMap,ee=new WeakMap,Tt=function*({allowStale:O=this.allowStale}={}){if(P(this,j))for(let N=P(this,V);!(!ve(this,_,ai).call(this,N)||((O||!P(this,B).call(this,N))&&(yield N),N===P(this,S)));)N=P(this,re)[N]},kt=function*({allowStale:O=this.allowStale}={}){if(P(this,j))for(let N=P(this,S);!(!ve(this,_,ai).call(this,N)||((O||!P(this,B).call(this,N))&&(yield N),N===P(this,V)));)N=P(this,G)[N]},ai=function(O){return O!==void 0&&P(this,k).get(P(this,x)[O])===O},yr=function(O){var h,u;let N=P(this,S),q=P(this,x)[N],oe=P(this,$)[N];return P(this,ie)&&ve(this,_,Ue).call(this,oe)?oe.__abortController.abort(new Error("evicted")):(P(this,me)||P(this,we))&&(P(this,me)&&((h=P(this,I))==null||h.call(this,oe,q,"evict")),P(this,we)&&((u=P(this,Y))==null||u.push([oe,q,"evict"]))),P(this,K).call(this,N),O&&(P(this,x)[N]=void 0,P(this,$)[N]=void 0,P(this,te).push(N)),P(this,j)===1?(Se(this,S,Se(this,V,0)),P(this,te).length=0):Se(this,S,P(this,G)[N]),P(this,k).delete(q),lr(this,j)._--,N},wr=function(O,N,q,oe){let h=N===void 0?void 0:P(this,$)[N];if(ve(this,_,Ue).call(this,h))return h;let u=new s,{signal:d}=q;d==null||d.addEventListener("abort",()=>u.abort(d.reason),{signal:u.signal});let w={signal:u.signal,options:q,context:oe},T=(Ee,Te=!1)=>{let{aborted:Ie}=u.signal,Me=q.ignoreFetchAbort&&Ee!==void 0;if(q.status&&(Ie&&!Te?(q.status.fetchAborted=!0,q.status.fetchError=u.signal.reason,Me&&(q.status.fetchAbortIgnored=!0)):q.status.fetchResolved=!0),Ie&&!Me&&!Te)return X(u.signal.reason);let qe=ke;return P(this,$)[N]===ke&&(Ee===void 0?qe.__staleWhileFetching?P(this,$)[N]=qe.__staleWhileFetching:this.delete(O):(q.status&&(q.status.fetchUpdated=!0),this.set(O,Ee,w.options))),Ee},W=Ee=>(q.status&&(q.status.fetchRejected=!0,q.status.fetchError=Ee),X(Ee)),X=Ee=>{let{aborted:Te}=u.signal,Ie=Te&&q.allowStaleOnFetchAbort,Me=Ie||q.allowStaleOnFetchRejection,qe=Me||q.noDeleteOnFetchRejection,We=ke;if(P(this,$)[N]===ke&&(!qe||We.__staleWhileFetching===void 0?this.delete(O):Ie||(P(this,$)[N]=We.__staleWhileFetching)),Me)return q.status&&We.__staleWhileFetching!==void 0&&(q.status.returnedStale=!0),We.__staleWhileFetching;if(We.__returned===We)throw Ee},Ae=(Ee,Te)=>{var Me;let Ie=(Me=P(this,L))==null?void 0:Me.call(this,O,h,w);Ie&&Ie instanceof Promise&&Ie.then(qe=>Ee(qe===void 0?void 0:qe),Te),u.signal.addEventListener("abort",()=>{(!q.ignoreFetchAbort||q.allowStaleOnFetchAbort)&&(Ee(void 0),q.allowStaleOnFetchAbort&&(Ee=qe=>T(qe,!0)))})};q.status&&(q.status.fetchDispatched=!0);let ke=new Promise(Ae).then(T,W),Re=Object.assign(ke,{__abortController:u,__staleWhileFetching:h,__returned:void 0});return N===void 0?(this.set(O,Re,{...w.options,status:void 0}),N=P(this,k).get(O)):P(this,$)[N]=Re,Re},Ue=function(O){if(!P(this,ie))return!1;let N=O;return!!N&&N instanceof Promise&&N.hasOwnProperty("__staleWhileFetching")&&N.__abortController instanceof s},li=function(O,N){P(this,re)[N]=O,P(this,G)[O]=N},sr=function(O){O!==P(this,V)&&(O===P(this,S)?Se(this,S,P(this,G)[O]):ve(this,_,li).call(this,P(this,re)[O],P(this,G)[O]),ve(this,_,li).call(this,P(this,V),O),Se(this,V,O))},U);e.LRUCache=g}),St=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var i=class{constructor(f=0){this.iteratorType=f}equals(f){return this.o===f.o}};e.ContainerIterator=i;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=t;var l=class extends t{};e.Container=l}),fl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=St(),t=class extends i.Base{constructor(f=[]){super(),this.S=[];let s=this;f.forEach(function(r){s.push(r)})}clear(){this.i=0,this.S=[]}push(f){return this.S.push(f),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=t;e.default=l}),cl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=St(),t=class extends i.Base{constructor(f=[]){super(),this.j=0,this.q=[];let s=this;f.forEach(function(r){s.push(r)})}clear(){this.q=[],this.i=this.j=0}push(f){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let r=this.i;for(let o=0;o<r;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=f}else this.q[this.j+this.i]=f;return++this.i}pop(){if(this.i===0)return;let f=this.q[this.j++];return this.i-=1,f}front(){if(this.i!==0)return this.q[this.j]}},l=t;e.default=l}),dl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=St(),t=class extends i.Base{constructor(f=[],s=function(o,n){return o>n?-1:o<n?1:0},r=!0){if(super(),this.v=s,Array.isArray(f))this.C=r?[...f]:f;else{this.C=[];let n=this;f.forEach(function(a){n.C.push(a)})}this.i=this.C.length;let o=this.i>>1;for(let n=this.i-1>>1;n>=0;--n)this.k(n,o)}m(f){let s=this.C[f];for(;f>0;){let r=f-1>>1,o=this.C[r];if(this.v(o,s)<=0)break;this.C[f]=o,f=r}this.C[f]=s}k(f,s){let r=this.C[f];for(;f<s;){let o=f<<1|1,n=o+1,a=this.C[o];if(n<this.i&&this.v(a,this.C[n])>0&&(o=n,a=this.C[n]),this.v(a,r)>=0)break;this.C[f]=a,f=o}this.C[f]=r}clear(){this.i=0,this.C.length=0}push(f){this.C.push(f),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let f=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),f}top(){return this.C[0]}find(f){return this.C.indexOf(f)>=0}remove(f){let s=this.C.indexOf(f);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(f){let s=this.C.indexOf(f);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},l=t;e.default=l}),ki=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=St(),t=class extends i.Container{},l=t;e.default=l}),At=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=i;function i(){throw new RangeError("Iterator access denied!")}}),fo=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var i=St(),t=At(),l=class extends i.ContainerIterator{constructor(f,s){super(s),this.o=f,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(f){this.container.setElementByPos(this.o,f)}};e.RandomIterator=l}),pl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=l(ki()),t=fo();function l(o){return o&&o.t?o:{default:o}}var f=class co extends t.RandomIterator{constructor(n,a,c){super(n,c),this.container=a}copy(){return new co(this.o,this.container,this.iteratorType)}},s=class extends i.default{constructor(o=[],n=!0){if(super(),Array.isArray(o))this.J=n?[...o]:o,this.i=o.length;else{this.J=[];let a=this;o.forEach(function(c){a.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let n=0;for(let a=0;a<this.i;++a)this.J[a]!==o&&(this.J[n++]=this.J[a]);return this.i=this.J.length=n,this.i}eraseElementByIterator(o){let n=o.o;return o=o.next(),this.eraseElementByPos(n),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,n){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=n}insert(o,n,a=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(a).fill(n)),this.i+=a,this.i}find(o){for(let n=0;n<this.i;++n)if(this.J[n]===o)return new f(n,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let n=1;n<this.i;++n)this.J[n]!==this.J[n-1]&&(this.J[o++]=this.J[n]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let n=0;n<this.i;++n)o(this.J[n],n,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},r=s;e.default=r}),gl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=f(ki()),t=St(),l=At();function f(n){return n&&n.t?n:{default:n}}var s=class po extends t.ContainerIterator{constructor(a,c,p,g){super(g),this.o=a,this.h=c,this.container=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=a}copy(){return new po(this.o,this.h,this.container,this.iteratorType)}},r=class extends i.default{constructor(n=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;n.forEach(function(c){a.pushBack(c)})}V(n){let{L:a,B:c}=n;a.B=c,c.L=a,n===this.p&&(this.p=c),n===this._&&(this._=a),this.i-=1}G(n,a){let c=a.B,p={l:n,L:a,B:c};a.B=p,c.L=p,a===this.h&&(this.p=p),c===this.h&&(this._=p),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let a=this.p;for(;n--;)a=a.B;return a.l}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let a=this.p;for(;n--;)a=a.B;return this.V(a),this.i}eraseElementByValue(n){let a=this.p;for(;a!==this.h;)a.l===n&&this.V(a),a=a.B;return this.i}eraseElementByIterator(n){let a=n.o;return a===this.h&&(0,l.throwIteratorAccessError)(),n=n.next(),this.V(a),n}pushBack(n){return this.G(n,this._),this.i}popBack(){if(this.i===0)return;let n=this._.l;return this.V(this._),n}pushFront(n){return this.G(n,this.h),this.i}popFront(){if(this.i===0)return;let n=this.p.l;return this.V(this.p),n}setElementByPos(n,a){if(n<0||n>this.i-1)throw new RangeError;let c=this.p;for(;n--;)c=c.B;c.l=a}insert(n,a,c=1){if(n<0||n>this.i)throw new RangeError;if(c<=0)return this.i;if(n===0)for(;c--;)this.pushFront(a);else if(n===this.i)for(;c--;)this.pushBack(a);else{let p=this.p;for(let b=1;b<n;++b)p=p.B;let g=p.B;for(this.i+=c;c--;)p.B={l:a,L:p},p.B.L=p,p=p.B;p.B=g,g.L=p}return this.i}find(n){let a=this.p;for(;a!==this.h;){if(a.l===n)return new s(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let n=this.p,a=this._,c=0;for(;c<<1<this.i;){let p=n.l;n.l=a.l,a.l=p,n=n.B,a=a.L,c+=1}}unique(){if(this.i<=1)return this.i;let n=this.p;for(;n!==this.h;){let a=n;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;n.B=a.B,n.B.L=n,n=n.B}return this.i}sort(n){if(this.i<=1)return;let a=[];this.forEach(function(p){a.push(p)}),a.sort(n);let c=this.p;a.forEach(function(p){c.l=p,c=c.B})}merge(n){let a=this;if(this.i===0)n.forEach(function(c){a.pushBack(c)});else{let c=this.p;n.forEach(function(p){for(;c!==a.h&&c.l<=p;)c=c.B;a.G(p,c.L)})}return this.i}forEach(n){let a=this.p,c=0;for(;a!==this.h;)n(a.l,c++,this),a=a.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let n=this.p;for(;n!==this.h;)yield n.l,n=n.B}).bind(this)()}},o=r;e.default=o}),bl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=l(ki()),t=fo();function l(o){return o&&o.t?o:{default:o}}var f=class go extends t.RandomIterator{constructor(n,a,c){super(n,c),this.container=a}copy(){return new go(this.o,this.container,this.iteratorType)}},s=class extends i.default{constructor(o=[],n=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=n,this.P=Math.max(Math.ceil(a/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let c=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-a%this.F>>1;let p=this;o.forEach(function(g){p.pushBack(g)})}T(){let o=[],n=Math.max(this.P>>1,1);for(let a=0;a<n;++a)o[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)o[o.length]=this.A[a];for(let a=0;a<this.R;++a)o[o.length]=this.A[a];o[o.length]=[...this.A[this.R]],this.j=n,this.R=o.length-1;for(let a=0;a<n;++a)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let n=this.D+o+1,a=n%this.F,c=a-1,p=this.j+(n-a)/this.F;return a===0&&(p-=1),p%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:p,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:n,curNodePointerIndex:a}=this.O(o);return this.A[n][a]}setElementByPos(o,n){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:c}=this.O(o);this.A[a][c]=n}insert(o,n,a=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;a--;)this.pushFront(n);else if(o===this.i)for(;a--;)this.pushBack(n);else{let c=[];for(let p=o;p<this.i;++p)c.push(this.getElementByPos(p));this.cut(o-1);for(let p=0;p<a;++p)this.pushBack(n);for(let p=0;p<c.length;++p)this.pushBack(c[p])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:n,curNodePointerIndex:a}=this.O(o);return this.R=n,this.N=a,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let n=[];for(let c=o+1;c<this.i;++c)n.push(this.getElementByPos(c));this.cut(o),this.popBack();let a=this;n.forEach(function(c){a.pushBack(c)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let n=[];for(let c=0;c<this.i;++c){let p=this.getElementByPos(c);p!==o&&n.push(p)}let a=n.length;for(let c=0;c<a;++c)this.setElementByPos(c,n[c]);return this.cut(a-1)}eraseElementByIterator(o){let n=o.o;return this.eraseElementByPos(n),o=o.next(),o}find(o){for(let n=0;n<this.i;++n)if(this.getElementByPos(n)===o)return new f(n,this);return this.end()}reverse(){let o=0,n=this.i-1;for(;o<n;){let a=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(n)),this.setElementByPos(n,a),o+=1,n-=1}}unique(){if(this.i<=1)return this.i;let o=1,n=this.getElementByPos(0);for(let a=1;a<this.i;++a){let c=this.getElementByPos(a);c!==n&&(n=c,this.setElementByPos(o++,c))}for(;this.i>o;)this.popBack();return this.i}sort(o){let n=[];for(let a=0;a<this.i;++a)n.push(this.getElementByPos(a));n.sort(o);for(let a=0;a<this.i;++a)this.setElementByPos(a,n[a])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(n){o.push(n)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let n=0;n<this.P;++n)this.A.push(new Array(this.F));for(let n=0;n<o.length;++n)this.pushBack(o[n])}forEach(o){for(let n=0;n<this.i;++n)o(this.getElementByPos(n),n,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},r=s;e.default=r}),ml=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var i=class{constructor(l,f){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=f}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let f=l.tt;for(;f.U===l;)l=f,f=l.tt;l=f}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let f=l.tt;for(;f.W===l;)l=f,f=l.tt;return l.W!==f?f:l}}te(){let l=this.tt,f=this.W,s=f.U;return l.tt===this?l.tt=f:l.U===this?l.U=f:l.W=f,f.tt=l,f.U=this,this.tt=f,this.W=s,s&&(s.tt=this),f}se(){let l=this.tt,f=this.U,s=f.W;return l.tt===this?l.tt=f:l.U===this?l.U=f:l.W=f,f.tt=l,f.W=this,this.tt=f,this.U=s,s&&(s.tt=this),f}};e.TreeNode=i;var t=class extends i{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=t}),bo=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=ml(),t=St(),l=At(),f=class extends t.Container{constructor(r=function(n,a){return n<a?-1:n>a?1:0},o=!1){super(),this.Y=void 0,this.v=r,o?(this.re=i.TreeNodeEnableIndex,this.M=function(n,a,c){let p=this.ne(n,a,c);if(p){let g=p.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let b=this.he(p);if(b){let{parentNode:m,grandParent:y,curNode:A}=b;m.ie(),y.ie(),A.ie()}}return this.i},this.V=function(n){let a=this.fe(n);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=i.TreeNode,this.M=function(n,a,c){let p=this.ne(n,a,c);return p&&this.he(p),this.i},this.V=this.fe),this.h=new this.re}X(r,o){let n=this.h;for(;r;){let a=this.v(r.u,o);if(a<0)r=r.W;else if(a>0)n=r,r=r.U;else return r}return n}Z(r,o){let n=this.h;for(;r;)this.v(r.u,o)<=0?r=r.W:(n=r,r=r.U);return n}$(r,o){let n=this.h;for(;r;){let a=this.v(r.u,o);if(a<0)n=r,r=r.W;else if(a>0)r=r.U;else return r}return n}rr(r,o){let n=this.h;for(;r;)this.v(r.u,o)<0?(n=r,r=r.W):r=r.U;return n}ue(r){for(;;){let o=r.tt;if(o===this.h)return;if(r.ee===1){r.ee=0;return}if(r===o.U){let n=o.W;if(n.ee===1)n.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(n.W&&n.W.ee===1){n.ee=o.ee,o.ee=0,n.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else n.U&&n.U.ee===1?(n.ee=1,n.U.ee=0,n.se()):(n.ee=1,r=o)}else{let n=o.U;if(n.ee===1)n.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(n.U&&n.U.ee===1){n.ee=o.ee,o.ee=0,n.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else n.W&&n.W.ee===1?(n.ee=1,n.W.ee=0,n.te()):(n.ee=1,r=o)}}}fe(r){if(this.i===1)return this.clear(),this.h;let o=r;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[r.u,o.u]=[o.u,r.u],[r.l,o.l]=[o.l,r.l],r=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let n=o.tt;return o===n.U?n.U=void 0:n.W=void 0,this.i-=1,this.Y.ee=0,n}oe(r,o){return r===void 0?!1:this.oe(r.U,o)||o(r)?!0:this.oe(r.W,o)}he(r){for(;;){let o=r.tt;if(o.ee===0)return;let n=o.tt;if(o===n.U){let a=n.W;if(a&&a.ee===1){if(a.ee=o.ee=0,n===this.Y)return;n.ee=1,r=n;continue}else if(r===o.W){if(r.ee=0,r.U&&(r.U.tt=o),r.W&&(r.W.tt=n),o.W=r.U,n.U=r.W,r.U=o,r.W=n,n===this.Y)this.Y=r,this.h.tt=r;else{let c=n.tt;c.U===n?c.U=r:c.W=r}return r.tt=n.tt,o.tt=r,n.tt=r,n.ee=1,{parentNode:o,grandParent:n,curNode:r}}else o.ee=0,n===this.Y?this.Y=n.se():n.se(),n.ee=1}else{let a=n.U;if(a&&a.ee===1){if(a.ee=o.ee=0,n===this.Y)return;n.ee=1,r=n;continue}else if(r===o.U){if(r.ee=0,r.U&&(r.U.tt=n),r.W&&(r.W.tt=o),n.W=r.U,o.U=r.W,r.U=n,r.W=o,n===this.Y)this.Y=r,this.h.tt=r;else{let c=n.tt;c.U===n?c.U=r:c.W=r}return r.tt=n.tt,o.tt=r,n.tt=r,n.ee=1,{parentNode:o,grandParent:n,curNode:r}}else o.ee=0,n===this.Y?this.Y=n.te():n.te(),n.ee=1}return}}ne(r,o,n){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let a,c=this.h.U,p=this.v(c.u,r);if(p===0){c.l=o;return}else if(p>0)c.U=new this.re(r,o),c.U.tt=c,a=c.U,this.h.U=a;else{let g=this.h.W,b=this.v(g.u,r);if(b===0){g.l=o;return}else if(b<0)g.W=new this.re(r,o),g.W.tt=g,a=g.W,this.h.W=a;else{if(n!==void 0){let m=n.o;if(m!==this.h){let y=this.v(m.u,r);if(y===0){m.l=o;return}else if(y>0){let A=m.L(),M=this.v(A.u,r);if(M===0){A.l=o;return}else M<0&&(a=new this.re(r,o),A.W===void 0?(A.W=a,a.tt=A):(m.U=a,a.tt=m))}}}if(a===void 0)for(a=this.Y;;){let m=this.v(a.u,r);if(m>0){if(a.U===void 0){a.U=new this.re(r,o),a.U.tt=a,a=a.U;break}a=a.U}else if(m<0){if(a.W===void 0){a.W=new this.re(r,o),a.W.tt=a,a=a.W;break}a=a.W}else{a.l=o;return}}}}return this.i+=1,a}I(r,o){for(;r;){let n=this.v(r.u,o);if(n<0)r=r.W;else if(n>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,o){let n=r.o;if(n===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return n.u=o,!0;if(n===this.h.U)return this.v(n.B().u,o)>0?(n.u=o,!0):!1;if(n===this.h.W)return this.v(n.L().u,o)<0?(n.u=o,!0):!1;let a=n.L().u;if(this.v(a,o)>=0)return!1;let c=n.B().u;return this.v(c,o)<=0?!1:(n.u=o,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let o=0,n=this;return this.oe(this.Y,function(a){return r===o?(n.V(a),!0):(o+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let o=this.I(this.Y,r);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(r){let o=r.o;o===this.h&&(0,l.throwIteratorAccessError)();let n=o.W===void 0;return r.iteratorType===0?n&&r.next():(!n||o.U===void 0)&&r.next(),this.V(o),r}forEach(r){let o=0;for(let n of this)r(n,o++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let o,n=0;for(let a of this){if(n===r){o=a;break}n+=1}return o}getHeight(){if(this.i===0)return 0;let r=function(o){return o?Math.max(r(o.U),r(o.W))+1:0};return r(this.Y)}},s=f;e.default=s}),mo=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=St(),t=At(),l=class extends i.ContainerIterator{constructor(s,r,o){super(o),this.o=s,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,r=this.h.tt;if(s===this.h)return r?r.rt-1:0;let o=0;for(s.U&&(o+=s.U.rt);s!==r;){let n=s.tt;s===n.W&&(o+=1,n.U&&(o+=n.U.rt)),s=n}return o}},f=l;e.default=f}),yl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=f(bo()),t=f(mo()),l=At();function f(n){return n&&n.t?n:{default:n}}var s=class yo extends t.default{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new yo(this.o,this.h,this.container,this.iteratorType)}},r=class extends i.default{constructor(n=[],a,c){super(a,c);let p=this;n.forEach(function(g){p.insert(g)})}*K(n){n!==void 0&&(yield*this.K(n.U),yield n.u,yield*this.K(n.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(n,a){return this.M(n,void 0,a)}find(n){let a=this.I(this.Y,n);return new s(a,this.h,this)}lowerBound(n){let a=this.X(this.Y,n);return new s(a,this.h,this)}upperBound(n){let a=this.Z(this.Y,n);return new s(a,this.h,this)}reverseLowerBound(n){let a=this.$(this.Y,n);return new s(a,this.h,this)}reverseUpperBound(n){let a=this.rr(this.Y,n);return new s(a,this.h,this)}union(n){let a=this;return n.forEach(function(c){a.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=r;e.default=o}),wl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=f(bo()),t=f(mo()),l=At();function f(n){return n&&n.t?n:{default:n}}var s=class wo extends t.default{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,p){if(p==="0")return a.o.u;if(p==="1")return a.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new wo(this.o,this.h,this.container,this.iteratorType)}},r=class extends i.default{constructor(n=[],a,c){super(a,c);let p=this;n.forEach(function(g){p.setElement(g[0],g[1])})}*K(n){n!==void 0&&(yield*this.K(n.U),yield[n.u,n.l],yield*this.K(n.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let n=this.h.U;return[n.u,n.l]}back(){if(this.i===0)return;let n=this.h.W;return[n.u,n.l]}lowerBound(n){let a=this.X(this.Y,n);return new s(a,this.h,this)}upperBound(n){let a=this.Z(this.Y,n);return new s(a,this.h,this)}reverseLowerBound(n){let a=this.$(this.Y,n);return new s(a,this.h,this)}reverseUpperBound(n){let a=this.rr(this.Y,n);return new s(a,this.h,this)}setElement(n,a,c){return this.M(n,a,c)}find(n){let a=this.I(this.Y,n);return new s(a,this.h,this)}getElementByKey(n){return this.I(this.Y,n).l}union(n){let a=this;return n.forEach(function(c){a.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=r;e.default=o}),_o=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=i;function i(t){let l=typeof t;return l==="object"&&t!==null||l==="function"}}),vo=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var i=St(),t=f(_o()),l=At();function f(o){return o&&o.t?o:{default:o}}var s=class extends i.ContainerIterator{constructor(o,n,a){super(a),this.o=o,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=s;var r=class extends i.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:n,B:a}=o;n.B=a,a.L=n,o===this.p&&(this.p=a),o===this._&&(this._=n),this.i-=1}M(o,n,a){a===void 0&&(a=(0,t.default)(o));let c;if(a){let p=o[this.HASH_TAG];if(p!==void 0)return this.H[p].l=n,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:o,l:n,L:this._,B:this.h},this.H.push(c)}else{let p=this.g[o];if(p)return p.l=n,this.i;c={u:o,l:n,L:this._,B:this.h},this.g[o]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(o,n){if(n===void 0&&(n=(0,t.default)(o)),n){let a=o[this.HASH_TAG];return a===void 0?this.h:this.H[a]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(n){delete n.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,n){let a;if(n===void 0&&(n=(0,t.default)(o)),n){let c=o[this.HASH_TAG];if(c===void 0)return!1;delete o[this.HASH_TAG],a=this.H[c],delete this.H[c]}else{if(a=this.g[o],a===void 0)return!1;delete this.g[o]}return this.V(a),!0}eraseElementByIterator(o){let n=o.o;return n===this.h&&(0,l.throwIteratorAccessError)(),this.V(n),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let n=this.p;for(;o--;)n=n.B;return this.V(n),this.i}};e.HashContainer=r}),_l=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=vo(),t=At(),l=class Eo extends i.HashContainerIterator{constructor(o,n,a,c){super(o,n,c),this.container=a}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new Eo(this.o,this.h,this.container,this.iteratorType)}},f=class extends i.HashContainer{constructor(r=[]){super();let o=this;r.forEach(function(n){o.insert(n)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,o){return this.M(r,void 0,o)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let o=this.p;for(;r--;)o=o.B;return o.u}find(r,o){let n=this.I(r,o);return new l(n,this.h,this)}forEach(r){let o=0,n=this.p;for(;n!==this.h;)r(n.u,o++,this),n=n.B}[Symbol.iterator](){return(function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}).bind(this)()}},s=f;e.default=s}),vl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var i=vo(),t=f(_o()),l=At();function f(n){return n&&n.t?n:{default:n}}var s=class So extends i.HashContainerIterator{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,p){if(p==="0")return a.o.u;if(p==="1")return a.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new So(this.o,this.h,this.container,this.iteratorType)}},r=class extends i.HashContainer{constructor(n=[]){super();let a=this;n.forEach(function(c){a.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(n,a,c){return this.M(n,a,c)}getElementByKey(n,a){if(a===void 0&&(a=(0,t.default)(n)),a){let p=n[this.HASH_TAG];return p!==void 0?this.H[p].l:void 0}let c=this.g[n];return c?c.l:void 0}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let a=this.p;for(;n--;)a=a.B;return[a.u,a.l]}find(n,a){let c=this.I(n,a);return new s(c,this.h,this)}forEach(n){let a=0,c=this.p;for(;c!==this.h;)n([c.u,c.l],a++,this),c=c.B}[Symbol.iterator](){return(function*(){let n=this.p;for(;n!==this.h;)yield[n.u,n.l],n=n.B}).bind(this)()}},o=r;e.default=o}),El=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return f.default}});var i=p(fl()),t=p(cl()),l=p(dl()),f=p(pl()),s=p(gl()),r=p(bl()),o=p(yl()),n=p(wl()),a=p(_l()),c=p(vl());function p(g){return g&&g.t?g:{default:g}}}),Sl=be((e,i)=>{ae(),ue(),le();var t=El().OrderedSet,l=vt()("number-allocator:trace"),f=vt()("number-allocator:error");function s(o,n){this.low=o,this.high=n}s.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},s.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function r(o,n){if(!(this instanceof r))return new r(o,n);this.min=o,this.max=n,this.ss=new t([],(a,c)=>a.compare(c)),l("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let o=this.ss.begin(),n=o.pointer.low,a=o.pointer.high,c=n;return c+1<=a?this.ss.updateKeyByIterator(o,new s(n+1,a)):this.ss.eraseElementByPos(0),l("alloc():"+c),c},r.prototype.use=function(o){let n=new s(o,o),a=this.ss.lowerBound(n);if(!a.equals(this.ss.end())){let c=a.pointer.low,p=a.pointer.high;return a.pointer.equals(n)?(this.ss.eraseElementByIterator(a),l("use():"+o),!0):c>o?!1:c===o?(this.ss.updateKeyByIterator(a,new s(c+1,p)),l("use():"+o),!0):p===o?(this.ss.updateKeyByIterator(a,new s(c,p-1)),l("use():"+o),!0):(this.ss.updateKeyByIterator(a,new s(o+1,p)),this.ss.insert(new s(c,o-1)),l("use():"+o),!0)}return l("use():failed"),!1},r.prototype.free=function(o){if(o<this.min||o>this.max){f("free():"+o+" is out of range");return}let n=new s(o,o),a=this.ss.upperBound(n);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(n);return}a.pre();let c=a.pointer.high;a.pointer.high+1===o?this.ss.updateKeyByIterator(a,new s(c,o)):this.ss.insert(n)}else if(a.equals(this.ss.begin()))if(o+1===a.pointer.low){let c=a.pointer.high;this.ss.updateKeyByIterator(a,new s(o,c))}else this.ss.insert(n);else{let c=a.pointer.low,p=a.pointer.high;a.pre();let g=a.pointer.low;a.pointer.high+1===o?o+1===c?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new s(g,p))):this.ss.updateKeyByIterator(a,new s(g,o)):o+1===c?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new s(o,p))):this.ss.insert(n)}l("free():"+o)},r.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},i.exports=r}),Ao=be((e,i)=>{ae(),ue(),le();var t=Sl();i.exports.NumberAllocator=t}),Al=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=hl(),t=Ao(),l=class{constructor(f){f>0&&(this.aliasToTopic=new i.LRUCache({max:f}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,f),this.max=f,this.length=0)}put(f,s){if(s===0||s>this.max)return!1;let r=this.aliasToTopic.get(s);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(s,f),this.topicToAlias[f]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(f){return this.aliasToTopic.get(f)}getAliasByTopic(f){let s=this.topicToAlias[f];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=l}),Il=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),l=i(Al()),f=Zt(),s=(r,o)=>{r.log("_handleConnack");let{options:n}=r,a=n.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(r.topicAliasSend=new l.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&n.keepalive&&(n.keepalive=o.properties.serverKeepAlive),o.properties.maximumPacketSize&&(n.properties||(n.properties={}),n.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(a===0)r.reconnecting=!1,r._onConnect(o);else if(a>0){let c=new f.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[a]}`,a);r.emit("error",c),r.options.reconnectOnConnackError&&r._cleanUp(!0)}};e.default=s}),Tl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=(t,l,f)=>{t.log("handling pubrel packet");let s=typeof f<"u"?f:t.noop,{messageId:r}=l,o={cmd:"pubcomp",messageId:r};t.incomingStore.get(l,(n,a)=>{n?t._sendPacket(o,s):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,c=>{if(c)return s(c);t.incomingStore.del(a,t.noop),t._sendPacket(o,s)}))})};e.default=i}),kl=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var t=i(al()),l=i(ul()),f=i(Il()),s=i(Br()),r=i(Tl()),o=(n,a,c)=>{let{options:p}=n;if(p.protocolVersion===5&&p.properties&&p.properties.maximumPacketSize&&p.properties.maximumPacketSize<a.length)return n.emit("error",new Error(`exceeding packets size ${a.cmd}`)),n.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),n;switch(n.log("_handlePacket :: emitting packetreceive"),n.emit("packetreceive",a),a.cmd){case"publish":(0,t.default)(n,a,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":n.reschedulePing(),(0,s.default)(n,a),c();break;case"pubrel":n.reschedulePing(),(0,r.default)(n,a,c);break;case"connack":(0,f.default)(n,a),c();break;case"auth":n.reschedulePing(),(0,l.default)(n,a),c();break;case"pingresp":n.log("_handlePacket :: received pingresp"),n.reschedulePing(!0),c();break;case"disconnect":n.emit("disconnect",a),c();break;default:n.log("_handlePacket :: unknown command"),c();break}};e.default=o}),Rl=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var t=i((Jt(),xe(Vt))),l=Zt(),f=class{};e.TypedEventEmitter=f,(0,l.applyMixin)(f,t.default)}),xr=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var i=()=>{var s;return typeof window<"u"?typeof navigator<"u"&&((s=navigator.userAgent)===null||s===void 0?void 0:s.toLowerCase().indexOf(" electron/"))>-1&&Ce!=null&&Ce.versions?!Object.prototype.hasOwnProperty.call(Ce.versions,"electron"):typeof window.document<"u":!1},t=()=>{var s,r;return!!(typeof self=="object"&&!((r=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||r===void 0)&&r.includes("WorkerGlobalScope"))},l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",f=i()||t()||l();e.isWebWorker=t(),e.isReactNativeBrowser=l(),e.default=f}),Ol=be((e,i)=>{ae(),ue(),le(),function(t,l){typeof e=="object"&&typeof i<"u"?l(e):typeof define=="function"&&define.amd?define(["exports"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.fastUniqueNumbers={}))}(e,function(t){var l=function(b){return function(m){var y=b(m);return m.add(y),y}},f=function(b){return function(m,y){return b.set(m,y),y}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,o=r*2,n=function(b,m){return function(y){var A=m.get(y),M=A===void 0?y.size:A<o?A+1:0;if(!y.has(M))return b(y,M);if(y.size<r){for(;y.has(M);)M=Math.floor(Math.random()*o);return b(y,M)}if(y.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(M);)M=Math.floor(Math.random()*s);return b(y,M)}},a=new WeakMap,c=f(a),p=n(c,a),g=l(p);t.addUniqueNumber=g,t.generateUniqueNumber=p})}),Cl=be((e,i)=>{ae(),ue(),le(),function(t,l){typeof e=="object"&&typeof i<"u"?l(e,Ol()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimersBroker={},t.fastUniqueNumbers))}(e,function(t,l){var f=function(o){return o.method!==void 0&&o.method==="call"},s=function(o){return o.error===null&&typeof o.id=="number"},r=function(o){var n=new Map([[0,function(){}]]),a=new Map([[0,function(){}]]),c=new Map,p=new Worker(o);p.addEventListener("message",function(A){var M=A.data;if(f(M)){var I=M.params,v=I.timerId,L=I.timerType;if(L==="interval"){var j=n.get(v);if(typeof j=="number"){var R=c.get(j);if(R===void 0||R.timerId!==v||R.timerType!==L)throw new Error("The timer is in an undefined state.")}else if(typeof j<"u")j();else throw new Error("The timer is in an undefined state.")}else if(L==="timeout"){var k=a.get(v);if(typeof k=="number"){var x=c.get(k);if(x===void 0||x.timerId!==v||x.timerType!==L)throw new Error("The timer is in an undefined state.")}else if(typeof k<"u")k(),a.delete(v);else throw new Error("The timer is in an undefined state.")}}else if(s(M)){var $=M.id,G=c.get($);if(G===void 0)throw new Error("The timer is in an undefined state.");var re=G.timerId,S=G.timerType;c.delete($),S==="interval"?n.delete(re):a.delete(re)}else{var V=M.error.message;throw new Error(V)}});var g=function(A){var M=l.generateUniqueNumber(c);c.set(M,{timerId:A,timerType:"interval"}),n.set(A,M),p.postMessage({id:M,method:"clear",params:{timerId:A,timerType:"interval"}})},b=function(A){var M=l.generateUniqueNumber(c);c.set(M,{timerId:A,timerType:"timeout"}),a.set(A,M),p.postMessage({id:M,method:"clear",params:{timerId:A,timerType:"timeout"}})},m=function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=l.generateUniqueNumber(n);return n.set(I,function(){A(),typeof n.get(I)=="function"&&p.postMessage({id:null,method:"set",params:{delay:M,now:performance.now(),timerId:I,timerType:"interval"}})}),p.postMessage({id:null,method:"set",params:{delay:M,now:performance.now(),timerId:I,timerType:"interval"}}),I},y=function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=l.generateUniqueNumber(a);return a.set(I,A),p.postMessage({id:null,method:"set",params:{delay:M,now:performance.now(),timerId:I,timerType:"timeout"}}),I};return{clearInterval:g,clearTimeout:b,setInterval:m,setTimeout:y}};t.load=r})}),Pl=be((e,i)=>{ae(),ue(),le(),function(t,l){typeof e=="object"&&typeof i<"u"?l(e,Cl()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimers={},t.workerTimersBroker))}(e,function(t,l){var f=function(p,g){var b=null;return function(){if(b!==null)return b;var m=new Blob([g],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(m);return b=p(y),setTimeout(function(){return URL.revokeObjectURL(y)}),b}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,r=f(l.load,s),o=function(p){return r().clearInterval(p)},n=function(p){return r().clearTimeout(p)},a=function(){var p;return(p=r()).setInterval.apply(p,arguments)},c=function(){var p;return(p=r()).setTimeout.apply(p,arguments)};t.clearInterval=o,t.clearTimeout=n,t.setInterval=a,t.setTimeout=c})}),Bl=be(e=>{ae(),ue(),le();var i=e&&e.__createBinding||(Object.create?function(a,c,p,g){g===void 0&&(g=p);var b=Object.getOwnPropertyDescriptor(c,p);(!b||("get"in b?!c.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return c[p]}}),Object.defineProperty(a,g,b)}:function(a,c,p,g){g===void 0&&(g=p),a[g]=c[p]}),t=e&&e.__setModuleDefault||(Object.create?function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}:function(a,c){a.default=c}),l=e&&e.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var p in a)p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)&&i(c,a,p);return t(c,a),c};Object.defineProperty(e,"__esModule",{value:!0});var f=l(xr()),s=Pl(),r={set:s.setInterval,clear:s.clearInterval},o={set:(a,c)=>setInterval(a,c),clear:a=>clearInterval(a)},n=a=>{switch(a){case"native":return o;case"worker":return r;case"auto":default:return f.default&&!f.isWebWorker&&!f.isReactNativeBrowser?r:o}};e.default=n}),Io=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var t=i(Bl()),l=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(f,s){this.destroyed=!1,this.client=f,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,t.default)(s),this.setKeepalive(f.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(f){if(f*=1e3,isNaN(f)||f<=0||f>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${f}`);this._keepalive=f,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${f}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let f=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+f,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=l}),ui=be(e=>{ae(),ue(),le();var i=e&&e.__createBinding||(Object.create?function(j,R,k,x){x===void 0&&(x=k);var $=Object.getOwnPropertyDescriptor(R,k);(!$||("get"in $?!R.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return R[k]}}),Object.defineProperty(j,x,$)}:function(j,R,k,x){x===void 0&&(x=k),j[x]=R[k]}),t=e&&e.__setModuleDefault||(Object.create?function(j,R){Object.defineProperty(j,"default",{enumerable:!0,value:R})}:function(j,R){j.default=R}),l=e&&e.__importStar||function(j){if(j&&j.__esModule)return j;var R={};if(j!=null)for(var k in j)k!=="default"&&Object.prototype.hasOwnProperty.call(j,k)&&i(R,j,k);return t(R,j),R},f=e&&e.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0});var s=f(va()),r=f(nl()),o=f(ao()),n=zt(),a=f(sl()),c=l(ol()),p=f(vt()),g=f(lo()),b=f(kl()),m=Zt(),y=Rl(),A=f(Io()),M=l(xr()),I=globalThis.setImmediate||((...j)=>{let R=j.shift();(0,m.nextTick)(()=>{R(...j)})}),v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},L=class hi extends y.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(R,k){super(),this.options=k||{};for(let x in v)typeof this.options[x]>"u"?this.options[x]=v[x]:this.options[x]=k[x];this.log=this.options.log||(0,p.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",hi.VERSION),M.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",M.default?"browser":"node"),this.log("MqttClient :: options.protocol",k.protocol),this.log("MqttClient :: options.protocolVersion",k.protocolVersion),this.log("MqttClient :: options.username",k.username),this.log("MqttClient :: options.keepalive",k.keepalive),this.log("MqttClient :: options.reconnectPeriod",k.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",k.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",k.properties?k.properties.topicAliasMaximum:void 0),this.options.clientId=typeof k.clientId=="string"?k.clientId:hi.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=k.protocolVersion===5&&k.customHandleAcks?k.customHandleAcks:(...x)=>{x[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=R,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new o.default:this.options.messageIdProvider,this.outgoingStore=k.outgoingStore||new g.default,this.incomingStore=k.incomingStore||new g.default,this.queueQoSZero=k.queueQoSZero===void 0?!0:k.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,k.properties&&k.properties.topicAliasMaximum>0&&(k.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(k.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:x}=this,$=()=>{let G=x.shift();this.log("deliver :: entry %o",G);let re=null;if(!G){this._resubscribe();return}re=G.packet,this.log("deliver :: call _sendPacket for %o",re);let S=!0;re.messageId&&re.messageId!==0&&(this.messageIdProvider.register(re.messageId)||(S=!1)),S?this._sendPacket(re,V=>{G.cb&&G.cb(V),$()}):(this.log("messageId: %d has already used. The message is skipped and removed.",re.messageId),$())};this.log("connect :: sending queued packets"),$()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(R,k){k()}handleMessage(R,k){k()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var R;let k=new n.Writable,x=r.default.parser(this.options),$=null,G=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),x.on("packet",Y=>{this.log("parser :: on packet push to packets array."),G.push(Y)});let re=()=>{this.log("work :: getting next packet in queue");let Y=G.shift();if(Y)this.log("work :: packet pulled from queue"),(0,b.default)(this,Y,S);else{this.log("work :: no packets in queue");let ge=$;$=null,this.log("work :: done flag is %s",!!ge),ge&&ge()}},S=()=>{if(G.length)(0,m.nextTick)(re);else{let Y=$;$=null,Y()}};k._write=(Y,ge,se)=>{$=se,this.log("writable stream :: parsing buffer"),x.parse(Y),re()};let V=Y=>{this.log("streamErrorHandler :: error",Y.message),Y.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Y)):this.noop(Y)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(k),this.stream.on("error",V),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let te={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(te.will=Object.assign(Object.assign({},this.options.will),{payload:(R=this.options.will)===null||R===void 0?void 0:R.payload})),this.topicAliasRecv&&(te.properties||(te.properties={}),this.topicAliasRecv&&(te.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(te),x.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let Y=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Y)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(R,k,x,$){this.log("publish :: message `%s` to topic `%s`",k,R);let{options:G}=this;typeof x=="function"&&($=x,x=null),x=x||{},x=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),x);let{qos:re,retain:S,dup:V,properties:te,cbStorePut:Y}=x;if(this._checkDisconnecting($))return this;let ge=()=>{let se=0;if((re===1||re===2)&&(se=this._nextId(),se===null))return this.log("No messageId left"),!1;let H={cmd:"publish",topic:R,payload:k,qos:re,retain:S,messageId:se,dup:V};switch(G.protocolVersion===5&&(H.properties=te),this.log("publish :: qos",re),re){case 1:case 2:this.outgoing[H.messageId]={volatile:!1,cb:$||this.noop},this.log("MqttClient:publish: packet cmd: %s",H.cmd),this._sendPacket(H,void 0,Y);break;default:this.log("MqttClient:publish: packet cmd: %s",H.cmd),this._sendPacket(H,$,Y);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ge())&&this._storeProcessingQueue.push({invoke:ge,cbStorePut:x.cbStorePut,callback:$}),this}publishAsync(R,k,x){return new Promise(($,G)=>{this.publish(R,k,x,(re,S)=>{re?G(re):$(S)})})}subscribe(R,k,x){let $=this.options.protocolVersion;typeof k=="function"&&(x=k),x=x||this.noop;let G=!1,re=[];typeof R=="string"?(R=[R],re=R):Array.isArray(R)?re=R:typeof R=="object"&&(G=R.resubscribe,delete R.resubscribe,re=Object.keys(R));let S=c.validateTopics(re);if(S!==null)return I(x,new Error(`Invalid topic ${S}`)),this;if(this._checkDisconnecting(x))return this.log("subscribe: discconecting true"),this;let V={qos:0};$===5&&(V.nl=!1,V.rap=!1,V.rh=0),k=Object.assign(Object.assign({},V),k);let te=k.properties,Y=[],ge=(H,me)=>{if(me=me||k,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,H)||this._resubscribeTopics[H].qos<me.qos||G){let ie={topic:H,qos:me.qos};$===5&&(ie.nl=me.nl,ie.rap=me.rap,ie.rh=me.rh,ie.properties=te),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ie.topic,ie.qos),Y.push(ie)}};if(Array.isArray(R)?R.forEach(H=>{this.log("subscribe: array topic %s",H),ge(H)}):Object.keys(R).forEach(H=>{this.log("subscribe: object topic %s, %o",H,R[H]),ge(H,R[H])}),!Y.length)return x(null,[]),this;let se=()=>{let H=this._nextId();if(H===null)return this.log("No messageId left"),!1;let me={cmd:"subscribe",subscriptions:Y,messageId:H};if(te&&(me.properties=te),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ie=[];Y.forEach(we=>{if(this.options.reconnectPeriod>0){let _={qos:we.qos};$===5&&(_.nl=we.nl||!1,_.rap=we.rap||!1,_.rh=we.rh||0,_.properties=we.properties),this._resubscribeTopics[we.topic]=_,ie.push(we.topic)}}),this.messageIdToTopic[me.messageId]=ie}return this.outgoing[me.messageId]={volatile:!0,cb(ie,we){if(!ie){let{granted:_}=we;for(let Q=0;Q<_.length;Q+=1)Y[Q].qos=_[Q]}x(ie,Y,we)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(me),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!se())&&this._storeProcessingQueue.push({invoke:se,callback:x}),this}subscribeAsync(R,k){return new Promise((x,$)=>{this.subscribe(R,k,(G,re)=>{G?$(G):x(re)})})}unsubscribe(R,k,x){typeof R=="string"&&(R=[R]),typeof k=="function"&&(x=k),x=x||this.noop;let $=c.validateTopics(R);if($!==null)return I(x,new Error(`Invalid topic ${$}`)),this;if(this._checkDisconnecting(x))return this;let G=()=>{let re=this._nextId();if(re===null)return this.log("No messageId left"),!1;let S={cmd:"unsubscribe",messageId:re,unsubscriptions:[]};return typeof R=="string"?S.unsubscriptions=[R]:Array.isArray(R)&&(S.unsubscriptions=R),this.options.resubscribe&&S.unsubscriptions.forEach(V=>{delete this._resubscribeTopics[V]}),typeof k=="object"&&k.properties&&(S.properties=k.properties),this.outgoing[S.messageId]={volatile:!0,cb:x},this.log("unsubscribe: call _sendPacket"),this._sendPacket(S),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!G())&&this._storeProcessingQueue.push({invoke:G,callback:x}),this}unsubscribeAsync(R,k){return new Promise((x,$)=>{this.unsubscribe(R,k,(G,re)=>{G?$(G):x(re)})})}end(R,k,x){this.log("end :: (%s)",this.options.clientId),(R==null||typeof R!="boolean")&&(x=x||k,k=R,R=!1),typeof k!="object"&&(x=x||k,k=null),this.log("end :: cb? %s",!!x),(!x||typeof x!="function")&&(x=this.noop);let $=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(re=>{this.outgoingStore.close(S=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),x){let V=re||S;this.log("end :: closeStores: invoking callback with args"),x(V)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},G=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,R),this._cleanUp(R,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,m.nextTick)($)},k)};return this.disconnecting?(x(),this):(this._clearReconnect(),this.disconnecting=!0,!R&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,G,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),G()),this)}endAsync(R,k){return new Promise((x,$)=>{this.end(R,k,G=>{G?$(G):x()})})}removeOutgoingMessage(R){if(this.outgoing[R]){let{cb:k}=this.outgoing[R];this._removeOutgoingAndStoreMessage(R,()=>{k(new Error("Message removed"))})}return this}reconnect(R){this.log("client reconnect");let k=()=>{R?(this.options.incomingStore=R.incomingStore,this.options.outgoingStore=R.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=k:k(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(R=>{this.outgoing[R].volatile&&typeof this.outgoing[R].cb=="function"&&(this.outgoing[R].cb(new Error("Connection closed")),delete this.outgoing[R])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(R=>{typeof this.outgoing[R].cb=="function"&&(this.outgoing[R].cb(new Error("Connection closed")),delete this.outgoing[R])}))}_removeTopicAliasAndRecoverTopicName(R){let k;R.properties&&(k=R.properties.topicAlias);let x=R.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",k,x),x.length===0){if(typeof k>"u")return new Error("Unregistered Topic Alias");if(x=this.topicAliasSend.getTopicByAlias(k),typeof x>"u")return new Error("Unregistered Topic Alias");R.topic=x}k&&delete R.properties.topicAlias}_checkDisconnecting(R){return this.disconnecting&&(R&&R!==this.noop?R(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(R,k,x={}){if(k&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",k)),this.log("_cleanUp :: forced? %s",R),R)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let $=Object.assign({cmd:"disconnect"},x);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket($,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),I(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),k&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",k),k())}_storeAndSend(R,k,x){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",R.cmd);let $=R,G;if($.cmd==="publish"&&($=(0,a.default)(R),G=this._removeTopicAliasAndRecoverTopicName($),G))return k&&k(G);this.outgoingStore.put($,re=>{if(re)return k&&k(re);x(),this._writePacket(R,k)})}_applyTopicAlias(R){if(this.options.protocolVersion===5&&R.cmd==="publish"){let k;R.properties&&(k=R.properties.topicAlias);let x=R.topic.toString();if(this.topicAliasSend)if(k){if(x.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",x,k),!this.topicAliasSend.put(x,k)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",x,k),new Error("Sending Topic Alias out of range")}else x.length!==0&&(this.options.autoAssignTopicAlias?(k=this.topicAliasSend.getAliasByTopic(x),k?(R.topic="",R.properties=Object.assign(Object.assign({},R.properties),{topicAlias:k}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",x,k)):(k=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(x,k),R.properties=Object.assign(Object.assign({},R.properties),{topicAlias:k}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",x,k))):this.options.autoUseTopicAlias&&(k=this.topicAliasSend.getAliasByTopic(x),k&&(R.topic="",R.properties=Object.assign(Object.assign({},R.properties),{topicAlias:k}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",x,k))));else if(k)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",x,k),new Error("Sending Topic Alias out of range")}}_noop(R){this.log("noop ::",R)}_writePacket(R,k){this.log("_writePacket :: packet: %O",R),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",R),this.log("_writePacket :: writing to stream");let x=r.default.writeToStream(R,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",x),!x&&k&&k!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",k)):k&&(this.log("_writePacket :: invoking cb"),k())}_sendPacket(R,k,x,$){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),x=x||this.noop,k=k||this.noop;let G=this._applyTopicAlias(R);if(G){k(G);return}if(!this.connected){if(R.cmd==="auth"){this._writePacket(R,k);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(R,k,x);return}if($){this._writePacket(R,k);return}switch(R.cmd){case"publish":break;case"pubrel":this._storeAndSend(R,k,x);return;default:this._writePacket(R,k);return}switch(R.qos){case 2:case 1:this._storeAndSend(R,k,x);break;case 0:default:this._writePacket(R,k);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(R,k,x){this.log("_storePacket :: packet: %o",R),this.log("_storePacket :: cb? %s",!!k),x=x||this.noop;let $=R;if($.cmd==="publish"){$=(0,a.default)(R);let re=this._removeTopicAliasAndRecoverTopicName($);if(re)return k&&k(re)}let G=$.qos||0;G===0&&this.queueQoSZero||$.cmd!=="publish"?this.queue.push({packet:$,cb:k}):G>0?(k=this.outgoing[$.messageId]?this.outgoing[$.messageId].cb:null,this.outgoingStore.put($,re=>{if(re)return k&&k(re);x()})):k&&k(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new A.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(R=!1){this.keepaliveManager&&this.options.keepalive&&(R||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let R=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&R.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let k=0;k<R.length;k++){let x={};x[R[k]]=this._resubscribeTopics[R[k]],x.resubscribe=!0,this.subscribe(x,{properties:x[R[k]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(R){if(this.disconnected){this.emit("connect",R);return}this.connackPacket=R,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let k=()=>{let x=this.outgoingStore.createStream(),$=()=>{x.destroy(),x=null,this._flushStoreProcessingQueue(),G()},G=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",$),x.on("error",S=>{G(),this._flushStoreProcessingQueue(),this.removeListener("close",$),this.emit("error",S)});let re=()=>{if(!x)return;let S=x.read(1),V;if(!S){x.once("readable",re);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[S.messageId]){re();return}!this.disconnecting&&!this.reconnectTimer?(V=this.outgoing[S.messageId]?this.outgoing[S.messageId].cb:null,this.outgoing[S.messageId]={volatile:!1,cb(te,Y){V&&V(te,Y),re()}},this._packetIdsDuringStoreProcessing[S.messageId]=!0,this.messageIdProvider.register(S.messageId)?this._sendPacket(S,void 0,void 0,!0):this.log("messageId: %d has already used.",S.messageId)):x.destroy&&x.destroy()};x.on("end",()=>{let S=!0;for(let V in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[V]){S=!1;break}this.removeListener("close",$),S?(G(),this._invokeAllStoreProcessingQueue(),this.emit("connect",R)):k()}),re()};k()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let R=this._storeProcessingQueue[0];if(R&&R.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let R of this._storeProcessingQueue)R.cbStorePut&&R.cbStorePut(new Error("Connection closed")),R.callback&&R.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(R,k){delete this.outgoing[R],this.outgoingStore.del({messageId:R},(x,$)=>{k(x,$),this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue()})}};L.VERSION=m.MQTTJS_VERSION,e.default=L}),xl=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=Ao(),t=class{constructor(){this.numberAllocator=new i.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};e.default=t});function Mt(e){throw new RangeError(ko[e])}function Zi(e,i){let t=e.split("@"),l="";t.length>1&&(l=t[0]+"@",e=t[1]);let f=function(s,r){let o=[],n=s.length;for(;n--;)o[n]=r(s[n]);return o}((e=e.replace(To,".")).split("."),i).join(".");return l+f}function Xi(e){let i=[],t=0,l=e.length;for(;t<l;){let f=e.charCodeAt(t++);if(f>=55296&&f<=56319&&t<l){let s=e.charCodeAt(t++);(64512&s)==56320?i.push(((1023&f)<<10)+(1023&s)+65536):(i.push(f),t--)}else i.push(f)}return i}var es,ts,To,ko,nt,hr,$r,qr,Hr,Vr,Rt,Ml=Ke(()=>{ae(),ue(),le(),es=/^xn--/,ts=/[^\0-\x7E]/,To=/[\x2E\u3002\uFF0E\uFF61]/g,ko={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},nt=Math.floor,hr=String.fromCharCode,$r=function(e,i){return e+22+75*(e<26)-((i!=0)<<5)},qr=function(e,i,t){let l=0;for(e=t?nt(e/700):e>>1,e+=nt(e/i);e>455;l+=36)e=nt(e/35);return nt(l+36*e/(e+38))},Hr=function(e){let i=[],t=e.length,l=0,f=128,s=72,r=e.lastIndexOf("-");r<0&&(r=0);for(let n=0;n<r;++n)e.charCodeAt(n)>=128&&Mt("not-basic"),i.push(e.charCodeAt(n));for(let n=r>0?r+1:0;n<t;){let a=l;for(let p=1,g=36;;g+=36){n>=t&&Mt("invalid-input");let b=(o=e.charCodeAt(n++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36;(b>=36||b>nt((2147483647-l)/p))&&Mt("overflow"),l+=b*p;let m=g<=s?1:g>=s+26?26:g-s;if(b<m)break;let y=36-m;p>nt(2147483647/y)&&Mt("overflow"),p*=y}let c=i.length+1;s=qr(l-a,c,a==0),nt(l/c)>2147483647-f&&Mt("overflow"),f+=nt(l/c),l%=c,i.splice(l++,0,f)}var o;return String.fromCodePoint(...i)},Vr=function(e){let i=[],t=(e=Xi(e)).length,l=128,f=0,s=72;for(let n of e)n<128&&i.push(hr(n));let r=i.length,o=r;for(r&&i.push("-");o<t;){let n=2147483647;for(let c of e)c>=l&&c<n&&(n=c);let a=o+1;n-l>nt((2147483647-f)/a)&&Mt("overflow"),f+=(n-l)*a,l=n;for(let c of e)if(c<l&&++f>2147483647&&Mt("overflow"),c==l){let p=f;for(let g=36;;g+=36){let b=g<=s?1:g>=s+26?26:g-s;if(p<b)break;let m=p-b,y=36-b;i.push(hr($r(b+m%y,0))),p=nt(m/y)}i.push(hr($r(p,0))),s=qr(f,a,o==r),f=0,++o}++f,++l}return i.join("")},Rt={version:"2.1.0",ucs2:{decode:Xi,encode:e=>String.fromCodePoint(...e)},decode:Hr,encode:Vr,toASCII:function(e){return Zi(e,function(i){return ts.test(i)?"xn--"+Vr(i):i})},toUnicode:function(e){return Zi(e,function(i){return es.test(i)?Hr(i.slice(4).toLowerCase()):i})}},Rt.decode,Rt.encode,Rt.toASCII,Rt.toUnicode,Rt.ucs2,Rt.version});function Ul(e,i){return Object.prototype.hasOwnProperty.call(e,i)}var rs,Kt,ns,lt,Ll=Ke(()=>{ae(),ue(),le(),rs=function(e,i,t,l){i=i||"&",t=t||"=";var f={};if(typeof e!="string"||e.length===0)return f;var s=/\+/g;e=e.split(i);var r=1e3;l&&typeof l.maxKeys=="number"&&(r=l.maxKeys);var o=e.length;r>0&&o>r&&(o=r);for(var n=0;n<o;++n){var a,c,p,g,b=e[n].replace(s,"%20"),m=b.indexOf(t);m>=0?(a=b.substr(0,m),c=b.substr(m+1)):(a=b,c=""),p=decodeURIComponent(a),g=decodeURIComponent(c),Ul(f,p)?Array.isArray(f[p])?f[p].push(g):f[p]=[f[p],g]:f[p]=g}return f},Kt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ns=function(e,i,t,l){return i=i||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(f){var s=encodeURIComponent(Kt(f))+t;return Array.isArray(e[f])?e[f].map(function(r){return s+encodeURIComponent(Kt(r))}).join(i):s+encodeURIComponent(Kt(e[f]))}).join(i):l?encodeURIComponent(Kt(l))+t+encodeURIComponent(Kt(e)):""},lt={},lt.decode=lt.parse=rs,lt.encode=lt.stringify=ns,lt.decode,lt.encode,lt.parse,lt.stringify});function fi(){throw new Error("setTimeout has not been defined")}function ci(){throw new Error("clearTimeout has not been defined")}function Ro(e){if(pt===setTimeout)return setTimeout(e,0);if((pt===fi||!pt)&&setTimeout)return pt=setTimeout,setTimeout(e,0);try{return pt(e,0)}catch{try{return pt.call(null,e,0)}catch{return pt.call(this||Wt,e,0)}}}function Nl(){$t&&Dt&&($t=!1,Dt.length?ht=Dt.concat(ht):ar=-1,ht.length&&Oo())}function Oo(){if(!$t){var e=Ro(Nl);$t=!0;for(var i=ht.length;i;){for(Dt=ht,ht=[];++ar<i;)Dt&&Dt[ar].run();ar=-1,i=ht.length}Dt=null,$t=!1,function(t){if(gt===clearTimeout)return clearTimeout(t);if((gt===ci||!gt)&&clearTimeout)return gt=clearTimeout,clearTimeout(t);try{gt(t)}catch{try{return gt.call(null,t)}catch{return gt.call(this||Wt,t)}}}(e)}}function is(e,i){(this||Wt).fun=e,(this||Wt).array=i}function ft(){}var ss,pt,gt,Wt,Fe,Dt,ht,$t,ar,De,jl=Ke(()=>{ae(),ue(),le(),Wt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Fe=ss={},function(){try{pt=typeof setTimeout=="function"?setTimeout:fi}catch{pt=fi}try{gt=typeof clearTimeout=="function"?clearTimeout:ci}catch{gt=ci}}(),ht=[],$t=!1,ar=-1,Fe.nextTick=function(e){var i=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)i[t-1]=arguments[t];ht.push(new is(e,i)),ht.length!==1||$t||Ro(Oo)},is.prototype.run=function(){(this||Wt).fun.apply(null,(this||Wt).array)},Fe.title="browser",Fe.browser=!0,Fe.env={},Fe.argv=[],Fe.version="",Fe.versions={},Fe.on=ft,Fe.addListener=ft,Fe.once=ft,Fe.off=ft,Fe.removeListener=ft,Fe.removeAllListeners=ft,Fe.emit=ft,Fe.prependListener=ft,Fe.prependOnceListener=ft,Fe.listeners=function(e){return[]},Fe.binding=function(e){throw new Error("process.binding is not supported")},Fe.cwd=function(){return"/"},Fe.chdir=function(e){throw new Error("process.chdir is not supported")},Fe.umask=function(){return 0},De=ss,De.addListener,De.argv,De.binding,De.browser,De.chdir,De.cwd,De.emit,De.env,De.listeners,De.nextTick,De.off,De.on,De.once,De.prependListener,De.prependOnceListener,De.removeAllListeners,De.removeListener,De.title,De.umask,De.version,De.versions});function Dl(){if(di)return _r;di=!0;var e=_r={},i,t;function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=l}catch{i=l}try{typeof clearTimeout=="function"?t=clearTimeout:t=f}catch{t=f}})();function s(y){if(i===setTimeout)return setTimeout(y,0);if((i===l||!i)&&setTimeout)return i=setTimeout,setTimeout(y,0);try{return i(y,0)}catch{try{return i.call(null,y,0)}catch{return i.call(this||Lt,y,0)}}}function r(y){if(t===clearTimeout)return clearTimeout(y);if((t===f||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(y);try{return t(y)}catch{try{return t.call(null,y)}catch{return t.call(this||Lt,y)}}}var o=[],n=!1,a,c=-1;function p(){!n||!a||(n=!1,a.length?o=a.concat(o):c=-1,o.length&&g())}function g(){if(!n){var y=s(p);n=!0;for(var A=o.length;A;){for(a=o,o=[];++c<A;)a&&a[c].run();c=-1,A=o.length}a=null,n=!1,r(y)}}e.nextTick=function(y){var A=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)A[M-1]=arguments[M];o.push(new b(y,A)),o.length===1&&!n&&s(g)};function b(y,A){(this||Lt).fun=y,(this||Lt).array=A}b.prototype.run=function(){(this||Lt).fun.apply(null,(this||Lt).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function m(){}return e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},_r}var _r,di,Lt,Le,Co=Ke(()=>{ae(),ue(),le(),_r={},di=!1,Lt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Le=Dl(),Le.platform="browser",Le.addListener,Le.argv,Le.binding,Le.browser,Le.chdir,Le.cwd,Le.emit,Le.env,Le.listeners,Le.nextTick,Le.off,Le.on,Le.once,Le.prependListener,Le.prependOnceListener,Le.removeAllListeners,Le.removeListener,Le.title,Le.umask,Le.version,Le.versions});function Fl(){if(pi)return vr;pi=!0;var e=Le;function i(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,r){for(var o="",n=0,a=-1,c=0,p,g=0;g<=s.length;++g){if(g<s.length)p=s.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||n!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var b=o.lastIndexOf("/");if(b!==o.length-1){b===-1?(o="",n=0):(o=o.slice(0,b),n=o.length-1-o.lastIndexOf("/")),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",n=0,a=g,c=0;continue}}r&&(o.length>0?o+="/..":o="..",n=2)}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g),n=g-a-1;a=g,c=0}else p===46&&c!==-1?++c:c=-1}return o}function l(s,r){var o=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return o?o===r.root?o+n:o+s+n:n}var f={resolve:function(){for(var s="",r=!1,o,n=arguments.length-1;n>=-1&&!r;n--){var a;n>=0?a=arguments[n]:(o===void 0&&(o=e.cwd()),a=o),i(a),a.length!==0&&(s=a+"/"+s,r=a.charCodeAt(0)===47)}return s=t(s,!r),r?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(i(s),s.length===0)return".";var r=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!r),s.length===0&&!r&&(s="."),s.length>0&&o&&(s+="/"),r?"/"+s:s},isAbsolute:function(s){return i(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,r=0;r<arguments.length;++r){var o=arguments[r];i(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":f.normalize(s)},relative:function(s,r){if(i(s),i(r),s===r||(s=f.resolve(s),r=f.resolve(r),s===r))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var n=s.length,a=n-o,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,b=a<g?a:g,m=-1,y=0;y<=b;++y){if(y===b){if(g>b){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else a>b&&(s.charCodeAt(o+y)===47?m=y:y===0&&(m=0));break}var A=s.charCodeAt(o+y),M=r.charCodeAt(c+y);if(A!==M)break;A===47&&(m=y)}var I="";for(y=o+m+1;y<=n;++y)(y===n||s.charCodeAt(y)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+r.slice(c+m):(c+=m,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(i(s),s.length===0)return".";for(var r=s.charCodeAt(0),o=r===47,n=-1,a=!0,c=s.length-1;c>=1;--c)if(r=s.charCodeAt(c),r===47){if(!a){n=c;break}}else a=!1;return n===-1?o?"/":".":o&&n===1?"//":s.slice(0,n)},basename:function(s,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');i(s);var o=0,n=-1,a=!0,c;if(r!==void 0&&r.length>0&&r.length<=s.length){if(r.length===s.length&&r===s)return"";var p=r.length-1,g=-1;for(c=s.length-1;c>=0;--c){var b=s.charCodeAt(c);if(b===47){if(!a){o=c+1;break}}else g===-1&&(a=!1,g=c+1),p>=0&&(b===r.charCodeAt(p)?--p===-1&&(n=c):(p=-1,n=g))}return o===n?n=g:n===-1&&(n=s.length),s.slice(o,n)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){o=c+1;break}}else n===-1&&(a=!1,n=c+1);return n===-1?"":s.slice(o,n)}},extname:function(s){i(s);for(var r=-1,o=0,n=-1,a=!0,c=0,p=s.length-1;p>=0;--p){var g=s.charCodeAt(p);if(g===47){if(!a){o=p+1;break}continue}n===-1&&(a=!1,n=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||n===-1||c===0||c===1&&r===n-1&&r===o+1?"":s.slice(r,n)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){i(s);var r={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return r;var o=s.charCodeAt(0),n=o===47,a;n?(r.root="/",a=1):a=0;for(var c=-1,p=0,g=-1,b=!0,m=s.length-1,y=0;m>=a;--m){if(o=s.charCodeAt(m),o===47){if(!b){p=m+1;break}continue}g===-1&&(b=!1,g=m+1),o===46?c===-1?c=m:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&n?r.base=r.name=s.slice(1,g):r.base=r.name=s.slice(p,g)):(p===0&&n?(r.name=s.slice(1,c),r.base=s.slice(1,g)):(r.name=s.slice(p,c),r.base=s.slice(p,g)),r.ext=s.slice(c,g)),p>0?r.dir=s.slice(0,p-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,vr=f,vr}var vr,pi,gi,Wl=Ke(()=>{ae(),ue(),le(),Co(),vr={},pi=!1,gi=Fl()}),Po={};qt(Po,{URL:()=>Qo,Url:()=>Ho,default:()=>Pe,fileURLToPath:()=>Bo,format:()=>Vo,parse:()=>Yo,pathToFileURL:()=>xo,resolve:()=>zo,resolveObject:()=>Ko});function rt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function rr(e,i,t){if(e&&st.isObject(e)&&e instanceof rt)return e;var l=new rt;return l.parse(e,i,t),l}function $l(){if(bi)return Er;bi=!0;var e=De;function i(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,r){for(var o="",n=0,a=-1,c=0,p,g=0;g<=s.length;++g){if(g<s.length)p=s.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||n!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var b=o.lastIndexOf("/");if(b!==o.length-1){b===-1?(o="",n=0):(o=o.slice(0,b),n=o.length-1-o.lastIndexOf("/")),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",n=0,a=g,c=0;continue}}r&&(o.length>0?o+="/..":o="..",n=2)}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g),n=g-a-1;a=g,c=0}else p===46&&c!==-1?++c:c=-1}return o}function l(s,r){var o=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return o?o===r.root?o+n:o+s+n:n}var f={resolve:function(){for(var s="",r=!1,o,n=arguments.length-1;n>=-1&&!r;n--){var a;n>=0?a=arguments[n]:(o===void 0&&(o=e.cwd()),a=o),i(a),a.length!==0&&(s=a+"/"+s,r=a.charCodeAt(0)===47)}return s=t(s,!r),r?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(i(s),s.length===0)return".";var r=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!r),s.length===0&&!r&&(s="."),s.length>0&&o&&(s+="/"),r?"/"+s:s},isAbsolute:function(s){return i(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,r=0;r<arguments.length;++r){var o=arguments[r];i(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":f.normalize(s)},relative:function(s,r){if(i(s),i(r),s===r||(s=f.resolve(s),r=f.resolve(r),s===r))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var n=s.length,a=n-o,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,b=a<g?a:g,m=-1,y=0;y<=b;++y){if(y===b){if(g>b){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else a>b&&(s.charCodeAt(o+y)===47?m=y:y===0&&(m=0));break}var A=s.charCodeAt(o+y),M=r.charCodeAt(c+y);if(A!==M)break;A===47&&(m=y)}var I="";for(y=o+m+1;y<=n;++y)(y===n||s.charCodeAt(y)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+r.slice(c+m):(c+=m,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(i(s),s.length===0)return".";for(var r=s.charCodeAt(0),o=r===47,n=-1,a=!0,c=s.length-1;c>=1;--c)if(r=s.charCodeAt(c),r===47){if(!a){n=c;break}}else a=!1;return n===-1?o?"/":".":o&&n===1?"//":s.slice(0,n)},basename:function(s,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');i(s);var o=0,n=-1,a=!0,c;if(r!==void 0&&r.length>0&&r.length<=s.length){if(r.length===s.length&&r===s)return"";var p=r.length-1,g=-1;for(c=s.length-1;c>=0;--c){var b=s.charCodeAt(c);if(b===47){if(!a){o=c+1;break}}else g===-1&&(a=!1,g=c+1),p>=0&&(b===r.charCodeAt(p)?--p===-1&&(n=c):(p=-1,n=g))}return o===n?n=g:n===-1&&(n=s.length),s.slice(o,n)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){o=c+1;break}}else n===-1&&(a=!1,n=c+1);return n===-1?"":s.slice(o,n)}},extname:function(s){i(s);for(var r=-1,o=0,n=-1,a=!0,c=0,p=s.length-1;p>=0;--p){var g=s.charCodeAt(p);if(g===47){if(!a){o=p+1;break}continue}n===-1&&(a=!1,n=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||n===-1||c===0||c===1&&r===n-1&&r===o+1?"":s.slice(r,n)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){i(s);var r={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return r;var o=s.charCodeAt(0),n=o===47,a;n?(r.root="/",a=1):a=0;for(var c=-1,p=0,g=-1,b=!0,m=s.length-1,y=0;m>=a;--m){if(o=s.charCodeAt(m),o===47){if(!b){p=m+1;break}continue}g===-1&&(b=!1,g=m+1),o===46?c===-1?c=m:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&n?r.base=r.name=s.slice(1,g):r.base=r.name=s.slice(p,g)):(p===0&&n?(r.name=s.slice(1,c),r.base=s.slice(1,g)):(r.name=s.slice(p,c),r.base=s.slice(p,g)),r.ext=s.slice(c,g)),p>0?r.dir=s.slice(0,p-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,Er=f,Er}function ql(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Tr?Hl(e):Vl(e)}function Hl(e){let i=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let f=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&f===102||t[l+1]==="5"&&f===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(jo,"\\"),t=decodeURIComponent(t),i!=="")return`\\\\${i}${t}`;{let l=t.codePointAt(1)|32,f=t[2];if(l<Lo||l>No||f!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function Vl(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let i=e.pathname;for(let t=0;t<i.length;t++)if(i[t]==="%"){let l=i.codePointAt(t+2)||32;if(i[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(i)}function zl(e){let i=mi.resolve(e),t=e.charCodeAt(e.length-1);(t===Uo||Tr&&t===Mo)&&i[i.length-1]!==mi.sep&&(i+="/");let l=new URL("file://");return i.includes("%")&&(i=i.replace(Do,"%25")),!Tr&&i.includes("\\")&&(i=i.replace(Fo,"%5C")),i.includes(`
`)&&(i=i.replace(Wo,"%0A")),i.includes("\r")&&(i=i.replace($o,"%0D")),i.includes("	")&&(i=i.replace(qo,"%09")),l.pathname=i,l}function Bo(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return kr?Kl(e):Yl(e)}function Kl(e){let i=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let f=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&f===102||t[l+1]==="5"&&f===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(ea,"\\"),t=decodeURIComponent(t),i!=="")return`\\\\${i}${t}`;{let l=t.codePointAt(1)|32,f=t[2];if(l<Zo||l>Xo||f!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function Yl(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let i=e.pathname;for(let t=0;t<i.length;t++)if(i[t]==="%"){let l=i.codePointAt(t+2)||32;if(i[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(i)}function xo(e){let i=gi.resolve(e),t=e.charCodeAt(e.length-1);(t===Jo||kr&&t===Go)&&i[i.length-1]!==gi.sep&&(i+="/");let l=new URL("file://");return i.includes("%")&&(i=i.replace(ta,"%25")),!kr&&i.includes("\\")&&(i=i.replace(ra,"%5C")),i.includes(`
`)&&(i=i.replace(na,"%0A")),i.includes("\r")&&(i=i.replace(ia,"%0D")),i.includes("	")&&(i=i.replace(sa,"%09")),l.pathname=i,l}var Pe,os,st,as,ls,us,hs,fr,zr,Kr,Yr,fs,cs,cr,Ut,dr,Er,bi,mi,ds,Mo,Uo,Lo,No,Tr,jo,Do,Fo,Wo,$o,qo,ps,Ho,Vo,zo,Ko,Yo,Qo,Go,Jo,Zo,Xo,kr,ea,ta,ra,na,ia,sa,Ql=Ke(()=>{ae(),ue(),le(),Ml(),Ll(),jl(),Wl(),Co(),Pe={},os=Rt,st={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Pe.parse=rr,Pe.resolve=function(e,i){return rr(e,!1,!0).resolve(i)},Pe.resolveObject=function(e,i){return e?rr(e,!1,!0).resolveObject(i):i},Pe.format=function(e){return st.isString(e)&&(e=rr(e)),e instanceof rt?e.format():rt.prototype.format.call(e)},Pe.Url=rt,as=/^([a-z0-9.+-]+:)/i,ls=/:[0-9]*$/,us=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,hs=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),fr=["'"].concat(hs),zr=["%","/","?",";","#"].concat(fr),Kr=["/","?","#"],Yr=/^[+a-z0-9A-Z_-]{0,63}$/,fs=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,cs={javascript:!0,"javascript:":!0},cr={javascript:!0,"javascript:":!0},Ut={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},dr=lt,rt.prototype.parse=function(e,i,t){if(!st.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),f=l!==-1&&l<e.indexOf("#")?"?":"#",s=e.split(f);s[0]=s[0].replace(/\\/g,"/");var r=e=s.join(f);if(r=r.trim(),!t&&e.split("#").length===1){var o=us.exec(r);if(o)return this.path=r,this.href=r,this.pathname=o[1],o[2]?(this.search=o[2],this.query=i?dr.parse(this.search.substr(1)):this.search.substr(1)):i&&(this.search="",this.query={}),this}var n=as.exec(r);if(n){var a=(n=n[0]).toLowerCase();this.protocol=a,r=r.substr(n.length)}if(t||n||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=r.substr(0,2)==="//";!c||n&&cr[n]||(r=r.substr(2),this.slashes=!0)}if(!cr[n]&&(c||n&&!Ut[n])){for(var p,g,b=-1,m=0;m<Kr.length;m++)(y=r.indexOf(Kr[m]))!==-1&&(b===-1||y<b)&&(b=y);for((g=b===-1?r.lastIndexOf("@"):r.lastIndexOf("@",b))!==-1&&(p=r.slice(0,g),r=r.slice(g+1),this.auth=decodeURIComponent(p)),b=-1,m=0;m<zr.length;m++){var y;(y=r.indexOf(zr[m]))!==-1&&(b===-1||y<b)&&(b=y)}b===-1&&(b=r.length),this.host=r.slice(0,b),r=r.slice(b),this.parseHost(),this.hostname=this.hostname||"";var A=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!A)for(var M=this.hostname.split(/\./),I=(m=0,M.length);m<I;m++){var v=M[m];if(v&&!v.match(Yr)){for(var L="",j=0,R=v.length;j<R;j++)v.charCodeAt(j)>127?L+="x":L+=v[j];if(!L.match(Yr)){var k=M.slice(0,m),x=M.slice(m+1),$=v.match(fs);$&&(k.push($[1]),x.unshift($[2])),x.length&&(r="/"+x.join(".")+r),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=os.toASCII(this.hostname));var G=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+G,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),r[0]!=="/"&&(r="/"+r))}if(!cs[a])for(m=0,I=fr.length;m<I;m++){var S=fr[m];if(r.indexOf(S)!==-1){var V=encodeURIComponent(S);V===S&&(V=escape(S)),r=r.split(S).join(V)}}var te=r.indexOf("#");te!==-1&&(this.hash=r.substr(te),r=r.slice(0,te));var Y=r.indexOf("?");if(Y!==-1?(this.search=r.substr(Y),this.query=r.substr(Y+1),i&&(this.query=dr.parse(this.query)),r=r.slice(0,Y)):i&&(this.search="",this.query={}),r&&(this.pathname=r),Ut[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){G=this.pathname||"";var ge=this.search||"";this.path=G+ge}return this.href=this.format(),this},rt.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var i=this.protocol||"",t=this.pathname||"",l=this.hash||"",f=!1,s="";this.host?f=e+this.host:this.hostname&&(f=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port)),this.query&&st.isObject(this.query)&&Object.keys(this.query).length&&(s=dr.stringify(this.query));var r=this.search||s&&"?"+s||"";return i&&i.substr(-1)!==":"&&(i+=":"),this.slashes||(!i||Ut[i])&&f!==!1?(f="//"+(f||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):f||(f=""),l&&l.charAt(0)!=="#"&&(l="#"+l),r&&r.charAt(0)!=="?"&&(r="?"+r),i+f+(t=t.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(r=r.replace("#","%23"))+l},rt.prototype.resolve=function(e){return this.resolveObject(rr(e,!1,!0)).format()},rt.prototype.resolveObject=function(e){if(st.isString(e)){var i=new rt;i.parse(e,!1,!0),e=i}for(var t=new rt,l=Object.keys(this),f=0;f<l.length;f++){var s=l[f];t[s]=this[s]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var r=Object.keys(e),o=0;o<r.length;o++){var n=r[o];n!=="protocol"&&(t[n]=e[n])}return Ut[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!Ut[e.protocol]){for(var a=Object.keys(e),c=0;c<a.length;c++){var p=a[c];t[p]=e[p]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||cr[e.protocol])t.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),t.pathname=g.join("/")}if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var b=t.pathname||"",m=t.search||"";t.path=b+m}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var y=t.pathname&&t.pathname.charAt(0)==="/",A=e.host||e.pathname&&e.pathname.charAt(0)==="/",M=A||y||t.host&&e.pathname,I=M,v=t.pathname&&t.pathname.split("/")||[],L=(g=e.pathname&&e.pathname.split("/")||[],t.protocol&&!Ut[t.protocol]);if(L&&(t.hostname="",t.port=null,t.host&&(v[0]===""?v[0]=t.host:v.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),M=M&&(g[0]===""||v[0]==="")),A)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,v=g;else if(g.length)v||(v=[]),v.pop(),v=v.concat(g),t.search=e.search,t.query=e.query;else if(!st.isNullOrUndefined(e.search))return L&&(t.hostname=t.host=v.shift(),($=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=$.shift(),t.host=t.hostname=$.shift())),t.search=e.search,t.query=e.query,st.isNull(t.pathname)&&st.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!v.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var j=v.slice(-1)[0],R=(t.host||e.host||v.length>1)&&(j==="."||j==="..")||j==="",k=0,x=v.length;x>=0;x--)(j=v[x])==="."?v.splice(x,1):j===".."?(v.splice(x,1),k++):k&&(v.splice(x,1),k--);if(!M&&!I)for(;k--;k)v.unshift("..");!M||v[0]===""||v[0]&&v[0].charAt(0)==="/"||v.unshift(""),R&&v.join("/").substr(-1)!=="/"&&v.push("");var $,G=v[0]===""||v[0]&&v[0].charAt(0)==="/";return L&&(t.hostname=t.host=G?"":v.length?v.shift():"",($=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=$.shift(),t.host=t.hostname=$.shift())),(M=M||t.host&&v.length)&&!G&&v.unshift(""),v.length?t.pathname=v.join("/"):(t.pathname=null,t.path=null),st.isNull(t.pathname)&&st.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},rt.prototype.parseHost=function(){var e=this.host,i=ls.exec(e);i&&((i=i[0])!==":"&&(this.port=i.substr(1)),e=e.substr(0,e.length-i.length)),e&&(this.hostname=e)},Pe.Url,Pe.format,Pe.resolve,Pe.resolveObject,Er={},bi=!1,mi=$l(),ds=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Pe.URL=typeof URL<"u"?URL:null,Pe.pathToFileURL=zl,Pe.fileURLToPath=ql,Pe.Url,Pe.format,Pe.resolve,Pe.resolveObject,Pe.URL,Mo=92,Uo=47,Lo=97,No=122,Tr=ds==="win32",jo=/\//g,Do=/%/g,Fo=/\\/g,Wo=/\n/g,$o=/\r/g,qo=/\t/g,ps=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Pe.URL=typeof URL<"u"?URL:null,Pe.pathToFileURL=xo,Pe.fileURLToPath=Bo,Ho=Pe.Url,Vo=Pe.format,zo=Pe.resolve,Ko=Pe.resolveObject,Yo=Pe.parse,Qo=Pe.URL,Go=92,Jo=47,Zo=97,Xo=122,kr=ps==="win32",ea=/\//g,ta=/%/g,ra=/\\/g,na=/\n/g,ia=/\r/g,sa=/\t/g}),Gl=be((e,i)=>{ae(),ue(),le(),i.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Ri=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var i=zt(),t=(Qe(),xe(Ye));function l(s,r){let o=new Array(s.length);for(let n=0;n<s.length;n++)typeof s[n].chunk=="string"?o[n]=t.Buffer.from(s[n].chunk,"utf8"):o[n]=s[n].chunk;this._write(t.Buffer.concat(o),"binary",r)}e.writev=l;var f=class extends i.Duplex{constructor(s,r,o){super({objectMode:!0}),this.proxy=r,this.socket=o,this.writeQueue=[],s.objectMode||(this._writev=l.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{this.destroyed||this.push(n)})}_read(s){this.proxy.read(s)}_write(s,r,o){this.isSocketOpen?this.writeToProxy(s,r,o):this.writeQueue.push({chunk:s,encoding:r,cb:o})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,r){this.writeQueue=[],this.proxy.destroy(),r(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,r,o){this.proxy.write(s,r)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:r,cb:o}=this.writeQueue.shift();this.writeToProxy(s,r,o)}}};e.BufferedDuplex=f}),pr=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var t=(Qe(),xe(Ye)),l=i(Gl()),f=i(vt()),s=zt(),r=i(xr()),o=Ri(),n=(0,f.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(M,I){let v=`${M.protocol}://${M.hostname}:${M.port}${M.path}`;return typeof M.transformWsUrl=="function"&&(v=M.transformWsUrl(v,M,I)),v}function p(M){let I=M;return M.port||(M.protocol==="wss"?I.port=443:I.port=80),M.path||(I.path="/"),M.wsOptions||(I.wsOptions={}),!r.default&&!M.forceNativeWebSocket&&M.protocol==="wss"&&a.forEach(v=>{Object.prototype.hasOwnProperty.call(M,v)&&!Object.prototype.hasOwnProperty.call(M.wsOptions,v)&&(I.wsOptions[v]=M[v])}),I}function g(M){let I=p(M);if(I.hostname||(I.hostname=I.host),!I.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let v=new URL(document.URL);I.hostname=v.hostname,I.port||(I.port=Number(v.port))}return I.objectMode===void 0&&(I.objectMode=!(I.binary===!0||I.binary===void 0)),I}function b(M,I,v){n("createWebSocket"),n(`protocol: ${v.protocolId} ${v.protocolVersion}`);let L=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";n(`creating new Websocket for url: ${I} and protocol: ${L}`);let j;return v.createWebsocket?j=v.createWebsocket(I,[L],v):j=new l.default(I,[L],v.wsOptions),j}function m(M,I){let v=I.protocolId==="MQIsdp"&&I.protocolVersion===3?"mqttv3.1":"mqtt",L=c(I,M),j;return I.createWebsocket?j=I.createWebsocket(L,[v],I):j=new WebSocket(L,[v]),j.binaryType="arraybuffer",j}var y=(M,I)=>{n("streamBuilder");let v=p(I);v.hostname=v.hostname||v.host||"localhost";let L=c(v,M),j=b(M,L,v),R=l.default.createWebSocketStream(j,v.wsOptions);return R.url=L,j.on("close",()=>{R.destroy()}),R};e.streamBuilder=y;var A=(M,I)=>{n("browserStreamBuilder");let v,L=g(I).browserBufferSize||1024*512,j=I.browserBufferTimeout||1e3,R=!I.objectMode,k=m(M,I),x=G(I,Y,ge);I.objectMode||(x._writev=o.writev.bind(x)),x.on("close",()=>{k.close()});let $=typeof k.addEventListener<"u";k.readyState===k.OPEN?(v=x,v.socket=k):(v=new o.BufferedDuplex(I,x,k),$?k.addEventListener("open",re):k.onopen=re),$?(k.addEventListener("close",S),k.addEventListener("error",V),k.addEventListener("message",te)):(k.onclose=S,k.onerror=V,k.onmessage=te);function G(se,H,me){let ie=new s.Transform({objectMode:se.objectMode});return ie._write=H,ie._flush=me,ie}function re(){n("WebSocket onOpen"),v instanceof o.BufferedDuplex&&v.socketReady()}function S(se){n("WebSocket onClose",se),v.end(),v.destroy()}function V(se){n("WebSocket onError",se);let H=new Error("WebSocket error");H.event=se,v.destroy(H)}async function te(se){let{data:H}=se;H instanceof ArrayBuffer?H=t.Buffer.from(H):H instanceof Blob?H=t.Buffer.from(await new Response(H).arrayBuffer()):H=t.Buffer.from(H,"utf8"),x&&!x.destroyed&&x.push(H)}function Y(se,H,me){if(k.bufferedAmount>L){setTimeout(Y,j,se,H,me);return}R&&typeof se=="string"&&(se=t.Buffer.from(se,"utf8"));try{k.send(se)}catch(ie){return me(ie)}me()}function ge(se){k.close(),se()}return v};e.browserStreamBuilder=A}),Oi={};qt(Oi,{Server:()=>Ne,Socket:()=>Ne,Stream:()=>Ne,_createServerHandle:()=>Ne,_normalizeArgs:()=>Ne,_setSimultaneousAccepts:()=>Ne,connect:()=>Ne,createConnection:()=>Ne,createServer:()=>Ne,default:()=>oa,isIP:()=>Ne,isIPv4:()=>Ne,isIPv6:()=>Ne});function Ne(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var oa,aa=Ke(()=>{ae(),ue(),le(),oa={_createServerHandle:Ne,_normalizeArgs:Ne,_setSimultaneousAccepts:Ne,connect:Ne,createConnection:Ne,createServer:Ne,isIP:Ne,isIPv4:Ne,isIPv6:Ne,Server:Ne,Socket:Ne,Stream:Ne}}),gs=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=i((aa(),xe(Oi))),l=i(vt()),f=(0,l.default)("mqttjs:tcp"),s=(r,o)=>{o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost";let{port:n,path:a}=o,c=o.hostname;return f("port %d and host %s",n,c),t.default.createConnection({port:n,host:c,path:a})};e.default=s}),la={};qt(la,{default:()=>ua});var ua,Jl=Ke(()=>{ae(),ue(),le(),ua={}}),bs=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var t=i((Jl(),xe(la))),l=i((aa(),xe(Oi))),f=i(vt()),s=(0,f.default)("mqttjs:tls"),r=(o,n)=>{n.port=n.port||8883,n.host=n.hostname||n.host||"localhost",l.default.isIP(n.host)===0&&(n.servername=n.host),n.rejectUnauthorized=n.rejectUnauthorized!==!1,delete n.path,s("port %d host %s rejectUnauthorized %b",n.port,n.host,n.rejectUnauthorized);let a=t.default.connect(n);a.on("secureConnect",()=>{n.rejectUnauthorized&&!a.authorized?a.emit("error",new Error("TLS not authorized")):a.removeListener("error",c)});function c(p){n.rejectUnauthorized&&o.emit("error",p),a.end()}return a.on("error",c),a};e.default=r}),ms=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=(Qe(),xe(Ye)),t=zt(),l=Ri(),f,s,r;function o(){let g=new t.Transform;return g._write=(b,m,y)=>{f.send({data:b.buffer,success(){y()},fail(A){y(new Error(A))}})},g._flush=b=>{f.close({success(){b()}})},g}function n(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function a(g,b){let m=g.protocol==="wxs"?"wss":"ws",y=`${m}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(y=`${m}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,b)),y}function c(){f.onOpen(()=>{r.socketReady()}),f.onMessage(g=>{let{data:b}=g;b instanceof ArrayBuffer?b=i.Buffer.from(b):b=i.Buffer.from(b,"utf8"),s.push(b)}),f.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),f.onError(g=>{let b=new Error(g.errMsg);r.destroy(b)})}var p=(g,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let m=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";n(b);let y=a(b,g);f=wx.connectSocket({url:y,protocols:[m]}),s=o(),r=new l.BufferedDuplex(b,s,f),r._destroy=(M,I)=>{f.close({success(){I&&I(M)}})};let A=r.destroy;return r.destroy=(M,I)=>(r.destroy=A,setTimeout(()=>{f.close({fail(){r._destroy(M,I)}})},0),r),c(),r};e.default=p}),ys=be(e=>{ae(),ue(),le(),Object.defineProperty(e,"__esModule",{value:!0});var i=(Qe(),xe(Ye)),t=zt(),l=Ri(),f,s,r,o=!1;function n(){let b=new t.Transform;return b._write=(m,y,A)=>{f.sendSocketMessage({data:m.buffer,success(){A()},fail(){A(new Error)}})},b._flush=m=>{f.closeSocket({success(){m()}})},b}function a(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,m){let y=b.protocol==="alis"?"wss":"ws",A=`${y}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(A=`${y}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(A=b.transformWsUrl(A,b,m)),A}function p(){o||(o=!0,f.onSocketOpen(()=>{r.socketReady()}),f.onSocketMessage(b=>{if(typeof b.data=="string"){let m=i.Buffer.from(b.data,"base64");s.push(m)}else{let m=new FileReader;m.addEventListener("load",()=>{let y=m.result;y instanceof ArrayBuffer?y=i.Buffer.from(y):y=i.Buffer.from(y,"utf8"),s.push(y)}),m.readAsArrayBuffer(b.data)}}),f.onSocketClose(()=>{r.end(),r.destroy()}),f.onSocketError(b=>{r.destroy(b)}))}var g=(b,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let y=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";a(m);let A=c(m,b);return f=m.my,f.connectSocket({url:A,protocols:y}),s=n(),r=new l.BufferedDuplex(m,s,f),p(),r};e.default=g}),Zl=be(e=>{ae(),ue(),le();var i=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var t=i(vt()),l=i((Ql(),xe(Po))),f=i(ui()),s=i(xr());typeof(Ce==null?void 0:Ce.nextTick)!="function"&&(Ce.nextTick=setImmediate);var r=(0,t.default)("mqttjs"),o=null;function n(p){let g;p.auth&&(g=p.auth.match(/^(.+):(.+)$/),g?(p.username=g[1],p.password=g[2]):p.username=p.auth)}function a(p,g){var b,m,y,A;if(r("connecting to an MQTT broker..."),typeof p=="object"&&!g&&(g=p,p=""),g=g||{},p&&typeof p=="string"){let v=l.default.parse(p,!0),L={};if(v.port!=null&&(L.port=Number(v.port)),L.host=v.hostname,L.query=v.query,L.auth=v.auth,L.protocol=v.protocol,L.path=v.path,L.protocol=(b=L.protocol)===null||b===void 0?void 0:b.replace(/:$/,""),g=Object.assign(Object.assign({},L),g),!g.protocol)throw new Error("Missing protocol")}if(g.unixSocket=g.unixSocket||((m=g.protocol)===null||m===void 0?void 0:m.includes("+unix")),g.unixSocket?g.protocol=g.protocol.replace("+unix",""):!(!((y=g.protocol)===null||y===void 0)&&y.startsWith("ws"))&&!(!((A=g.protocol)===null||A===void 0)&&A.startsWith("wx"))&&delete g.path,n(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(o||(o={},!s.default&&!g.forceNativeWebSocket?(o.ws=pr().streamBuilder,o.wss=pr().streamBuilder,o.mqtt=gs().default,o.tcp=gs().default,o.ssl=bs().default,o.tls=o.ssl,o.mqtts=bs().default):(o.ws=pr().browserStreamBuilder,o.wss=pr().browserStreamBuilder,o.wx=ms().default,o.wxs=ms().default,o.ali=ys().default,o.alis=ys().default)),!o[g.protocol]){let v=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((L,j)=>v&&j%2===0?!1:typeof o[L]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function M(v){return g.servers&&((!v._reconnectCount||v._reconnectCount===g.servers.length)&&(v._reconnectCount=0),g.host=g.servers[v._reconnectCount].host,g.port=g.servers[v._reconnectCount].port,g.protocol=g.servers[v._reconnectCount].protocol?g.servers[v._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,v._reconnectCount++),r("calling streambuilder for",g.protocol),o[g.protocol](v,g)}let I=new f.default(M,g);return I.on("error",()=>{}),I}function c(p,g,b=!0){return new Promise((m,y)=>{let A=a(p,g),M={connect:v=>{I(),m(A)},end:()=>{I(),m(A)},error:v=>{I(),A.end(),y(v)}};b===!1&&(M.close=()=>{M.error(new Error("Couldn't connect to server"))});function I(){Object.keys(M).forEach(v=>{A.off(v,M[v])})}Object.keys(M).forEach(v=>{A.on(v,M[v])})})}e.connectAsync=c,e.default=a}),ws=be(e=>{ae(),ue(),le();var i=e&&e.__createBinding||(Object.create?function(b,m,y,A){A===void 0&&(A=y);var M=Object.getOwnPropertyDescriptor(m,y);(!M||("get"in M?!m.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(b,A,M)}:function(b,m,y,A){A===void 0&&(A=y),b[A]=m[y]}),t=e&&e.__setModuleDefault||(Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m}),l=e&&e.__importStar||function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&i(m,b,y);return t(m,b),m},f=e&&e.__exportStar||function(b,m){for(var y in b)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&i(m,b,y)},s=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var r=s(ui());e.MqttClient=r.default;var o=s(ao());e.DefaultMessageIdProvider=o.default;var n=s(xl());e.UniqueMessageIdProvider=n.default;var a=s(lo());e.Store=a.default;var c=l(Zl());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var p=s(Io());e.KeepaliveManager=p.default,e.Client=r.default,f(ui(),e),f(Zt(),e);var g=Br();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return g.ReasonCodes}})}),Xl=be(e=>{ae(),ue(),le();var i=e&&e.__createBinding||(Object.create?function(r,o,n,a){a===void 0&&(a=n);var c=Object.getOwnPropertyDescriptor(o,n);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[n]}}),Object.defineProperty(r,a,c)}:function(r,o,n,a){a===void 0&&(a=n),r[a]=o[n]}),t=e&&e.__setModuleDefault||(Object.create?function(r,o){Object.defineProperty(r,"default",{enumerable:!0,value:o})}:function(r,o){r.default=o}),l=e&&e.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(r!=null)for(var n in r)n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)&&i(o,r,n);return t(o,r),o},f=e&&e.__exportStar||function(r,o){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(o,n)&&i(o,r,n)};Object.defineProperty(e,"__esModule",{value:!0});var s=l(ws());e.default=s,f(ws(),e)});const tu=Xl();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/export{tu as m};
